(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();var eI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vh(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function tI(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var a=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:function(){return n[i]}})}),t}var cp={exports:{}},$u={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b0;function nI(){if(b0)return $u;b0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:n,type:i,key:c,ref:a!==void 0?a:null,props:l}}return $u.Fragment=e,$u.jsx=t,$u.jsxs=t,$u}var w0;function rI(){return w0||(w0=1,cp.exports=nI()),cp.exports}var O=rI(),fp={exports:{}},Ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S0;function iI(){if(S0)return Ye;S0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function E(F){return F===null||typeof F!="object"?null:(F=_&&F[_]||F["@@iterator"],typeof F=="function"?F:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,$={};function j(F,he,Re){this.props=F,this.context=he,this.refs=$,this.updater=Re||C}j.prototype.isReactComponent={},j.prototype.setState=function(F,he){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,he,"setState")},j.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function H(){}H.prototype=j.prototype;function Y(F,he,Re){this.props=F,this.context=he,this.refs=$,this.updater=Re||C}var z=Y.prototype=new H;z.constructor=Y,P(z,j.prototype),z.isPureReactComponent=!0;var re=Array.isArray,se={H:null,A:null,T:null,S:null},fe=Object.prototype.hasOwnProperty;function U(F,he,Re,be,ve,Me){return Re=Me.ref,{$$typeof:n,type:F,key:he,ref:Re!==void 0?Re:null,props:Me}}function k(F,he){return U(F.type,he,void 0,void 0,void 0,F.props)}function R(F){return typeof F=="object"&&F!==null&&F.$$typeof===n}function M(F){var he={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(Re){return he[Re]})}var B=/\/+/g;function G(F,he){return typeof F=="object"&&F!==null&&F.key!=null?M(""+F.key):he.toString(36)}function L(){}function Qe(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(L,L):(F.status="pending",F.then(function(he){F.status==="pending"&&(F.status="fulfilled",F.value=he)},function(he){F.status==="pending"&&(F.status="rejected",F.reason=he)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function Be(F,he,Re,be,ve){var Me=typeof F;(Me==="undefined"||Me==="boolean")&&(F=null);var Fe=!1;if(F===null)Fe=!0;else switch(Me){case"bigint":case"string":case"number":Fe=!0;break;case"object":switch(F.$$typeof){case n:case e:Fe=!0;break;case y:return Fe=F._init,Be(Fe(F._payload),he,Re,be,ve)}}if(Fe)return ve=ve(F),Fe=be===""?"."+G(F,0):be,re(ve)?(Re="",Fe!=null&&(Re=Fe.replace(B,"$&/")+"/"),Be(ve,he,Re,"",function(_t){return _t})):ve!=null&&(R(ve)&&(ve=k(ve,Re+(ve.key==null||F&&F.key===ve.key?"":(""+ve.key).replace(B,"$&/")+"/")+Fe)),he.push(ve)),1;Fe=0;var Lt=be===""?".":be+":";if(re(F))for(var et=0;et<F.length;et++)be=F[et],Me=Lt+G(be,et),Fe+=Be(be,he,Re,Me,ve);else if(et=E(F),typeof et=="function")for(F=et.call(F),et=0;!(be=F.next()).done;)be=be.value,Me=Lt+G(be,et++),Fe+=Be(be,he,Re,Me,ve);else if(Me==="object"){if(typeof F.then=="function")return Be(Qe(F),he,Re,be,ve);throw he=String(F),Error("Objects are not valid as a React child (found: "+(he==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":he)+"). If you meant to render a collection of children, use an array instead.")}return Fe}function pe(F,he,Re){if(F==null)return F;var be=[],ve=0;return Be(F,be,"","",function(Me){return he.call(Re,Me,ve++)}),be}function Te(F){if(F._status===-1){var he=F._result;he=he(),he.then(function(Re){(F._status===0||F._status===-1)&&(F._status=1,F._result=Re)},function(Re){(F._status===0||F._status===-1)&&(F._status=2,F._result=Re)}),F._status===-1&&(F._status=0,F._result=he)}if(F._status===1)return F._result.default;throw F._result}var ge=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var he=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(he))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)};function qe(){}return Ye.Children={map:pe,forEach:function(F,he,Re){pe(F,function(){he.apply(this,arguments)},Re)},count:function(F){var he=0;return pe(F,function(){he++}),he},toArray:function(F){return pe(F,function(he){return he})||[]},only:function(F){if(!R(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Ye.Component=j,Ye.Fragment=t,Ye.Profiler=a,Ye.PureComponent=Y,Ye.StrictMode=i,Ye.Suspense=f,Ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=se,Ye.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ye.cache=function(F){return function(){return F.apply(null,arguments)}},Ye.cloneElement=function(F,he,Re){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var be=P({},F.props),ve=F.key,Me=void 0;if(he!=null)for(Fe in he.ref!==void 0&&(Me=void 0),he.key!==void 0&&(ve=""+he.key),he)!fe.call(he,Fe)||Fe==="key"||Fe==="__self"||Fe==="__source"||Fe==="ref"&&he.ref===void 0||(be[Fe]=he[Fe]);var Fe=arguments.length-2;if(Fe===1)be.children=Re;else if(1<Fe){for(var Lt=Array(Fe),et=0;et<Fe;et++)Lt[et]=arguments[et+2];be.children=Lt}return U(F.type,ve,void 0,void 0,Me,be)},Ye.createContext=function(F){return F={$$typeof:c,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:l,_context:F},F},Ye.createElement=function(F,he,Re){var be,ve={},Me=null;if(he!=null)for(be in he.key!==void 0&&(Me=""+he.key),he)fe.call(he,be)&&be!=="key"&&be!=="__self"&&be!=="__source"&&(ve[be]=he[be]);var Fe=arguments.length-2;if(Fe===1)ve.children=Re;else if(1<Fe){for(var Lt=Array(Fe),et=0;et<Fe;et++)Lt[et]=arguments[et+2];ve.children=Lt}if(F&&F.defaultProps)for(be in Fe=F.defaultProps,Fe)ve[be]===void 0&&(ve[be]=Fe[be]);return U(F,Me,void 0,void 0,null,ve)},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(F){return{$$typeof:h,render:F}},Ye.isValidElement=R,Ye.lazy=function(F){return{$$typeof:y,_payload:{_status:-1,_result:F},_init:Te}},Ye.memo=function(F,he){return{$$typeof:p,type:F,compare:he===void 0?null:he}},Ye.startTransition=function(F){var he=se.T,Re={};se.T=Re;try{var be=F(),ve=se.S;ve!==null&&ve(Re,be),typeof be=="object"&&be!==null&&typeof be.then=="function"&&be.then(qe,ge)}catch(Me){ge(Me)}finally{se.T=he}},Ye.unstable_useCacheRefresh=function(){return se.H.useCacheRefresh()},Ye.use=function(F){return se.H.use(F)},Ye.useActionState=function(F,he,Re){return se.H.useActionState(F,he,Re)},Ye.useCallback=function(F,he){return se.H.useCallback(F,he)},Ye.useContext=function(F){return se.H.useContext(F)},Ye.useDebugValue=function(){},Ye.useDeferredValue=function(F,he){return se.H.useDeferredValue(F,he)},Ye.useEffect=function(F,he){return se.H.useEffect(F,he)},Ye.useId=function(){return se.H.useId()},Ye.useImperativeHandle=function(F,he,Re){return se.H.useImperativeHandle(F,he,Re)},Ye.useInsertionEffect=function(F,he){return se.H.useInsertionEffect(F,he)},Ye.useLayoutEffect=function(F,he){return se.H.useLayoutEffect(F,he)},Ye.useMemo=function(F,he){return se.H.useMemo(F,he)},Ye.useOptimistic=function(F,he){return se.H.useOptimistic(F,he)},Ye.useReducer=function(F,he,Re){return se.H.useReducer(F,he,Re)},Ye.useRef=function(F){return se.H.useRef(F)},Ye.useState=function(F){return se.H.useState(F)},Ye.useSyncExternalStore=function(F,he,Re){return se.H.useSyncExternalStore(F,he,Re)},Ye.useTransition=function(){return se.H.useTransition()},Ye.version="19.0.0",Ye}var R0;function Jg(){return R0||(R0=1,fp.exports=iI()),fp.exports}var A=Jg();const ft=Vh(A);var hp={exports:{}},Gu={},dp={exports:{}},mp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A0;function sI(){return A0||(A0=1,function(n){function e(pe,Te){var ge=pe.length;pe.push(Te);e:for(;0<ge;){var qe=ge-1>>>1,F=pe[qe];if(0<a(F,Te))pe[qe]=Te,pe[ge]=F,ge=qe;else break e}}function t(pe){return pe.length===0?null:pe[0]}function i(pe){if(pe.length===0)return null;var Te=pe[0],ge=pe.pop();if(ge!==Te){pe[0]=ge;e:for(var qe=0,F=pe.length,he=F>>>1;qe<he;){var Re=2*(qe+1)-1,be=pe[Re],ve=Re+1,Me=pe[ve];if(0>a(be,ge))ve<F&&0>a(Me,be)?(pe[qe]=Me,pe[ve]=ge,qe=ve):(pe[qe]=be,pe[Re]=ge,qe=Re);else if(ve<F&&0>a(Me,ge))pe[qe]=Me,pe[ve]=ge,qe=ve;else break e}}return Te}function a(pe,Te){var ge=pe.sortIndex-Te.sortIndex;return ge!==0?ge:pe.id-Te.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var f=[],p=[],y=1,_=null,E=3,C=!1,P=!1,$=!1,j=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function z(pe){for(var Te=t(p);Te!==null;){if(Te.callback===null)i(p);else if(Te.startTime<=pe)i(p),Te.sortIndex=Te.expirationTime,e(f,Te);else break;Te=t(p)}}function re(pe){if($=!1,z(pe),!P)if(t(f)!==null)P=!0,Qe();else{var Te=t(p);Te!==null&&Be(re,Te.startTime-pe)}}var se=!1,fe=-1,U=5,k=-1;function R(){return!(n.unstable_now()-k<U)}function M(){if(se){var pe=n.unstable_now();k=pe;var Te=!0;try{e:{P=!1,$&&($=!1,H(fe),fe=-1),C=!0;var ge=E;try{t:{for(z(pe),_=t(f);_!==null&&!(_.expirationTime>pe&&R());){var qe=_.callback;if(typeof qe=="function"){_.callback=null,E=_.priorityLevel;var F=qe(_.expirationTime<=pe);if(pe=n.unstable_now(),typeof F=="function"){_.callback=F,z(pe),Te=!0;break t}_===t(f)&&i(f),z(pe)}else i(f);_=t(f)}if(_!==null)Te=!0;else{var he=t(p);he!==null&&Be(re,he.startTime-pe),Te=!1}}break e}finally{_=null,E=ge,C=!1}Te=void 0}}finally{Te?B():se=!1}}}var B;if(typeof Y=="function")B=function(){Y(M)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,L=G.port2;G.port1.onmessage=M,B=function(){L.postMessage(null)}}else B=function(){j(M,0)};function Qe(){se||(se=!0,B())}function Be(pe,Te){fe=j(function(){pe(n.unstable_now())},Te)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(pe){pe.callback=null},n.unstable_continueExecution=function(){P||C||(P=!0,Qe())},n.unstable_forceFrameRate=function(pe){0>pe||125<pe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<pe?Math.floor(1e3/pe):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(pe){switch(E){case 1:case 2:case 3:var Te=3;break;default:Te=E}var ge=E;E=Te;try{return pe()}finally{E=ge}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(pe,Te){switch(pe){case 1:case 2:case 3:case 4:case 5:break;default:pe=3}var ge=E;E=pe;try{return Te()}finally{E=ge}},n.unstable_scheduleCallback=function(pe,Te,ge){var qe=n.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?qe+ge:qe):ge=qe,pe){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=ge+F,pe={id:y++,callback:Te,priorityLevel:pe,startTime:ge,expirationTime:F,sortIndex:-1},ge>qe?(pe.sortIndex=ge,e(p,pe),t(f)===null&&pe===t(p)&&($?(H(fe),fe=-1):$=!0,Be(re,ge-qe))):(pe.sortIndex=F,e(f,pe),P||C||(P=!0,Qe())),pe},n.unstable_shouldYield=R,n.unstable_wrapCallback=function(pe){var Te=E;return function(){var ge=E;E=Te;try{return pe.apply(this,arguments)}finally{E=ge}}}}(mp)),mp}var C0;function aI(){return C0||(C0=1,dp.exports=sI()),dp.exports}var pp={exports:{}},Vn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I0;function oI(){if(I0)return Vn;I0=1;var n=Jg();function e(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(f,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:f,containerInfo:p,implementation:y}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Vn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Vn.createPortal=function(f,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(f,p,null,y)},Vn.flushSync=function(f){var p=c.T,y=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=p,i.p=y,i.d.f()}},Vn.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(f,p))},Vn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},Vn.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var y=p.as,_=h(y,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,C=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?i.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:C}):y==="script"&&i.d.X(f,{crossOrigin:_,integrity:E,fetchPriority:C,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Vn.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);i.d.M(f,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(f)},Vn.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=h(y,p.crossOrigin);i.d.L(f,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Vn.preloadModule=function(f,p){if(typeof f=="string")if(p){var y=h(p.as,p.crossOrigin);i.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(f)},Vn.requestFormReset=function(f){i.d.r(f)},Vn.unstable_batchedUpdates=function(f,p){return f(p)},Vn.useFormState=function(f,p,y){return c.H.useFormState(f,p,y)},Vn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Vn.version="19.0.0",Vn}var O0;function gw(){if(O0)return pp.exports;O0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),pp.exports=oI(),pp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x0;function lI(){if(x0)return Gu;x0=1;var n=aI(),e=Jg(),t=gw();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),C=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),z=Symbol.for("react.offscreen"),re=Symbol.for("react.memo_cache_sentinel"),se=Symbol.iterator;function fe(r){return r===null||typeof r!="object"?null:(r=se&&r[se]||r["@@iterator"],typeof r=="function"?r:null)}var U=Symbol.for("react.client.reference");function k(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===U?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case f:return"Fragment";case h:return"Portal";case y:return"Profiler";case p:return"StrictMode";case $:return"Suspense";case j:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case C:return(r.displayName||"Context")+".Provider";case E:return(r._context.displayName||"Context")+".Consumer";case P:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case H:return s=r.displayName||null,s!==null?s:k(r.type)||"Memo";case Y:s=r._payload,r=r._init;try{return k(r(s))}catch{}}return null}var R=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=Object.assign,B,G;function L(r){if(B===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);B=s&&s[1]||"",G=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+B+r+G}var Qe=!1;function Be(r,s){if(!r||Qe)return"";Qe=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(ae){var ne=ae}Reflect.construct(r,[],de)}else{try{de.call()}catch(ae){ne=ae}r.call(de.prototype)}}else{try{throw Error()}catch(ae){ne=ae}(de=r())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(ae){if(ae&&ne&&typeof ae.stack=="string")return[ae.stack,ne.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),b=g[0],I=g[1];if(b&&I){var V=b.split(`
`),Q=I.split(`
`);for(m=u=0;u<V.length&&!V[u].includes("DetermineComponentFrameRoot");)u++;for(;m<Q.length&&!Q[m].includes("DetermineComponentFrameRoot");)m++;if(u===V.length||m===Q.length)for(u=V.length-1,m=Q.length-1;1<=u&&0<=m&&V[u]!==Q[m];)m--;for(;1<=u&&0<=m;u--,m--)if(V[u]!==Q[m]){if(u!==1||m!==1)do if(u--,m--,0>m||V[u]!==Q[m]){var oe=`
`+V[u].replace(" at new "," at ");return r.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",r.displayName)),oe}while(1<=u&&0<=m);break}}}finally{Qe=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?L(o):""}function pe(r){switch(r.tag){case 26:case 27:case 5:return L(r.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 15:return r=Be(r.type,!1),r;case 11:return r=Be(r.type.render,!1),r;case 1:return r=Be(r.type,!0),r;default:return""}}function Te(r){try{var s="";do s+=pe(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function ge(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function qe(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function F(r){if(ge(r)!==r)throw Error(i(188))}function he(r){var s=r.alternate;if(!s){if(s=ge(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,u=s;;){var m=o.return;if(m===null)break;var g=m.alternate;if(g===null){if(u=m.return,u!==null){o=u;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===o)return F(m),r;if(g===u)return F(m),s;g=g.sibling}throw Error(i(188))}if(o.return!==u.return)o=m,u=g;else{for(var b=!1,I=m.child;I;){if(I===o){b=!0,o=m,u=g;break}if(I===u){b=!0,u=m,o=g;break}I=I.sibling}if(!b){for(I=g.child;I;){if(I===o){b=!0,o=g,u=m;break}if(I===u){b=!0,u=g,o=m;break}I=I.sibling}if(!b)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function Re(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=Re(r),s!==null)return s;r=r.sibling}return null}var be=Array.isArray,ve=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Me={pending:!1,data:null,method:null,action:null},Fe=[],Lt=-1;function et(r){return{current:r}}function _t(r){0>Lt||(r.current=Fe[Lt],Fe[Lt]=null,Lt--)}function rt(r,s){Lt++,Fe[Lt]=r.current,r.current=s}var Zt=et(null),er=et(null),mn=et(null),Fn=et(null);function dt(r,s){switch(rt(mn,s),rt(er,r),rt(Zt,null),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?XE(s):0;break;default:if(r=r===8?s.parentNode:s,s=r.tagName,r=r.namespaceURI)r=XE(r),s=ZE(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}_t(Zt),rt(Zt,s)}function Pn(){_t(Zt),_t(er),_t(mn)}function Cr(r){r.memoizedState!==null&&rt(Fn,r);var s=Zt.current,o=ZE(s,r.type);s!==o&&(rt(er,r),rt(Zt,o))}function es(r){er.current===r&&(_t(Zt),_t(er)),Fn.current===r&&(_t(Fn),Bu._currentValue=Me)}var Hs=Object.prototype.hasOwnProperty,ts=n.unstable_scheduleCallback,$s=n.unstable_cancelCallback,nu=n.unstable_shouldYield,Ga=n.unstable_requestPaint,Rn=n.unstable_now,Ho=n.unstable_getCurrentPriorityLevel,te=n.unstable_ImmediatePriority,Ie=n.unstable_UserBlockingPriority,Ir=n.unstable_NormalPriority,Ka=n.unstable_LowPriority,Qa=n.unstable_IdlePriority,Ya=n.log,mi=n.unstable_setDisableYieldValue,Kr=null,pn=null;function Wa(r){if(pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(Kr,r,void 0,(r.current.flags&128)===128)}catch{}}function Hn(r){if(typeof Ya=="function"&&mi(r),pn&&typeof pn.setStrictMode=="function")try{pn.setStrictMode(Kr,r)}catch{}}var gn=Math.clz32?Math.clz32:$o,ns=Math.log,Xa=Math.LN2;function $o(r){return r>>>=0,r===0?32:31-(ns(r)/Xa|0)|0}var mr=128,pi=4194304;function tr(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function $n(r,s){var o=r.pendingLanes;if(o===0)return 0;var u=0,m=r.suspendedLanes,g=r.pingedLanes,b=r.warmLanes;r=r.finishedLanes!==0;var I=o&134217727;return I!==0?(o=I&~m,o!==0?u=tr(o):(g&=I,g!==0?u=tr(g):r||(b=I&~b,b!==0&&(u=tr(b))))):(I=o&~m,I!==0?u=tr(I):g!==0?u=tr(g):r||(b=o&~b,b!==0&&(u=tr(b)))),u===0?0:s!==0&&s!==u&&!(s&m)&&(m=u&-u,b=s&-s,m>=b||m===32&&(b&4194176)!==0)?s:u}function gi(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Gs(r,s){switch(r){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Za(){var r=mr;return mr<<=1,!(mr&4194176)&&(mr=128),r}function yi(){var r=pi;return pi<<=1,!(pi&62914560)&&(pi=4194304),r}function vi(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function Nt(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Go(r,s,o,u,m,g){var b=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var I=r.entanglements,V=r.expirationTimes,Q=r.hiddenUpdates;for(o=b&~o;0<o;){var oe=31-gn(o),de=1<<oe;I[oe]=0,V[oe]=-1;var ne=Q[oe];if(ne!==null)for(Q[oe]=null,oe=0;oe<ne.length;oe++){var ae=ne[oe];ae!==null&&(ae.lane&=-536870913)}o&=~de}u!==0&&_i(r,u,0),g!==0&&m===0&&r.tag!==0&&(r.suspendedLanes|=g&~(b&~s))}function _i(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var u=31-gn(s);r.entangledLanes|=s,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194218}function Ei(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var u=31-gn(o),m=1<<u;m&s|r[u]&s&&(r[u]|=s),o&=~m}}function Ko(r){return r&=-r,2<r?8<r?r&134217727?32:268435456:8:2}function Qt(){var r=ve.p;return r!==0?r:(r=window.event,r===void 0?32:g0(r.type))}function Ti(r,s){var o=ve.p;try{return ve.p=r,s()}finally{ve.p=o}}var Or=Math.random().toString(36).slice(2),Jt="__reactFiber$"+Or,qt="__reactProps$"+Or,Qr="__reactContainer$"+Or,Yr="__reactEvents$"+Or,bi="__reactListeners$"+Or,xr="__reactHandles$"+Or,Ja="__reactResources$"+Or,Wr="__reactMarker$"+Or;function pr(r){delete r[Jt],delete r[qt],delete r[Yr],delete r[bi],delete r[xr]}function Mn(r){var s=r[Jt];if(s)return s;for(var o=r.parentNode;o;){if(s=o[Qr]||o[Jt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=t0(r);r!==null;){if(o=r[Jt])return o;r=t0(r)}return s}r=o,o=r.parentNode}return null}function Xr(r){if(r=r[Jt]||r[Qr]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function wi(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function Nr(r){var s=r[Ja];return s||(s=r[Ja]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Dt(r){r[Wr]=!0}var eo=new Set,Zr={};function kt(r,s){yn(r,s),yn(r+"Capture",s)}function yn(r,s){for(Zr[r]=s,r=0;r<s.length;r++)eo.add(s[r])}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Si=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ks={},to={};function Qo(r){return Hs.call(to,r)?!0:Hs.call(Ks,r)?!1:Si.test(r)?to[r]=!0:(Ks[r]=!0,!1)}function Ri(r,s,o){if(Qo(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function gr(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function Gn(r,s,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+u)}}function vn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Yo(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ru(r){var s=Yo(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),u=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,g=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return m.call(this)},set:function(b){u=""+b,g.call(this,b)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(b){u=""+b},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function rs(r){r._valueTracker||(r._valueTracker=ru(r))}function no(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return r&&(u=Yo(r)?r.checked?"true":"false":r.value),r=u,r!==o?(s.setValue(r),!0):!1}function is(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Dr=/[\n"\\]/g;function yt(r){return r.replace(Dr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Jr(r,s,o,u,m,g,b,I){r.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?r.type=b:r.removeAttribute("type"),s!=null?b==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+vn(s)):r.value!==""+vn(s)&&(r.value=""+vn(s)):b!=="submit"&&b!=="reset"||r.removeAttribute("value"),s!=null?Ys(r,b,vn(s)):o!=null?Ys(r,b,vn(o)):u!=null&&r.removeAttribute("value"),m==null&&g!=null&&(r.defaultChecked=!!g),m!=null&&(r.checked=m&&typeof m!="function"&&typeof m!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?r.name=""+vn(I):r.removeAttribute("name")}function Qs(r,s,o,u,m,g,b,I){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+vn(o):"",s=s!=null?""+vn(s):o,I||s===r.value||(r.value=s),r.defaultValue=s}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=I?r.checked:!!u,r.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(r.name=b)}function Ys(r,s,o){s==="number"&&is(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function ht(r,s,o,u){if(r=r.options,s){s={};for(var m=0;m<o.length;m++)s["$"+o[m]]=!0;for(o=0;o<r.length;o++)m=s.hasOwnProperty("$"+r[o].value),r[o].selected!==m&&(r[o].selected=m),m&&u&&(r[o].defaultSelected=!0)}else{for(o=""+vn(o),s=null,m=0;m<r.length;m++){if(r[m].value===o){r[m].selected=!0,u&&(r[m].defaultSelected=!0);return}s!==null||r[m].disabled||(s=r[m])}s!==null&&(s.selected=!0)}}function ss(r,s,o){if(s!=null&&(s=""+vn(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+vn(o):""}function Ai(r,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(be(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=vn(s),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function nr(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var iu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ws(r,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":u?r.setProperty(s,o):typeof o!="number"||o===0||iu.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function as(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var m in s)u=s[m],s.hasOwnProperty(m)&&o[m]!==u&&Ws(r,m,u)}else for(var g in s)s.hasOwnProperty(g)&&Ws(r,g,s[g])}function Xs(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var su=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function kr(r){return Wo.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Kn=null;function Ci(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var rr=null,ei=null;function ti(r){var s=Xr(r);if(s&&(r=s.stateNode)){var o=r[qt]||null;e:switch(r=s.stateNode,s.type){case"input":if(Jr(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+yt(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==r&&u.form===r.form){var m=u[qt]||null;if(!m)throw Error(i(90));Jr(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===r.form&&no(u)}break e;case"textarea":ss(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&ht(r,!!o.multiple,s,!1)}}}var ro=!1;function Zs(r,s,o){if(ro)return r(s,o);ro=!0;try{var u=r(s);return u}finally{if(ro=!1,(rr!==null||ei!==null)&&(vf(),rr&&(s=rr,r=ei,ei=rr=null,ti(s),r)))for(s=0;s<r.length;s++)ti(r[s])}}function Ii(r,s){var o=r.stateNode;if(o===null)return null;var u=o[qt]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var ir=!1;if(Ln)try{var Oi={};Object.defineProperty(Oi,"passive",{get:function(){ir=!0}}),window.addEventListener("test",Oi,Oi),window.removeEventListener("test",Oi,Oi)}catch{ir=!1}var sr=null,ni=null,Pr=null;function xi(){if(Pr)return Pr;var r,s=ni,o=s.length,u,m="value"in sr?sr.value:sr.textContent,g=m.length;for(r=0;r<o&&s[r]===m[r];r++);var b=o-r;for(u=1;u<=b&&s[o-u]===m[g-u];u++);return Pr=m.slice(r,1<u?1-u:void 0)}function yr(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Mr(){return!0}function Ni(){return!1}function Et(r){function s(o,u,m,g,b){this._reactName=o,this._targetInst=m,this.type=u,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var I in r)r.hasOwnProperty(I)&&(o=r[I],this[I]=o?o(g):g[I]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Mr:Ni,this.isPropagationStopped=Ni,this}return M(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Mr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Mr)},persist:function(){},isPersistent:Mr}),s}var it={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ri=Et(it),ii=M({},it,{view:0,detail:0}),Xo=Et(ii),Js,ea,ar,os=M({},ii,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:At,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ar&&(ar&&r.type==="mousemove"?(Js=r.screenX-ar.screenX,ea=r.screenY-ar.screenY):ea=Js=0,ar=r),Js)},movementY:function(r){return"movementY"in r?r.movementY:ea}}),Qn=Et(os),Pt=M({},os,{dataTransfer:0}),w=Et(Pt),S=M({},ii,{relatedTarget:0}),N=Et(S),D=M({},it,{animationName:0,elapsedTime:0,pseudoElement:0}),q=Et(D),W=M({},it,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Z=Et(W),me=M({},it,{data:0}),Ce=Et(me),ye={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ee={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Oe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mt(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Oe[r])?!!s[r]:!1}function At(){return mt}var Ne=M({},ii,{key:function(r){if(r.key){var s=ye[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=yr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Ee[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:At,charCode:function(r){return r.type==="keypress"?yr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?yr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),ze=Et(Ne),De=M({},os,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ct=Et(De),Tt=M({},ii,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:At}),Ut=Et(Tt),or=M({},it,{propertyName:0,elapsedTime:0,pseudoElement:0}),on=Et(or),vr=M({},os,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),lr=Et(vr),en=M({},it,{newState:0,oldState:0}),io=Et(en),jc=[9,13,27,32],Di=Ln&&"CompositionEvent"in window,d=null;Ln&&"documentMode"in document&&(d=document.documentMode);var v=Ln&&"TextEvent"in window&&!d,T=Ln&&(!Di||d&&8<d&&11>=d),x=" ",J=!1;function ie(r,s){switch(r){case"keyup":return jc.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _e(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ot=!1;function ln(r,s){switch(r){case"compositionend":return _e(s);case"keypress":return s.which!==32?null:(J=!0,x);case"textInput":return r=s.data,r===x&&J?null:r;default:return null}}function lt(r,s){if(ot)return r==="compositionend"||!Di&&ie(r,s)?(r=xi(),Pr=ni=sr=null,ot=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return T&&s.locale!=="ko"?null:s.data;default:return null}}var _n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function un(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!_n[r.type]:s==="textarea"}function ls(r,s,o,u){rr?ei?ei.push(u):ei=[u]:rr=u,s=wf(s,"onChange"),0<s.length&&(o=new ri("onChange","change",null,o,u),r.push({event:o,listeners:s}))}var An=null,ki=null;function au(r){GE(r,0)}function Bc(r){var s=wi(r);if(no(s))return r}function Tv(r,s){if(r==="change")return s}var bv=!1;if(Ln){var Td;if(Ln){var bd="oninput"in document;if(!bd){var wv=document.createElement("div");wv.setAttribute("oninput","return;"),bd=typeof wv.oninput=="function"}Td=bd}else Td=!1;bv=Td&&(!document.documentMode||9<document.documentMode)}function Sv(){An&&(An.detachEvent("onpropertychange",Rv),ki=An=null)}function Rv(r){if(r.propertyName==="value"&&Bc(ki)){var s=[];ls(s,ki,r,Ci(r)),Zs(au,s)}}function x1(r,s,o){r==="focusin"?(Sv(),An=s,ki=o,An.attachEvent("onpropertychange",Rv)):r==="focusout"&&Sv()}function N1(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Bc(ki)}function D1(r,s){if(r==="click")return Bc(s)}function k1(r,s){if(r==="input"||r==="change")return Bc(s)}function P1(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var _r=typeof Object.is=="function"?Object.is:P1;function ou(r,s){if(_r(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var m=o[u];if(!Hs.call(s,m)||!_r(r[m],s[m]))return!1}return!0}function Av(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Cv(r,s){var o=Av(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=s&&u>=s)return{node:o,offset:s-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Av(o)}}function Iv(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Iv(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Ov(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=is(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=is(r.document)}return s}function wd(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function M1(r,s){var o=Ov(s);s=r.focusedElem;var u=r.selectionRange;if(o!==s&&s&&s.ownerDocument&&Iv(s.ownerDocument.documentElement,s)){if(u!==null&&wd(s)){if(r=u.start,o=u.end,o===void 0&&(o=r),"selectionStart"in s)s.selectionStart=r,s.selectionEnd=Math.min(o,s.value.length);else if(o=(r=s.ownerDocument||document)&&r.defaultView||window,o.getSelection){o=o.getSelection();var m=s.textContent.length,g=Math.min(u.start,m);u=u.end===void 0?g:Math.min(u.end,m),!o.extend&&g>u&&(m=u,u=g,g=m),m=Cv(s,g);var b=Cv(s,u);m&&b&&(o.rangeCount!==1||o.anchorNode!==m.node||o.anchorOffset!==m.offset||o.focusNode!==b.node||o.focusOffset!==b.offset)&&(r=r.createRange(),r.setStart(m.node,m.offset),o.removeAllRanges(),g>u?(o.addRange(r),o.extend(b.node,b.offset)):(r.setEnd(b.node,b.offset),o.addRange(r)))}}for(r=[],o=s;o=o.parentNode;)o.nodeType===1&&r.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<r.length;s++)o=r[s],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var L1=Ln&&"documentMode"in document&&11>=document.documentMode,Zo=null,Sd=null,lu=null,Rd=!1;function xv(r,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Rd||Zo==null||Zo!==is(u)||(u=Zo,"selectionStart"in u&&wd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),lu&&ou(lu,u)||(lu=u,u=wf(Sd,"onSelect"),0<u.length&&(s=new ri("onSelect","select",null,s,o),r.push({event:s,listeners:u}),s.target=Zo)))}function so(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var Jo={animationend:so("Animation","AnimationEnd"),animationiteration:so("Animation","AnimationIteration"),animationstart:so("Animation","AnimationStart"),transitionrun:so("Transition","TransitionRun"),transitionstart:so("Transition","TransitionStart"),transitioncancel:so("Transition","TransitionCancel"),transitionend:so("Transition","TransitionEnd")},Ad={},Nv={};Ln&&(Nv=document.createElement("div").style,"AnimationEvent"in window||(delete Jo.animationend.animation,delete Jo.animationiteration.animation,delete Jo.animationstart.animation),"TransitionEvent"in window||delete Jo.transitionend.transition);function ao(r){if(Ad[r])return Ad[r];if(!Jo[r])return r;var s=Jo[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in Nv)return Ad[r]=s[o];return r}var Dv=ao("animationend"),kv=ao("animationiteration"),Pv=ao("animationstart"),U1=ao("transitionrun"),V1=ao("transitionstart"),j1=ao("transitioncancel"),Mv=ao("transitionend"),Lv=new Map,Uv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function si(r,s){Lv.set(r,s),kt(s,[r])}var Lr=[],el=0,Cd=0;function zc(){for(var r=el,s=Cd=el=0;s<r;){var o=Lr[s];Lr[s++]=null;var u=Lr[s];Lr[s++]=null;var m=Lr[s];Lr[s++]=null;var g=Lr[s];if(Lr[s++]=null,u!==null&&m!==null){var b=u.pending;b===null?m.next=m:(m.next=b.next,b.next=m),u.pending=m}g!==0&&Vv(o,m,g)}}function qc(r,s,o,u){Lr[el++]=r,Lr[el++]=s,Lr[el++]=o,Lr[el++]=u,Cd|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function Id(r,s,o,u){return qc(r,s,o,u),Fc(r)}function ta(r,s){return qc(r,null,null,s),Fc(r)}function Vv(r,s,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var m=!1,g=r.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(m=!0)),r=g,g=g.return;m&&s!==null&&r.tag===3&&(g=r.stateNode,m=31-gn(o),g=g.hiddenUpdates,r=g[m],r===null?g[m]=[s]:r.push(s),s.lane=o|536870912)}function Fc(r){if(50<ku)throw ku=0,Pm=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var tl={},jv=new WeakMap;function Ur(r,s){if(typeof r=="object"&&r!==null){var o=jv.get(r);return o!==void 0?o:(s={value:r,source:s,stack:Te(s)},jv.set(r,s),s)}return{value:r,source:s,stack:Te(s)}}var nl=[],rl=0,Hc=null,$c=0,Vr=[],jr=0,oo=null,us=1,cs="";function lo(r,s){nl[rl++]=$c,nl[rl++]=Hc,Hc=r,$c=s}function Bv(r,s,o){Vr[jr++]=us,Vr[jr++]=cs,Vr[jr++]=oo,oo=r;var u=us;r=cs;var m=32-gn(u)-1;u&=~(1<<m),o+=1;var g=32-gn(s)+m;if(30<g){var b=m-m%5;g=(u&(1<<b)-1).toString(32),u>>=b,m-=b,us=1<<32-gn(s)+m|o<<m|u,cs=g+r}else us=1<<g|o<<m|u,cs=r}function Od(r){r.return!==null&&(lo(r,1),Bv(r,1,0))}function xd(r){for(;r===Hc;)Hc=nl[--rl],nl[rl]=null,$c=nl[--rl],nl[rl]=null;for(;r===oo;)oo=Vr[--jr],Vr[jr]=null,cs=Vr[--jr],Vr[jr]=null,us=Vr[--jr],Vr[jr]=null}var Yn=null,Cn=null,pt=!1,ai=null,Pi=!1,Nd=Error(i(519));function uo(r){var s=Error(i(418,""));throw fu(Ur(s,r)),Nd}function zv(r){var s=r.stateNode,o=r.type,u=r.memoizedProps;switch(s[Jt]=r,s[qt]=u,o){case"dialog":st("cancel",s),st("close",s);break;case"iframe":case"object":case"embed":st("load",s);break;case"video":case"audio":for(o=0;o<Mu.length;o++)st(Mu[o],s);break;case"source":st("error",s);break;case"img":case"image":case"link":st("error",s),st("load",s);break;case"details":st("toggle",s);break;case"input":st("invalid",s),Qs(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),rs(s);break;case"select":st("invalid",s);break;case"textarea":st("invalid",s),Ai(s,u.value,u.defaultValue,u.children),rs(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||WE(s.textContent,o)?(u.popover!=null&&(st("beforetoggle",s),st("toggle",s)),u.onScroll!=null&&st("scroll",s),u.onScrollEnd!=null&&st("scrollend",s),u.onClick!=null&&(s.onclick=Sf),s=!0):s=!1,s||uo(r)}function qv(r){for(Yn=r.return;Yn;)switch(Yn.tag){case 3:case 27:Pi=!0;return;case 5:case 13:Pi=!1;return;default:Yn=Yn.return}}function uu(r){if(r!==Yn)return!1;if(!pt)return qv(r),pt=!0,!1;var s=!1,o;if((o=r.tag!==3&&r.tag!==27)&&((o=r.tag===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Xm(r.type,r.memoizedProps)),o=!o),o&&(s=!0),s&&Cn&&uo(r),qv(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){Cn=li(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}Cn=null}}else Cn=Yn?li(r.stateNode.nextSibling):null;return!0}function cu(){Cn=Yn=null,pt=!1}function fu(r){ai===null?ai=[r]:ai.push(r)}var hu=Error(i(460)),Fv=Error(i(474)),Dd={then:function(){}};function Hv(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Gc(){}function $v(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(Gc,Gc),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,r===hu?Error(i(483)):r;default:if(typeof s.status=="string")s.then(Gc,Gc);else{if(r=Ot,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(u){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=u}},function(u){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,r===hu?Error(i(483)):r}throw du=s,hu}}var du=null;function Gv(){if(du===null)throw Error(i(459));var r=du;return du=null,r}var il=null,mu=0;function Kc(r){var s=mu;return mu+=1,il===null&&(il=[]),$v(il,r,s)}function pu(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function Qc(r,s){throw s.$$typeof===l?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function Kv(r){var s=r._init;return s(r._payload)}function Qv(r){function s(X,K){if(r){var ee=X.deletions;ee===null?(X.deletions=[K],X.flags|=16):ee.push(K)}}function o(X,K){if(!r)return null;for(;K!==null;)s(X,K),K=K.sibling;return null}function u(X){for(var K=new Map;X!==null;)X.key!==null?K.set(X.key,X):K.set(X.index,X),X=X.sibling;return K}function m(X,K){return X=da(X,K),X.index=0,X.sibling=null,X}function g(X,K,ee){return X.index=ee,r?(ee=X.alternate,ee!==null?(ee=ee.index,ee<K?(X.flags|=33554434,K):ee):(X.flags|=33554434,K)):(X.flags|=1048576,K)}function b(X){return r&&X.alternate===null&&(X.flags|=33554434),X}function I(X,K,ee,le){return K===null||K.tag!==6?(K=Am(ee,X.mode,le),K.return=X,K):(K=m(K,ee),K.return=X,K)}function V(X,K,ee,le){var Ae=ee.type;return Ae===f?oe(X,K,ee.props.children,le,ee.key):K!==null&&(K.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===Y&&Kv(Ae)===K.type)?(K=m(K,ee.props),pu(K,ee),K.return=X,K):(K=df(ee.type,ee.key,ee.props,null,X.mode,le),pu(K,ee),K.return=X,K)}function Q(X,K,ee,le){return K===null||K.tag!==4||K.stateNode.containerInfo!==ee.containerInfo||K.stateNode.implementation!==ee.implementation?(K=Cm(ee,X.mode,le),K.return=X,K):(K=m(K,ee.children||[]),K.return=X,K)}function oe(X,K,ee,le,Ae){return K===null||K.tag!==7?(K=Eo(ee,X.mode,le,Ae),K.return=X,K):(K=m(K,ee),K.return=X,K)}function de(X,K,ee){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=Am(""+K,X.mode,ee),K.return=X,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case c:return ee=df(K.type,K.key,K.props,null,X.mode,ee),pu(ee,K),ee.return=X,ee;case h:return K=Cm(K,X.mode,ee),K.return=X,K;case Y:var le=K._init;return K=le(K._payload),de(X,K,ee)}if(be(K)||fe(K))return K=Eo(K,X.mode,ee,null),K.return=X,K;if(typeof K.then=="function")return de(X,Kc(K),ee);if(K.$$typeof===C)return de(X,cf(X,K),ee);Qc(X,K)}return null}function ne(X,K,ee,le){var Ae=K!==null?K.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return Ae!==null?null:I(X,K,""+ee,le);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case c:return ee.key===Ae?V(X,K,ee,le):null;case h:return ee.key===Ae?Q(X,K,ee,le):null;case Y:return Ae=ee._init,ee=Ae(ee._payload),ne(X,K,ee,le)}if(be(ee)||fe(ee))return Ae!==null?null:oe(X,K,ee,le,null);if(typeof ee.then=="function")return ne(X,K,Kc(ee),le);if(ee.$$typeof===C)return ne(X,K,cf(X,ee),le);Qc(X,ee)}return null}function ae(X,K,ee,le,Ae){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return X=X.get(ee)||null,I(K,X,""+le,Ae);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case c:return X=X.get(le.key===null?ee:le.key)||null,V(K,X,le,Ae);case h:return X=X.get(le.key===null?ee:le.key)||null,Q(K,X,le,Ae);case Y:var Xe=le._init;return le=Xe(le._payload),ae(X,K,ee,le,Ae)}if(be(le)||fe(le))return X=X.get(ee)||null,oe(K,X,le,Ae,null);if(typeof le.then=="function")return ae(X,K,ee,Kc(le),Ae);if(le.$$typeof===C)return ae(X,K,ee,cf(K,le),Ae);Qc(K,le)}return null}function xe(X,K,ee,le){for(var Ae=null,Xe=null,ke=K,Le=K=0,bn=null;ke!==null&&Le<ee.length;Le++){ke.index>Le?(bn=ke,ke=null):bn=ke.sibling;var gt=ne(X,ke,ee[Le],le);if(gt===null){ke===null&&(ke=bn);break}r&&ke&&gt.alternate===null&&s(X,ke),K=g(gt,K,Le),Xe===null?Ae=gt:Xe.sibling=gt,Xe=gt,ke=bn}if(Le===ee.length)return o(X,ke),pt&&lo(X,Le),Ae;if(ke===null){for(;Le<ee.length;Le++)ke=de(X,ee[Le],le),ke!==null&&(K=g(ke,K,Le),Xe===null?Ae=ke:Xe.sibling=ke,Xe=ke);return pt&&lo(X,Le),Ae}for(ke=u(ke);Le<ee.length;Le++)bn=ae(ke,X,Le,ee[Le],le),bn!==null&&(r&&bn.alternate!==null&&ke.delete(bn.key===null?Le:bn.key),K=g(bn,K,Le),Xe===null?Ae=bn:Xe.sibling=bn,Xe=bn);return r&&ke.forEach(function(Ea){return s(X,Ea)}),pt&&lo(X,Le),Ae}function $e(X,K,ee,le){if(ee==null)throw Error(i(151));for(var Ae=null,Xe=null,ke=K,Le=K=0,bn=null,gt=ee.next();ke!==null&&!gt.done;Le++,gt=ee.next()){ke.index>Le?(bn=ke,ke=null):bn=ke.sibling;var Ea=ne(X,ke,gt.value,le);if(Ea===null){ke===null&&(ke=bn);break}r&&ke&&Ea.alternate===null&&s(X,ke),K=g(Ea,K,Le),Xe===null?Ae=Ea:Xe.sibling=Ea,Xe=Ea,ke=bn}if(gt.done)return o(X,ke),pt&&lo(X,Le),Ae;if(ke===null){for(;!gt.done;Le++,gt=ee.next())gt=de(X,gt.value,le),gt!==null&&(K=g(gt,K,Le),Xe===null?Ae=gt:Xe.sibling=gt,Xe=gt);return pt&&lo(X,Le),Ae}for(ke=u(ke);!gt.done;Le++,gt=ee.next())gt=ae(ke,X,Le,gt.value,le),gt!==null&&(r&&gt.alternate!==null&&ke.delete(gt.key===null?Le:gt.key),K=g(gt,K,Le),Xe===null?Ae=gt:Xe.sibling=gt,Xe=gt);return r&&ke.forEach(function(JC){return s(X,JC)}),pt&&lo(X,Le),Ae}function $t(X,K,ee,le){if(typeof ee=="object"&&ee!==null&&ee.type===f&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case c:e:{for(var Ae=ee.key;K!==null;){if(K.key===Ae){if(Ae=ee.type,Ae===f){if(K.tag===7){o(X,K.sibling),le=m(K,ee.props.children),le.return=X,X=le;break e}}else if(K.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===Y&&Kv(Ae)===K.type){o(X,K.sibling),le=m(K,ee.props),pu(le,ee),le.return=X,X=le;break e}o(X,K);break}else s(X,K);K=K.sibling}ee.type===f?(le=Eo(ee.props.children,X.mode,le,ee.key),le.return=X,X=le):(le=df(ee.type,ee.key,ee.props,null,X.mode,le),pu(le,ee),le.return=X,X=le)}return b(X);case h:e:{for(Ae=ee.key;K!==null;){if(K.key===Ae)if(K.tag===4&&K.stateNode.containerInfo===ee.containerInfo&&K.stateNode.implementation===ee.implementation){o(X,K.sibling),le=m(K,ee.children||[]),le.return=X,X=le;break e}else{o(X,K);break}else s(X,K);K=K.sibling}le=Cm(ee,X.mode,le),le.return=X,X=le}return b(X);case Y:return Ae=ee._init,ee=Ae(ee._payload),$t(X,K,ee,le)}if(be(ee))return xe(X,K,ee,le);if(fe(ee)){if(Ae=fe(ee),typeof Ae!="function")throw Error(i(150));return ee=Ae.call(ee),$e(X,K,ee,le)}if(typeof ee.then=="function")return $t(X,K,Kc(ee),le);if(ee.$$typeof===C)return $t(X,K,cf(X,ee),le);Qc(X,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,K!==null&&K.tag===6?(o(X,K.sibling),le=m(K,ee),le.return=X,X=le):(o(X,K),le=Am(ee,X.mode,le),le.return=X,X=le),b(X)):o(X,K)}return function(X,K,ee,le){try{mu=0;var Ae=$t(X,K,ee,le);return il=null,Ae}catch(ke){if(ke===hu)throw ke;var Xe=Fr(29,ke,null,X.mode);return Xe.lanes=le,Xe.return=X,Xe}finally{}}}var co=Qv(!0),Yv=Qv(!1),sl=et(null),Yc=et(0);function Wv(r,s){r=Ts,rt(Yc,r),rt(sl,s),Ts=r|s.baseLanes}function kd(){rt(Yc,Ts),rt(sl,sl.current)}function Pd(){Ts=Yc.current,_t(sl),_t(Yc)}var Br=et(null),Mi=null;function na(r){var s=r.alternate;rt(cn,cn.current&1),rt(Br,r),Mi===null&&(s===null||sl.current!==null||s.memoizedState!==null)&&(Mi=r)}function Xv(r){if(r.tag===22){if(rt(cn,cn.current),rt(Br,r),Mi===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Mi=r)}}else ra()}function ra(){rt(cn,cn.current),rt(Br,Br.current)}function fs(r){_t(Br),Mi===r&&(Mi=null),_t(cn)}var cn=et(0);function Wc(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var B1=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},z1=n.unstable_scheduleCallback,q1=n.unstable_NormalPriority,fn={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Md(){return{controller:new B1,data:new Map,refCount:0}}function gu(r){r.refCount--,r.refCount===0&&z1(q1,function(){r.controller.abort()})}var yu=null,Ld=0,al=0,ol=null;function F1(r,s){if(yu===null){var o=yu=[];Ld=0,al=qm(),ol={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Ld++,s.then(Zv,Zv),s}function Zv(){if(--Ld===0&&yu!==null){ol!==null&&(ol.status="fulfilled");var r=yu;yu=null,al=0,ol=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function H1(r,s){var o=[],u={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return r.then(function(){u.status="fulfilled",u.value=s;for(var m=0;m<o.length;m++)(0,o[m])(s)},function(m){for(u.status="rejected",u.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),u}var Jv=R.S;R.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&F1(r,s),Jv!==null&&Jv(r,s)};var fo=et(null);function Ud(){var r=fo.current;return r!==null?r:Ot.pooledCache}function Xc(r,s){s===null?rt(fo,fo.current):rt(fo,s.pool)}function e_(){var r=Ud();return r===null?null:{parent:fn._currentValue,pool:r}}var ia=0,We=null,wt=null,tn=null,Zc=!1,ll=!1,ho=!1,Jc=0,vu=0,ul=null,$1=0;function Yt(){throw Error(i(321))}function Vd(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!_r(r[o],s[o]))return!1;return!0}function jd(r,s,o,u,m,g){return ia=g,We=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,R.H=r===null||r.memoizedState===null?mo:sa,ho=!1,g=o(u,m),ho=!1,ll&&(g=n_(s,o,u,m)),t_(r),g}function t_(r){R.H=Li;var s=wt!==null&&wt.next!==null;if(ia=0,tn=wt=We=null,Zc=!1,vu=0,ul=null,s)throw Error(i(300));r===null||En||(r=r.dependencies,r!==null&&uf(r)&&(En=!0))}function n_(r,s,o,u){We=r;var m=0;do{if(ll&&(ul=null),vu=0,ll=!1,25<=m)throw Error(i(301));if(m+=1,tn=wt=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}R.H=po,g=s(o,u)}while(ll);return g}function G1(){var r=R.H,s=r.useState()[0];return s=typeof s.then=="function"?_u(s):s,r=r.useState()[0],(wt!==null?wt.memoizedState:null)!==r&&(We.flags|=1024),s}function Bd(){var r=Jc!==0;return Jc=0,r}function zd(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function qd(r){if(Zc){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Zc=!1}ia=0,tn=wt=We=null,ll=!1,vu=Jc=0,ul=null}function ur(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tn===null?We.memoizedState=tn=r:tn=tn.next=r,tn}function nn(){if(wt===null){var r=We.alternate;r=r!==null?r.memoizedState:null}else r=wt.next;var s=tn===null?We.memoizedState:tn.next;if(s!==null)tn=s,wt=r;else{if(r===null)throw We.alternate===null?Error(i(467)):Error(i(310));wt=r,r={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},tn===null?We.memoizedState=tn=r:tn=tn.next=r}return tn}var ef;ef=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function _u(r){var s=vu;return vu+=1,ul===null&&(ul=[]),r=$v(ul,r,s),s=We,(tn===null?s.memoizedState:tn.next)===null&&(s=s.alternate,R.H=s===null||s.memoizedState===null?mo:sa),r}function tf(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return _u(r);if(r.$$typeof===C)return Un(r)}throw Error(i(438,String(r)))}function Fd(r){var s=null,o=We.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=We.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=ef(),We.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),u=0;u<r;u++)o[u]=re;return s.index++,o}function hs(r,s){return typeof s=="function"?s(r):s}function nf(r){var s=nn();return Hd(s,wt,r)}function Hd(r,s,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var m=r.baseQueue,g=u.pending;if(g!==null){if(m!==null){var b=m.next;m.next=g.next,g.next=b}s.baseQueue=m=g,u.pending=null}if(g=r.baseState,m===null)r.memoizedState=g;else{s=m.next;var I=b=null,V=null,Q=s,oe=!1;do{var de=Q.lane&-536870913;if(de!==Q.lane?(ut&de)===de:(ia&de)===de){var ne=Q.revertLane;if(ne===0)V!==null&&(V=V.next={lane:0,revertLane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),de===al&&(oe=!0);else if((ia&ne)===ne){Q=Q.next,ne===al&&(oe=!0);continue}else de={lane:0,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},V===null?(I=V=de,b=g):V=V.next=de,We.lanes|=ne,ma|=ne;de=Q.action,ho&&o(g,de),g=Q.hasEagerState?Q.eagerState:o(g,de)}else ne={lane:de,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},V===null?(I=V=ne,b=g):V=V.next=ne,We.lanes|=de,ma|=de;Q=Q.next}while(Q!==null&&Q!==s);if(V===null?b=g:V.next=I,!_r(g,r.memoizedState)&&(En=!0,oe&&(o=ol,o!==null)))throw o;r.memoizedState=g,r.baseState=b,r.baseQueue=V,u.lastRenderedState=g}return m===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function $d(r){var s=nn(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,m=o.pending,g=s.memoizedState;if(m!==null){o.pending=null;var b=m=m.next;do g=r(g,b.action),b=b.next;while(b!==m);_r(g,s.memoizedState)||(En=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function r_(r,s,o){var u=We,m=nn(),g=pt;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=s();var b=!_r((wt||m).memoizedState,o);if(b&&(m.memoizedState=o,En=!0),m=m.queue,Qd(a_.bind(null,u,m,r),[r]),m.getSnapshot!==s||b||tn!==null&&tn.memoizedState.tag&1){if(u.flags|=2048,cl(9,s_.bind(null,u,m,o,s),{destroy:void 0},null),Ot===null)throw Error(i(349));g||ia&60||i_(u,s,o)}return o}function i_(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=We.updateQueue,s===null?(s=ef(),We.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function s_(r,s,o,u){s.value=o,s.getSnapshot=u,o_(s)&&l_(r)}function a_(r,s,o){return o(function(){o_(s)&&l_(r)})}function o_(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!_r(r,o)}catch{return!0}}function l_(r){var s=ta(r,2);s!==null&&Wn(s,r,2)}function Gd(r){var s=ur();if(typeof r=="function"){var o=r;if(r=o(),ho){Hn(!0);try{o()}finally{Hn(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:r},s}function u_(r,s,o,u){return r.baseState=o,Hd(r,wt,typeof u=="function"?u:hs)}function K1(r,s,o,u,m){if(af(r))throw Error(i(485));if(r=s.action,r!==null){var g={payload:m,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};R.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,c_(s,g)):(g.next=o.next,s.pending=o.next=g)}}function c_(r,s){var o=s.action,u=s.payload,m=r.state;if(s.isTransition){var g=R.T,b={};R.T=b;try{var I=o(m,u),V=R.S;V!==null&&V(b,I),f_(r,s,I)}catch(Q){Kd(r,s,Q)}finally{R.T=g}}else try{g=o(m,u),f_(r,s,g)}catch(Q){Kd(r,s,Q)}}function f_(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){h_(r,s,u)},function(u){return Kd(r,s,u)}):h_(r,s,o)}function h_(r,s,o){s.status="fulfilled",s.value=o,d_(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,c_(r,o)))}function Kd(r,s,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,d_(s),s=s.next;while(s!==u)}r.action=null}function d_(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function m_(r,s){return s}function p_(r,s){if(pt){var o=Ot.formState;if(o!==null){e:{var u=We;if(pt){if(Cn){t:{for(var m=Cn,g=Pi;m.nodeType!==8;){if(!g){m=null;break t}if(m=li(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){Cn=li(m.nextSibling),u=m.data==="F!";break e}}uo(u)}u=!1}u&&(s=o[0])}}return o=ur(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:m_,lastRenderedState:s},o.queue=u,o=k_.bind(null,We,u),u.dispatch=o,u=Gd(!1),g=Jd.bind(null,We,!1,u.queue),u=ur(),m={state:s,dispatch:null,action:r,pending:null},u.queue=m,o=K1.bind(null,We,m,g,o),m.dispatch=o,u.memoizedState=r,[s,o,!1]}function g_(r){var s=nn();return y_(s,wt,r)}function y_(r,s,o){s=Hd(r,s,m_)[0],r=nf(hs)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?_u(s):s;var u=nn(),m=u.queue,g=m.dispatch;return o!==u.memoizedState&&(We.flags|=2048,cl(9,Q1.bind(null,m,o),{destroy:void 0},null)),[s,g,r]}function Q1(r,s){r.action=s}function v_(r){var s=nn(),o=wt;if(o!==null)return y_(s,o,r);nn(),s=s.memoizedState,o=nn();var u=o.queue.dispatch;return o.memoizedState=r,[s,u,!1]}function cl(r,s,o,u){return r={tag:r,create:s,inst:o,deps:u,next:null},s=We.updateQueue,s===null&&(s=ef(),We.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,s.lastEffect=r),r}function __(){return nn().memoizedState}function rf(r,s,o,u){var m=ur();We.flags|=r,m.memoizedState=cl(1|s,o,{destroy:void 0},u===void 0?null:u)}function sf(r,s,o,u){var m=nn();u=u===void 0?null:u;var g=m.memoizedState.inst;wt!==null&&u!==null&&Vd(u,wt.memoizedState.deps)?m.memoizedState=cl(s,o,g,u):(We.flags|=r,m.memoizedState=cl(1|s,o,g,u))}function E_(r,s){rf(8390656,8,r,s)}function Qd(r,s){sf(2048,8,r,s)}function T_(r,s){return sf(4,2,r,s)}function b_(r,s){return sf(4,4,r,s)}function w_(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function S_(r,s,o){o=o!=null?o.concat([r]):null,sf(4,4,w_.bind(null,s,r),o)}function Yd(){}function R_(r,s){var o=nn();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Vd(s,u[1])?u[0]:(o.memoizedState=[r,s],r)}function A_(r,s){var o=nn();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Vd(s,u[1]))return u[0];if(u=r(),ho){Hn(!0);try{r()}finally{Hn(!1)}}return o.memoizedState=[u,s],u}function Wd(r,s,o){return o===void 0||ia&1073741824?r.memoizedState=s:(r.memoizedState=o,r=IE(),We.lanes|=r,ma|=r,o)}function C_(r,s,o,u){return _r(o,s)?o:sl.current!==null?(r=Wd(r,o,u),_r(r,s)||(En=!0),r):ia&42?(r=IE(),We.lanes|=r,ma|=r,s):(En=!0,r.memoizedState=o)}function I_(r,s,o,u,m){var g=ve.p;ve.p=g!==0&&8>g?g:8;var b=R.T,I={};R.T=I,Jd(r,!1,s,o);try{var V=m(),Q=R.S;if(Q!==null&&Q(I,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var oe=H1(V,u);Eu(r,s,oe,wr(r))}else Eu(r,s,u,wr(r))}catch(de){Eu(r,s,{then:function(){},status:"rejected",reason:de},wr())}finally{ve.p=g,R.T=b}}function Y1(){}function Xd(r,s,o,u){if(r.tag!==5)throw Error(i(476));var m=O_(r).queue;I_(r,m,s,Me,o===null?Y1:function(){return x_(r),o(u)})}function O_(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:Me,baseState:Me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:Me},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function x_(r){var s=O_(r).next.queue;Eu(r,s,{},wr())}function Zd(){return Un(Bu)}function N_(){return nn().memoizedState}function D_(){return nn().memoizedState}function W1(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=wr();r=la(o);var u=ua(s,r,o);u!==null&&(Wn(u,s,o),wu(u,s,o)),s={cache:Md()},r.payload=s;return}s=s.return}}function X1(r,s,o){var u=wr();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},af(r)?P_(s,o):(o=Id(r,s,o,u),o!==null&&(Wn(o,r,u),M_(o,s,u)))}function k_(r,s,o){var u=wr();Eu(r,s,o,u)}function Eu(r,s,o,u){var m={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(af(r))P_(s,m);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var b=s.lastRenderedState,I=g(b,o);if(m.hasEagerState=!0,m.eagerState=I,_r(I,b))return qc(r,s,m,0),Ot===null&&zc(),!1}catch{}finally{}if(o=Id(r,s,m,u),o!==null)return Wn(o,r,u),M_(o,s,u),!0}return!1}function Jd(r,s,o,u){if(u={lane:2,revertLane:qm(),action:u,hasEagerState:!1,eagerState:null,next:null},af(r)){if(s)throw Error(i(479))}else s=Id(r,o,u,2),s!==null&&Wn(s,r,2)}function af(r){var s=r.alternate;return r===We||s!==null&&s===We}function P_(r,s){ll=Zc=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function M_(r,s,o){if(o&4194176){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Ei(r,o)}}var Li={readContext:Un,use:tf,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useLayoutEffect:Yt,useInsertionEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useSyncExternalStore:Yt,useId:Yt};Li.useCacheRefresh=Yt,Li.useMemoCache=Yt,Li.useHostTransitionStatus=Yt,Li.useFormState=Yt,Li.useActionState=Yt,Li.useOptimistic=Yt;var mo={readContext:Un,use:tf,useCallback:function(r,s){return ur().memoizedState=[r,s===void 0?null:s],r},useContext:Un,useEffect:E_,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,rf(4194308,4,w_.bind(null,s,r),o)},useLayoutEffect:function(r,s){return rf(4194308,4,r,s)},useInsertionEffect:function(r,s){rf(4,2,r,s)},useMemo:function(r,s){var o=ur();s=s===void 0?null:s;var u=r();if(ho){Hn(!0);try{r()}finally{Hn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(r,s,o){var u=ur();if(o!==void 0){var m=o(s);if(ho){Hn(!0);try{o(s)}finally{Hn(!1)}}}else m=s;return u.memoizedState=u.baseState=m,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:m},u.queue=r,r=r.dispatch=X1.bind(null,We,r),[u.memoizedState,r]},useRef:function(r){var s=ur();return r={current:r},s.memoizedState=r},useState:function(r){r=Gd(r);var s=r.queue,o=k_.bind(null,We,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:Yd,useDeferredValue:function(r,s){var o=ur();return Wd(o,r,s)},useTransition:function(){var r=Gd(!1);return r=I_.bind(null,We,r.queue,!0,!1),ur().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var u=We,m=ur();if(pt){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),Ot===null)throw Error(i(349));ut&60||i_(u,s,o)}m.memoizedState=o;var g={value:o,getSnapshot:s};return m.queue=g,E_(a_.bind(null,u,g,r),[r]),u.flags|=2048,cl(9,s_.bind(null,u,g,o,s),{destroy:void 0},null),o},useId:function(){var r=ur(),s=Ot.identifierPrefix;if(pt){var o=cs,u=us;o=(u&~(1<<32-gn(u)-1)).toString(32)+o,s=":"+s+"R"+o,o=Jc++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=$1++,s=":"+s+"r"+o.toString(32)+":";return r.memoizedState=s},useCacheRefresh:function(){return ur().memoizedState=W1.bind(null,We)}};mo.useMemoCache=Fd,mo.useHostTransitionStatus=Zd,mo.useFormState=p_,mo.useActionState=p_,mo.useOptimistic=function(r){var s=ur();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Jd.bind(null,We,!0,o),o.dispatch=s,[r,s]};var sa={readContext:Un,use:tf,useCallback:R_,useContext:Un,useEffect:Qd,useImperativeHandle:S_,useInsertionEffect:T_,useLayoutEffect:b_,useMemo:A_,useReducer:nf,useRef:__,useState:function(){return nf(hs)},useDebugValue:Yd,useDeferredValue:function(r,s){var o=nn();return C_(o,wt.memoizedState,r,s)},useTransition:function(){var r=nf(hs)[0],s=nn().memoizedState;return[typeof r=="boolean"?r:_u(r),s]},useSyncExternalStore:r_,useId:N_};sa.useCacheRefresh=D_,sa.useMemoCache=Fd,sa.useHostTransitionStatus=Zd,sa.useFormState=g_,sa.useActionState=g_,sa.useOptimistic=function(r,s){var o=nn();return u_(o,wt,r,s)};var po={readContext:Un,use:tf,useCallback:R_,useContext:Un,useEffect:Qd,useImperativeHandle:S_,useInsertionEffect:T_,useLayoutEffect:b_,useMemo:A_,useReducer:$d,useRef:__,useState:function(){return $d(hs)},useDebugValue:Yd,useDeferredValue:function(r,s){var o=nn();return wt===null?Wd(o,r,s):C_(o,wt.memoizedState,r,s)},useTransition:function(){var r=$d(hs)[0],s=nn().memoizedState;return[typeof r=="boolean"?r:_u(r),s]},useSyncExternalStore:r_,useId:N_};po.useCacheRefresh=D_,po.useMemoCache=Fd,po.useHostTransitionStatus=Zd,po.useFormState=v_,po.useActionState=v_,po.useOptimistic=function(r,s){var o=nn();return wt!==null?u_(o,wt,r,s):(o.baseState=r,[r,o.queue.dispatch])};function em(r,s,o,u){s=r.memoizedState,o=o(u,s),o=o==null?s:M({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var tm={isMounted:function(r){return(r=r._reactInternals)?ge(r)===r:!1},enqueueSetState:function(r,s,o){r=r._reactInternals;var u=wr(),m=la(u);m.payload=s,o!=null&&(m.callback=o),s=ua(r,m,u),s!==null&&(Wn(s,r,u),wu(s,r,u))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var u=wr(),m=la(u);m.tag=1,m.payload=s,o!=null&&(m.callback=o),s=ua(r,m,u),s!==null&&(Wn(s,r,u),wu(s,r,u))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=wr(),u=la(o);u.tag=2,s!=null&&(u.callback=s),s=ua(r,u,o),s!==null&&(Wn(s,r,o),wu(s,r,o))}};function L_(r,s,o,u,m,g,b){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,g,b):s.prototype&&s.prototype.isPureReactComponent?!ou(o,u)||!ou(m,g):!0}function U_(r,s,o,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==r&&tm.enqueueReplaceState(s,s.state,null)}function go(r,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(r=r.defaultProps){o===s&&(o=M({},o));for(var m in r)o[m]===void 0&&(o[m]=r[m])}return o}var of=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function V_(r){of(r)}function j_(r){console.error(r)}function B_(r){of(r)}function lf(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function z_(r,s,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function nm(r,s,o){return o=la(o),o.tag=3,o.payload={element:null},o.callback=function(){lf(r,s)},o}function q_(r){return r=la(r),r.tag=3,r}function F_(r,s,o,u){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var g=u.value;r.payload=function(){return m(g)},r.callback=function(){z_(s,o,u)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(r.callback=function(){z_(s,o,u),typeof m!="function"&&(pa===null?pa=new Set([this]):pa.add(this));var I=u.stack;this.componentDidCatch(u.value,{componentStack:I!==null?I:""})})}function Z1(r,s,o,u,m){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&bu(s,o,m,!0),o=Br.current,o!==null){switch(o.tag){case 13:return Mi===null?Um():o.alternate===null&&Ht===0&&(Ht=3),o.flags&=-257,o.flags|=65536,o.lanes=m,u===Dd?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),jm(r,u,m)),!1;case 22:return o.flags|=65536,u===Dd?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),jm(r,u,m)),!1}throw Error(i(435,o.tag))}return jm(r,u,m),Um(),!1}if(pt)return s=Br.current,s!==null?(!(s.flags&65536)&&(s.flags|=256),s.flags|=65536,s.lanes=m,u!==Nd&&(r=Error(i(422),{cause:u}),fu(Ur(r,o)))):(u!==Nd&&(s=Error(i(423),{cause:u}),fu(Ur(s,o))),r=r.current.alternate,r.flags|=65536,m&=-m,r.lanes|=m,u=Ur(u,o),m=nm(r.stateNode,u,m),ym(r,m),Ht!==4&&(Ht=2)),!1;var g=Error(i(520),{cause:u});if(g=Ur(g,o),Nu===null?Nu=[g]:Nu.push(g),Ht!==4&&(Ht=2),s===null)return!0;u=Ur(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=m&-m,o.lanes|=r,r=nm(o.stateNode,u,r),ym(o,r),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(pa===null||!pa.has(g))))return o.flags|=65536,m&=-m,o.lanes|=m,m=q_(m),F_(m,r,o,u),ym(o,m),!1}o=o.return}while(o!==null);return!1}var H_=Error(i(461)),En=!1;function In(r,s,o,u){s.child=r===null?Yv(s,null,o,u):co(s,r.child,o,u)}function $_(r,s,o,u,m){o=o.render;var g=s.ref;if("ref"in u){var b={};for(var I in u)I!=="ref"&&(b[I]=u[I])}else b=u;return vo(s),u=jd(r,s,o,b,g,m),I=Bd(),r!==null&&!En?(zd(r,s,m),ds(r,s,m)):(pt&&I&&Od(s),s.flags|=1,In(r,s,u,m),s.child)}function G_(r,s,o,u,m){if(r===null){var g=o.type;return typeof g=="function"&&!Rm(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,K_(r,s,g,u,m)):(r=df(o.type,null,u,s,s.mode,m),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!fm(r,m)){var b=g.memoizedProps;if(o=o.compare,o=o!==null?o:ou,o(b,u)&&r.ref===s.ref)return ds(r,s,m)}return s.flags|=1,r=da(g,u),r.ref=s.ref,r.return=s,s.child=r}function K_(r,s,o,u,m){if(r!==null){var g=r.memoizedProps;if(ou(g,u)&&r.ref===s.ref)if(En=!1,s.pendingProps=u=g,fm(r,m))r.flags&131072&&(En=!0);else return s.lanes=r.lanes,ds(r,s,m)}return rm(r,s,o,u,m)}function Q_(r,s,o){var u=s.pendingProps,m=u.children,g=(s.stateNode._pendingVisibility&2)!==0,b=r!==null?r.memoizedState:null;if(Tu(r,s),u.mode==="hidden"||g){if(s.flags&128){if(u=b!==null?b.baseLanes|o:o,r!==null){for(m=s.child=r.child,g=0;m!==null;)g=g|m.lanes|m.childLanes,m=m.sibling;s.childLanes=g&~u}else s.childLanes=0,s.child=null;return Y_(r,s,u,o)}if(o&536870912)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Xc(s,b!==null?b.cachePool:null),b!==null?Wv(s,b):kd(),Xv(s);else return s.lanes=s.childLanes=536870912,Y_(r,s,b!==null?b.baseLanes|o:o,o)}else b!==null?(Xc(s,b.cachePool),Wv(s,b),ra(),s.memoizedState=null):(r!==null&&Xc(s,null),kd(),ra());return In(r,s,m,o),s.child}function Y_(r,s,o,u){var m=Ud();return m=m===null?null:{parent:fn._currentValue,pool:m},s.memoizedState={baseLanes:o,cachePool:m},r!==null&&Xc(s,null),kd(),Xv(s),r!==null&&bu(r,s,u,!0),null}function Tu(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=2097664);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=2097664)}}function rm(r,s,o,u,m){return vo(s),o=jd(r,s,o,u,void 0,m),u=Bd(),r!==null&&!En?(zd(r,s,m),ds(r,s,m)):(pt&&u&&Od(s),s.flags|=1,In(r,s,o,m),s.child)}function W_(r,s,o,u,m,g){return vo(s),s.updateQueue=null,o=n_(s,u,o,m),t_(r),u=Bd(),r!==null&&!En?(zd(r,s,g),ds(r,s,g)):(pt&&u&&Od(s),s.flags|=1,In(r,s,o,g),s.child)}function X_(r,s,o,u,m){if(vo(s),s.stateNode===null){var g=tl,b=o.contextType;typeof b=="object"&&b!==null&&(g=Un(b)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=tm,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},pm(s),b=o.contextType,g.context=typeof b=="object"&&b!==null?Un(b):tl,g.state=s.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(em(s,o,b,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&tm.enqueueReplaceState(g,g.state,null),Ru(s,u,g,m),Su(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(r===null){g=s.stateNode;var I=s.memoizedProps,V=go(o,I);g.props=V;var Q=g.context,oe=o.contextType;b=tl,typeof oe=="object"&&oe!==null&&(b=Un(oe));var de=o.getDerivedStateFromProps;oe=typeof de=="function"||typeof g.getSnapshotBeforeUpdate=="function",I=s.pendingProps!==I,oe||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(I||Q!==b)&&U_(s,g,u,b),oa=!1;var ne=s.memoizedState;g.state=ne,Ru(s,u,g,m),Su(),Q=s.memoizedState,I||ne!==Q||oa?(typeof de=="function"&&(em(s,o,de,u),Q=s.memoizedState),(V=oa||L_(s,o,V,u,ne,Q,b))?(oe||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=Q),g.props=u,g.state=Q,g.context=b,u=V):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,gm(r,s),b=s.memoizedProps,oe=go(o,b),g.props=oe,de=s.pendingProps,ne=g.context,Q=o.contextType,V=tl,typeof Q=="object"&&Q!==null&&(V=Un(Q)),I=o.getDerivedStateFromProps,(Q=typeof I=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==de||ne!==V)&&U_(s,g,u,V),oa=!1,ne=s.memoizedState,g.state=ne,Ru(s,u,g,m),Su();var ae=s.memoizedState;b!==de||ne!==ae||oa||r!==null&&r.dependencies!==null&&uf(r.dependencies)?(typeof I=="function"&&(em(s,o,I,u),ae=s.memoizedState),(oe=oa||L_(s,o,oe,u,ne,ae,V)||r!==null&&r.dependencies!==null&&uf(r.dependencies))?(Q||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,ae,V),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,ae,V)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===r.memoizedProps&&ne===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&ne===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=ae),g.props=u,g.state=ae,g.context=V,u=oe):(typeof g.componentDidUpdate!="function"||b===r.memoizedProps&&ne===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&ne===r.memoizedState||(s.flags|=1024),u=!1)}return g=u,Tu(r,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,r!==null&&u?(s.child=co(s,r.child,null,m),s.child=co(s,null,o,m)):In(r,s,o,m),s.memoizedState=g.state,r=s.child):r=ds(r,s,m),r}function Z_(r,s,o,u){return cu(),s.flags|=256,In(r,s,o,u),s.child}var im={dehydrated:null,treeContext:null,retryLane:0};function sm(r){return{baseLanes:r,cachePool:e_()}}function am(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=Hr),r}function J_(r,s,o){var u=s.pendingProps,m=!1,g=(s.flags&128)!==0,b;if((b=g)||(b=r!==null&&r.memoizedState===null?!1:(cn.current&2)!==0),b&&(m=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,r===null){if(pt){if(m?na(s):ra(),pt){var I=Cn,V;if(V=I){e:{for(V=I,I=Pi;V.nodeType!==8;){if(!I){I=null;break e}if(V=li(V.nextSibling),V===null){I=null;break e}}I=V}I!==null?(s.memoizedState={dehydrated:I,treeContext:oo!==null?{id:us,overflow:cs}:null,retryLane:536870912},V=Fr(18,null,null,0),V.stateNode=I,V.return=s,s.child=V,Yn=s,Cn=null,V=!0):V=!1}V||uo(s)}if(I=s.memoizedState,I!==null&&(I=I.dehydrated,I!==null))return I.data==="$!"?s.lanes=16:s.lanes=536870912,null;fs(s)}return I=u.children,u=u.fallback,m?(ra(),m=s.mode,I=lm({mode:"hidden",children:I},m),u=Eo(u,m,o,null),I.return=s,u.return=s,I.sibling=u,s.child=I,m=s.child,m.memoizedState=sm(o),m.childLanes=am(r,b,o),s.memoizedState=im,u):(na(s),om(s,I))}if(V=r.memoizedState,V!==null&&(I=V.dehydrated,I!==null)){if(g)s.flags&256?(na(s),s.flags&=-257,s=um(r,s,o)):s.memoizedState!==null?(ra(),s.child=r.child,s.flags|=128,s=null):(ra(),m=u.fallback,I=s.mode,u=lm({mode:"visible",children:u.children},I),m=Eo(m,I,o,null),m.flags|=2,u.return=s,m.return=s,u.sibling=m,s.child=u,co(s,r.child,null,o),u=s.child,u.memoizedState=sm(o),u.childLanes=am(r,b,o),s.memoizedState=im,s=m);else if(na(s),I.data==="$!"){if(b=I.nextSibling&&I.nextSibling.dataset,b)var Q=b.dgst;b=Q,u=Error(i(419)),u.stack="",u.digest=b,fu({value:u,source:null,stack:null}),s=um(r,s,o)}else if(En||bu(r,s,o,!1),b=(o&r.childLanes)!==0,En||b){if(b=Ot,b!==null){if(u=o&-o,u&42)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=u&(b.suspendedLanes|o)?0:u,u!==0&&u!==V.retryLane)throw V.retryLane=u,ta(r,u),Wn(b,r,u),H_}I.data==="$?"||Um(),s=um(r,s,o)}else I.data==="$?"?(s.flags|=128,s.child=r.child,s=dC.bind(null,r),I._reactRetry=s,s=null):(r=V.treeContext,Cn=li(I.nextSibling),Yn=s,pt=!0,ai=null,Pi=!1,r!==null&&(Vr[jr++]=us,Vr[jr++]=cs,Vr[jr++]=oo,us=r.id,cs=r.overflow,oo=s),s=om(s,u.children),s.flags|=4096);return s}return m?(ra(),m=u.fallback,I=s.mode,V=r.child,Q=V.sibling,u=da(V,{mode:"hidden",children:u.children}),u.subtreeFlags=V.subtreeFlags&31457280,Q!==null?m=da(Q,m):(m=Eo(m,I,o,null),m.flags|=2),m.return=s,u.return=s,u.sibling=m,s.child=u,u=m,m=s.child,I=r.child.memoizedState,I===null?I=sm(o):(V=I.cachePool,V!==null?(Q=fn._currentValue,V=V.parent!==Q?{parent:Q,pool:Q}:V):V=e_(),I={baseLanes:I.baseLanes|o,cachePool:V}),m.memoizedState=I,m.childLanes=am(r,b,o),s.memoizedState=im,u):(na(s),o=r.child,r=o.sibling,o=da(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,r!==null&&(b=s.deletions,b===null?(s.deletions=[r],s.flags|=16):b.push(r)),s.child=o,s.memoizedState=null,o)}function om(r,s){return s=lm({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function lm(r,s){return RE(r,s,0,null)}function um(r,s,o){return co(s,r.child,null,o),r=om(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function eE(r,s,o){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),dm(r.return,s,o)}function cm(r,s,o,u,m){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:m}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=m)}function tE(r,s,o){var u=s.pendingProps,m=u.revealOrder,g=u.tail;if(In(r,s,u.children,o),u=cn.current,u&2)u=u&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&eE(r,o,s);else if(r.tag===19)eE(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(rt(cn,u),m){case"forwards":for(o=s.child,m=null;o!==null;)r=o.alternate,r!==null&&Wc(r)===null&&(m=o),o=o.sibling;o=m,o===null?(m=s.child,s.child=null):(m=o.sibling,o.sibling=null),cm(s,!1,m,o,g);break;case"backwards":for(o=null,m=s.child,s.child=null;m!==null;){if(r=m.alternate,r!==null&&Wc(r)===null){s.child=m;break}r=m.sibling,m.sibling=o,o=m,m=r}cm(s,!0,o,null,g);break;case"together":cm(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ds(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),ma|=s.lanes,!(o&s.childLanes))if(r!==null){if(bu(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=da(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=da(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function fm(r,s){return r.lanes&s?!0:(r=r.dependencies,!!(r!==null&&uf(r)))}function J1(r,s,o){switch(s.tag){case 3:dt(s,s.stateNode.containerInfo),aa(s,fn,r.memoizedState.cache),cu();break;case 27:case 5:Cr(s);break;case 4:dt(s,s.stateNode.containerInfo);break;case 10:aa(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(na(s),s.flags|=128,null):o&s.child.childLanes?J_(r,s,o):(na(s),r=ds(r,s,o),r!==null?r.sibling:null);na(s);break;case 19:var m=(r.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(bu(r,s,o,!1),u=(o&s.childLanes)!==0),m){if(u)return tE(r,s,o);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),rt(cn,cn.current),u)break;return null;case 22:case 23:return s.lanes=0,Q_(r,s,o);case 24:aa(s,fn,r.memoizedState.cache)}return ds(r,s,o)}function nE(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)En=!0;else{if(!fm(r,o)&&!(s.flags&128))return En=!1,J1(r,s,o);En=!!(r.flags&131072)}else En=!1,pt&&s.flags&1048576&&Bv(s,$c,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var u=s.elementType,m=u._init;if(u=m(u._payload),s.type=u,typeof u=="function")Rm(u)?(r=go(u,r),s.tag=1,s=X_(null,s,u,r,o)):(s.tag=0,s=rm(null,s,u,r,o));else{if(u!=null){if(m=u.$$typeof,m===P){s.tag=11,s=$_(null,s,u,r,o);break e}else if(m===H){s.tag=14,s=G_(null,s,u,r,o);break e}}throw s=k(u)||u,Error(i(306,s,""))}}return s;case 0:return rm(r,s,s.type,s.pendingProps,o);case 1:return u=s.type,m=go(u,s.pendingProps),X_(r,s,u,m,o);case 3:e:{if(dt(s,s.stateNode.containerInfo),r===null)throw Error(i(387));var g=s.pendingProps;m=s.memoizedState,u=m.element,gm(r,s),Ru(s,g,null,o);var b=s.memoizedState;if(g=b.cache,aa(s,fn,g),g!==m.cache&&mm(s,[fn],o,!0),Su(),g=b.element,m.isDehydrated)if(m={element:g,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=Z_(r,s,g,o);break e}else if(g!==u){u=Ur(Error(i(424)),s),fu(u),s=Z_(r,s,g,o);break e}else for(Cn=li(s.stateNode.containerInfo.firstChild),Yn=s,pt=!0,ai=null,Pi=!0,o=Yv(s,null,g,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(cu(),g===u){s=ds(r,s,o);break e}In(r,s,g,o)}s=s.child}return s;case 26:return Tu(r,s),r===null?(o=s0(s.type,null,s.pendingProps,null))?s.memoizedState=o:pt||(o=s.type,r=s.pendingProps,u=Rf(mn.current).createElement(o),u[Jt]=s,u[qt]=r,On(u,o,r),Dt(u),s.stateNode=u):s.memoizedState=s0(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Cr(s),r===null&&pt&&(u=s.stateNode=n0(s.type,s.pendingProps,mn.current),Yn=s,Pi=!0,Cn=li(u.firstChild)),u=s.pendingProps.children,r!==null||pt?In(r,s,u,o):s.child=co(s,null,u,o),Tu(r,s),s.child;case 5:return r===null&&pt&&((m=u=Cn)&&(u=OC(u,s.type,s.pendingProps,Pi),u!==null?(s.stateNode=u,Yn=s,Cn=li(u.firstChild),Pi=!1,m=!0):m=!1),m||uo(s)),Cr(s),m=s.type,g=s.pendingProps,b=r!==null?r.memoizedProps:null,u=g.children,Xm(m,g)?u=null:b!==null&&Xm(m,b)&&(s.flags|=32),s.memoizedState!==null&&(m=jd(r,s,G1,null,null,o),Bu._currentValue=m),Tu(r,s),In(r,s,u,o),s.child;case 6:return r===null&&pt&&((r=o=Cn)&&(o=xC(o,s.pendingProps,Pi),o!==null?(s.stateNode=o,Yn=s,Cn=null,r=!0):r=!1),r||uo(s)),null;case 13:return J_(r,s,o);case 4:return dt(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=co(s,null,u,o):In(r,s,u,o),s.child;case 11:return $_(r,s,s.type,s.pendingProps,o);case 7:return In(r,s,s.pendingProps,o),s.child;case 8:return In(r,s,s.pendingProps.children,o),s.child;case 12:return In(r,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,aa(s,s.type,u.value),In(r,s,u.children,o),s.child;case 9:return m=s.type._context,u=s.pendingProps.children,vo(s),m=Un(m),u=u(m),s.flags|=1,In(r,s,u,o),s.child;case 14:return G_(r,s,s.type,s.pendingProps,o);case 15:return K_(r,s,s.type,s.pendingProps,o);case 19:return tE(r,s,o);case 22:return Q_(r,s,o);case 24:return vo(s),u=Un(fn),r===null?(m=Ud(),m===null&&(m=Ot,g=Md(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=o),m=g),s.memoizedState={parent:u,cache:m},pm(s),aa(s,fn,m)):(r.lanes&o&&(gm(r,s),Ru(s,null,null,o),Su()),m=r.memoizedState,g=s.memoizedState,m.parent!==u?(m={parent:u,cache:u},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),aa(s,fn,u)):(u=g.cache,aa(s,fn,u),u!==m.cache&&mm(s,[fn],o,!0))),In(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}var hm=et(null),yo=null,ms=null;function aa(r,s,o){rt(hm,s._currentValue),s._currentValue=o}function ps(r){r._currentValue=hm.current,_t(hm)}function dm(r,s,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===o)break;r=r.return}}function mm(r,s,o,u){var m=r.child;for(m!==null&&(m.return=r);m!==null;){var g=m.dependencies;if(g!==null){var b=m.child;g=g.firstContext;e:for(;g!==null;){var I=g;g=m;for(var V=0;V<s.length;V++)if(I.context===s[V]){g.lanes|=o,I=g.alternate,I!==null&&(I.lanes|=o),dm(g.return,o,r),u||(b=null);break e}g=I.next}}else if(m.tag===18){if(b=m.return,b===null)throw Error(i(341));b.lanes|=o,g=b.alternate,g!==null&&(g.lanes|=o),dm(b,o,r),b=null}else b=m.child;if(b!==null)b.return=m;else for(b=m;b!==null;){if(b===r){b=null;break}if(m=b.sibling,m!==null){m.return=b.return,b=m;break}b=b.return}m=b}}function bu(r,s,o,u){r=null;for(var m=s,g=!1;m!==null;){if(!g){if(m.flags&524288)g=!0;else if(m.flags&262144)break}if(m.tag===10){var b=m.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var I=m.type;_r(m.pendingProps.value,b.value)||(r!==null?r.push(I):r=[I])}}else if(m===Fn.current){if(b=m.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(r!==null?r.push(Bu):r=[Bu])}m=m.return}r!==null&&mm(s,r,o,u),s.flags|=262144}function uf(r){for(r=r.firstContext;r!==null;){if(!_r(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function vo(r){yo=r,ms=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Un(r){return rE(yo,r)}function cf(r,s){return yo===null&&vo(r),rE(r,s)}function rE(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},ms===null){if(r===null)throw Error(i(308));ms=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else ms=ms.next=s;return o}var oa=!1;function pm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function la(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ua(r,s,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,jt&2){var m=u.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),u.pending=s,s=Fc(r),Vv(r,null,o),s}return qc(r,u,s,o),Fc(r)}function wu(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194176)!==0)){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Ei(r,o)}}function ym(r,s){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var m=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?m=g=b:g=g.next=b,o=o.next}while(o!==null);g===null?m=g=s:g=g.next=s}else m=g=s;o={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var vm=!1;function Su(){if(vm){var r=ol;if(r!==null)throw r}}function Ru(r,s,o,u){vm=!1;var m=r.updateQueue;oa=!1;var g=m.firstBaseUpdate,b=m.lastBaseUpdate,I=m.shared.pending;if(I!==null){m.shared.pending=null;var V=I,Q=V.next;V.next=null,b===null?g=Q:b.next=Q,b=V;var oe=r.alternate;oe!==null&&(oe=oe.updateQueue,I=oe.lastBaseUpdate,I!==b&&(I===null?oe.firstBaseUpdate=Q:I.next=Q,oe.lastBaseUpdate=V))}if(g!==null){var de=m.baseState;b=0,oe=Q=V=null,I=g;do{var ne=I.lane&-536870913,ae=ne!==I.lane;if(ae?(ut&ne)===ne:(u&ne)===ne){ne!==0&&ne===al&&(vm=!0),oe!==null&&(oe=oe.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var xe=r,$e=I;ne=s;var $t=o;switch($e.tag){case 1:if(xe=$e.payload,typeof xe=="function"){de=xe.call($t,de,ne);break e}de=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=$e.payload,ne=typeof xe=="function"?xe.call($t,de,ne):xe,ne==null)break e;de=M({},de,ne);break e;case 2:oa=!0}}ne=I.callback,ne!==null&&(r.flags|=64,ae&&(r.flags|=8192),ae=m.callbacks,ae===null?m.callbacks=[ne]:ae.push(ne))}else ae={lane:ne,tag:I.tag,payload:I.payload,callback:I.callback,next:null},oe===null?(Q=oe=ae,V=de):oe=oe.next=ae,b|=ne;if(I=I.next,I===null){if(I=m.shared.pending,I===null)break;ae=I,I=ae.next,ae.next=null,m.lastBaseUpdate=ae,m.shared.pending=null}}while(!0);oe===null&&(V=de),m.baseState=V,m.firstBaseUpdate=Q,m.lastBaseUpdate=oe,g===null&&(m.shared.lanes=0),ma|=b,r.lanes=b,r.memoizedState=de}}function iE(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function sE(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)iE(o[r],s)}function Au(r,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var m=u.next;o=m;do{if((o.tag&r)===r){u=void 0;var g=o.create,b=o.inst;u=g(),b.destroy=u}o=o.next}while(o!==m)}}catch(I){It(s,s.return,I)}}function ca(r,s,o){try{var u=s.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var g=m.next;u=g;do{if((u.tag&r)===r){var b=u.inst,I=b.destroy;if(I!==void 0){b.destroy=void 0,m=s;var V=o;try{I()}catch(Q){It(m,V,Q)}}}u=u.next}while(u!==g)}}catch(Q){It(s,s.return,Q)}}function aE(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{sE(s,o)}catch(u){It(r,r.return,u)}}}function oE(r,s,o){o.props=go(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){It(r,s,u)}}function _o(r,s){try{var o=r.ref;if(o!==null){var u=r.stateNode;switch(r.tag){case 26:case 27:case 5:var m=u;break;default:m=u}typeof o=="function"?r.refCleanup=o(m):o.current=m}}catch(g){It(r,s,g)}}function Er(r,s){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(m){It(r,s,m)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){It(r,s,m)}else o.current=null}function lE(r){var s=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(m){It(r,r.return,m)}}function uE(r,s,o){try{var u=r.stateNode;SC(u,r.type,o,s),u[qt]=s}catch(m){It(r,r.return,m)}}function cE(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27||r.tag===4}function _m(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||cE(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==27&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Em(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(r,s):o.insertBefore(r,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(r,o)):(s=o,s.appendChild(r)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Sf));else if(u!==4&&u!==27&&(r=r.child,r!==null))for(Em(r,s,o),r=r.sibling;r!==null;)Em(r,s,o),r=r.sibling}function ff(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(u!==4&&u!==27&&(r=r.child,r!==null))for(ff(r,s,o),r=r.sibling;r!==null;)ff(r,s,o),r=r.sibling}var gs=!1,Ft=!1,Tm=!1,fE=typeof WeakSet=="function"?WeakSet:Set,Tn=null,hE=!1;function eC(r,s){if(r=r.containerInfo,Ym=Nf,r=Ov(r),wd(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var m=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var b=0,I=-1,V=-1,Q=0,oe=0,de=r,ne=null;t:for(;;){for(var ae;de!==o||m!==0&&de.nodeType!==3||(I=b+m),de!==g||u!==0&&de.nodeType!==3||(V=b+u),de.nodeType===3&&(b+=de.nodeValue.length),(ae=de.firstChild)!==null;)ne=de,de=ae;for(;;){if(de===r)break t;if(ne===o&&++Q===m&&(I=b),ne===g&&++oe===u&&(V=b),(ae=de.nextSibling)!==null)break;de=ne,ne=de.parentNode}de=ae}o=I===-1||V===-1?null:{start:I,end:V}}else o=null}o=o||{start:0,end:0}}else o=null;for(Wm={focusedElem:r,selectionRange:o},Nf=!1,Tn=s;Tn!==null;)if(s=Tn,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,Tn=r;else for(;Tn!==null;){switch(s=Tn,g=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if(r&1024&&g!==null){r=void 0,o=s,m=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var xe=go(o.type,m,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(xe,g),u.__reactInternalSnapshotBeforeUpdate=r}catch($e){It(o,o.return,$e)}}break;case 3:if(r&1024){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)ep(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":ep(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(r&1024)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,Tn=r;break}Tn=s.return}return xe=hE,hE=!1,xe}function dE(r,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:vs(r,o),u&4&&Au(5,o);break;case 1:if(vs(r,o),u&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(I){It(o,o.return,I)}else{var m=go(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(m,s,r.__reactInternalSnapshotBeforeUpdate)}catch(I){It(o,o.return,I)}}u&64&&aE(o),u&512&&_o(o,o.return);break;case 3:if(vs(r,o),u&64&&(u=o.updateQueue,u!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{sE(u,r)}catch(I){It(o,o.return,I)}}break;case 26:vs(r,o),u&512&&_o(o,o.return);break;case 27:case 5:vs(r,o),s===null&&u&4&&lE(o),u&512&&_o(o,o.return);break;case 12:vs(r,o);break;case 13:vs(r,o),u&4&&gE(r,o);break;case 22:if(m=o.memoizedState!==null||gs,!m){s=s!==null&&s.memoizedState!==null||Ft;var g=gs,b=Ft;gs=m,(Ft=s)&&!b?fa(r,o,(o.subtreeFlags&8772)!==0):vs(r,o),gs=g,Ft=b}u&512&&(o.memoizedProps.mode==="manual"?_o(o,o.return):Er(o,o.return));break;default:vs(r,o)}}function mE(r){var s=r.alternate;s!==null&&(r.alternate=null,mE(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&pr(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var rn=null,Tr=!1;function ys(r,s,o){for(o=o.child;o!==null;)pE(r,s,o),o=o.sibling}function pE(r,s,o){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(Kr,o)}catch{}switch(o.tag){case 26:Ft||Er(o,s),ys(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ft||Er(o,s);var u=rn,m=Tr;for(rn=o.stateNode,ys(r,s,o),o=o.stateNode,s=o.attributes;s.length;)o.removeAttributeNode(s[0]);pr(o),rn=u,Tr=m;break;case 5:Ft||Er(o,s);case 6:m=rn;var g=Tr;if(rn=null,ys(r,s,o),rn=m,Tr=g,rn!==null)if(Tr)try{r=rn,u=o.stateNode,r.nodeType===8?r.parentNode.removeChild(u):r.removeChild(u)}catch(b){It(o,s,b)}else try{rn.removeChild(o.stateNode)}catch(b){It(o,s,b)}break;case 18:rn!==null&&(Tr?(s=rn,o=o.stateNode,s.nodeType===8?Jm(s.parentNode,o):s.nodeType===1&&Jm(s,o),Hu(s)):Jm(rn,o.stateNode));break;case 4:u=rn,m=Tr,rn=o.stateNode.containerInfo,Tr=!0,ys(r,s,o),rn=u,Tr=m;break;case 0:case 11:case 14:case 15:Ft||ca(2,o,s),Ft||ca(4,o,s),ys(r,s,o);break;case 1:Ft||(Er(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&oE(o,s,u)),ys(r,s,o);break;case 21:ys(r,s,o);break;case 22:Ft||Er(o,s),Ft=(u=Ft)||o.memoizedState!==null,ys(r,s,o),Ft=u;break;default:ys(r,s,o)}}function gE(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Hu(r)}catch(o){It(s,s.return,o)}}function tC(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new fE),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new fE),s;default:throw Error(i(435,r.tag))}}function bm(r,s){var o=tC(r);s.forEach(function(u){var m=mC.bind(null,r,u);o.has(u)||(o.add(u),u.then(m,m))})}function zr(r,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var m=o[u],g=r,b=s,I=b;e:for(;I!==null;){switch(I.tag){case 27:case 5:rn=I.stateNode,Tr=!1;break e;case 3:rn=I.stateNode.containerInfo,Tr=!0;break e;case 4:rn=I.stateNode.containerInfo,Tr=!0;break e}I=I.return}if(rn===null)throw Error(i(160));pE(g,b,m),rn=null,Tr=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)yE(s,r),s=s.sibling}var oi=null;function yE(r,s){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:zr(s,r),qr(r),u&4&&(ca(3,r,r.return),Au(3,r),ca(5,r,r.return));break;case 1:zr(s,r),qr(r),u&512&&(Ft||o===null||Er(o,o.return)),u&64&&gs&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var m=oi;if(zr(s,r),qr(r),u&512&&(Ft||o===null||Er(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,m=m.ownerDocument||m;t:switch(u){case"title":g=m.getElementsByTagName("title")[0],(!g||g[Wr]||g[Jt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(u),m.head.insertBefore(g,m.querySelector("head > title"))),On(g,u,o),g[Jt]=r,Dt(g),u=g;break e;case"link":var b=l0("link","href",m).get(u+(o.href||""));if(b){for(var I=0;I<b.length;I++)if(g=b[I],g.getAttribute("href")===(o.href==null?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(I,1);break t}}g=m.createElement(u),On(g,u,o),m.head.appendChild(g);break;case"meta":if(b=l0("meta","content",m).get(u+(o.content||""))){for(I=0;I<b.length;I++)if(g=b[I],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(I,1);break t}}g=m.createElement(u),On(g,u,o),m.head.appendChild(g);break;default:throw Error(i(468,u))}g[Jt]=r,Dt(g),u=g}r.stateNode=u}else u0(m,r.type,r.stateNode);else r.stateNode=o0(m,u,r.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?u0(m,r.type,r.stateNode):o0(m,u,r.memoizedProps)):u===null&&r.stateNode!==null&&uE(r,r.memoizedProps,o.memoizedProps)}break;case 27:if(u&4&&r.alternate===null){m=r.stateNode,g=r.memoizedProps;try{for(var V=m.firstChild;V;){var Q=V.nextSibling,oe=V.nodeName;V[Wr]||oe==="HEAD"||oe==="BODY"||oe==="SCRIPT"||oe==="STYLE"||oe==="LINK"&&V.rel.toLowerCase()==="stylesheet"||m.removeChild(V),V=Q}for(var de=r.type,ne=m.attributes;ne.length;)m.removeAttributeNode(ne[0]);On(m,de,g),m[Jt]=r,m[qt]=g}catch(xe){It(r,r.return,xe)}}case 5:if(zr(s,r),qr(r),u&512&&(Ft||o===null||Er(o,o.return)),r.flags&32){m=r.stateNode;try{nr(m,"")}catch(xe){It(r,r.return,xe)}}u&4&&r.stateNode!=null&&(m=r.memoizedProps,uE(r,m,o!==null?o.memoizedProps:m)),u&1024&&(Tm=!0);break;case 6:if(zr(s,r),qr(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(xe){It(r,r.return,xe)}}break;case 3:if(If=null,m=oi,oi=Af(s.containerInfo),zr(s,r),oi=m,qr(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Hu(s.containerInfo)}catch(xe){It(r,r.return,xe)}Tm&&(Tm=!1,vE(r));break;case 4:u=oi,oi=Af(r.stateNode.containerInfo),zr(s,r),qr(r),oi=u;break;case 12:zr(s,r),qr(r);break;case 13:zr(s,r),qr(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Nm=Rn()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,bm(r,u)));break;case 22:if(u&512&&(Ft||o===null||Er(o,o.return)),V=r.memoizedState!==null,Q=o!==null&&o.memoizedState!==null,oe=gs,de=Ft,gs=oe||V,Ft=de||Q,zr(s,r),Ft=de,gs=oe,qr(r),s=r.stateNode,s._current=r,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,u&8192&&(s._visibility=V?s._visibility&-2:s._visibility|1,V&&(s=gs||Ft,o===null||Q||s||fl(r)),r.memoizedProps===null||r.memoizedProps.mode!=="manual"))e:for(o=null,s=r;;){if(s.tag===5||s.tag===26||s.tag===27){if(o===null){Q=o=s;try{if(m=Q.stateNode,V)g=m.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{b=Q.stateNode,I=Q.memoizedProps.style;var ae=I!=null&&I.hasOwnProperty("display")?I.display:null;b.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(xe){It(Q,Q.return,xe)}}}else if(s.tag===6){if(o===null){Q=s;try{Q.stateNode.nodeValue=V?"":Q.memoizedProps}catch(xe){It(Q,Q.return,xe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,bm(r,o))));break;case 19:zr(s,r),qr(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,bm(r,u)));break;case 21:break;default:zr(s,r),qr(r)}}function qr(r){var s=r.flags;if(s&2){try{if(r.tag!==27){e:{for(var o=r.return;o!==null;){if(cE(o)){var u=o;break e}o=o.return}throw Error(i(160))}switch(u.tag){case 27:var m=u.stateNode,g=_m(r);ff(r,g,m);break;case 5:var b=u.stateNode;u.flags&32&&(nr(b,""),u.flags&=-33);var I=_m(r);ff(r,I,b);break;case 3:case 4:var V=u.stateNode.containerInfo,Q=_m(r);Em(r,Q,V);break;default:throw Error(i(161))}}}catch(oe){It(r,r.return,oe)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function vE(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;vE(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function vs(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)dE(r,s.alternate,s),s=s.sibling}function fl(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:ca(4,s,s.return),fl(s);break;case 1:Er(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&oE(s,s.return,o),fl(s);break;case 26:case 27:case 5:Er(s,s.return),fl(s);break;case 22:Er(s,s.return),s.memoizedState===null&&fl(s);break;default:fl(s)}r=r.sibling}}function fa(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,m=r,g=s,b=g.flags;switch(g.tag){case 0:case 11:case 15:fa(m,g,o),Au(4,g);break;case 1:if(fa(m,g,o),u=g,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Q){It(u,u.return,Q)}if(u=g,m=u.updateQueue,m!==null){var I=u.stateNode;try{var V=m.shared.hiddenCallbacks;if(V!==null)for(m.shared.hiddenCallbacks=null,m=0;m<V.length;m++)iE(V[m],I)}catch(Q){It(u,u.return,Q)}}o&&b&64&&aE(g),_o(g,g.return);break;case 26:case 27:case 5:fa(m,g,o),o&&u===null&&b&4&&lE(g),_o(g,g.return);break;case 12:fa(m,g,o);break;case 13:fa(m,g,o),o&&b&4&&gE(m,g);break;case 22:g.memoizedState===null&&fa(m,g,o),_o(g,g.return);break;default:fa(m,g,o)}s=s.sibling}}function wm(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&gu(o))}function Sm(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&gu(r))}function ha(r,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)_E(r,s,o,u),s=s.sibling}function _E(r,s,o,u){var m=s.flags;switch(s.tag){case 0:case 11:case 15:ha(r,s,o,u),m&2048&&Au(9,s);break;case 3:ha(r,s,o,u),m&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&gu(r)));break;case 12:if(m&2048){ha(r,s,o,u),r=s.stateNode;try{var g=s.memoizedProps,b=g.id,I=g.onPostCommit;typeof I=="function"&&I(b,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(V){It(s,s.return,V)}}else ha(r,s,o,u);break;case 23:break;case 22:g=s.stateNode,s.memoizedState!==null?g._visibility&4?ha(r,s,o,u):Cu(r,s):g._visibility&4?ha(r,s,o,u):(g._visibility|=4,hl(r,s,o,u,(s.subtreeFlags&10256)!==0)),m&2048&&wm(s.alternate,s);break;case 24:ha(r,s,o,u),m&2048&&Sm(s.alternate,s);break;default:ha(r,s,o,u)}}function hl(r,s,o,u,m){for(m=m&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=r,b=s,I=o,V=u,Q=b.flags;switch(b.tag){case 0:case 11:case 15:hl(g,b,I,V,m),Au(8,b);break;case 23:break;case 22:var oe=b.stateNode;b.memoizedState!==null?oe._visibility&4?hl(g,b,I,V,m):Cu(g,b):(oe._visibility|=4,hl(g,b,I,V,m)),m&&Q&2048&&wm(b.alternate,b);break;case 24:hl(g,b,I,V,m),m&&Q&2048&&Sm(b.alternate,b);break;default:hl(g,b,I,V,m)}s=s.sibling}}function Cu(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,u=s,m=u.flags;switch(u.tag){case 22:Cu(o,u),m&2048&&wm(u.alternate,u);break;case 24:Cu(o,u),m&2048&&Sm(u.alternate,u);break;default:Cu(o,u)}s=s.sibling}}var Iu=8192;function dl(r){if(r.subtreeFlags&Iu)for(r=r.child;r!==null;)EE(r),r=r.sibling}function EE(r){switch(r.tag){case 26:dl(r),r.flags&Iu&&r.memoizedState!==null&&FC(oi,r.memoizedState,r.memoizedProps);break;case 5:dl(r);break;case 3:case 4:var s=oi;oi=Af(r.stateNode.containerInfo),dl(r),oi=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=Iu,Iu=16777216,dl(r),Iu=s):dl(r));break;default:dl(r)}}function TE(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Ou(r){var s=r.deletions;if(r.flags&16){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Tn=u,wE(u,r)}TE(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)bE(r),r=r.sibling}function bE(r){switch(r.tag){case 0:case 11:case 15:Ou(r),r.flags&2048&&ca(9,r,r.return);break;case 3:Ou(r);break;case 12:Ou(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&4&&(r.return===null||r.return.tag!==13)?(s._visibility&=-5,hf(r)):Ou(r);break;default:Ou(r)}}function hf(r){var s=r.deletions;if(r.flags&16){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Tn=u,wE(u,r)}TE(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:ca(8,s,s.return),hf(s);break;case 22:o=s.stateNode,o._visibility&4&&(o._visibility&=-5,hf(s));break;default:hf(s)}r=r.sibling}}function wE(r,s){for(;Tn!==null;){var o=Tn;switch(o.tag){case 0:case 11:case 15:ca(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:gu(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Tn=u;else e:for(o=r;Tn!==null;){u=Tn;var m=u.sibling,g=u.return;if(mE(u),u===o){Tn=null;break e}if(m!==null){m.return=g,Tn=m;break e}Tn=g}}}function nC(r,s,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fr(r,s,o,u){return new nC(r,s,o,u)}function Rm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function da(r,s){var o=r.alternate;return o===null?(o=Fr(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&31457280,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function SE(r,s){r.flags&=31457282;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function df(r,s,o,u,m,g){var b=0;if(u=r,typeof r=="function")Rm(r)&&(b=1);else if(typeof r=="string")b=zC(r,o,Zt.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case f:return Eo(o.children,m,g,s);case p:b=8,m|=24;break;case y:return r=Fr(12,o,s,m|2),r.elementType=y,r.lanes=g,r;case $:return r=Fr(13,o,s,m),r.elementType=$,r.lanes=g,r;case j:return r=Fr(19,o,s,m),r.elementType=j,r.lanes=g,r;case z:return RE(o,m,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case _:case C:b=10;break e;case E:b=9;break e;case P:b=11;break e;case H:b=14;break e;case Y:b=16,u=null;break e}b=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return s=Fr(b,o,s,m),s.elementType=r,s.type=u,s.lanes=g,s}function Eo(r,s,o,u){return r=Fr(7,r,u,s),r.lanes=o,r}function RE(r,s,o,u){r=Fr(22,r,u,s),r.elementType=z,r.lanes=o;var m={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var g=m._current;if(g===null)throw Error(i(456));if(!(m._pendingVisibility&2)){var b=ta(g,2);b!==null&&(m._pendingVisibility|=2,Wn(b,g,2))}},attach:function(){var g=m._current;if(g===null)throw Error(i(456));if(m._pendingVisibility&2){var b=ta(g,2);b!==null&&(m._pendingVisibility&=-3,Wn(b,g,2))}}};return r.stateNode=m,r}function Am(r,s,o){return r=Fr(6,r,null,s),r.lanes=o,r}function Cm(r,s,o){return s=Fr(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function _s(r){r.flags|=4}function AE(r,s){if(s.type!=="stylesheet"||s.state.loading&4)r.flags&=-16777217;else if(r.flags|=16777216,!c0(s)){if(s=Br.current,s!==null&&((ut&4194176)===ut?Mi!==null:(ut&62914560)!==ut&&!(ut&536870912)||s!==Mi))throw du=Dd,Fv;r.flags|=8192}}function mf(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?yi():536870912,r.lanes|=s,pl|=s)}function xu(r,s){if(!pt)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function Vt(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(s)for(var m=r.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags&31457280,u|=m.flags&31457280,m.return=r,m=m.sibling;else for(m=r.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=r,m=m.sibling;return r.subtreeFlags|=u,r.childLanes=o,s}function rC(r,s,o){var u=s.pendingProps;switch(xd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(s),null;case 1:return Vt(s),null;case 3:return o=s.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),ps(fn),Pn(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(uu(s)?_s(s):r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,ai!==null&&(Mm(ai),ai=null))),Vt(s),null;case 26:return o=s.memoizedState,r===null?(_s(s),o!==null?(Vt(s),AE(s,o)):(Vt(s),s.flags&=-16777217)):o?o!==r.memoizedState?(_s(s),Vt(s),AE(s,o)):(Vt(s),s.flags&=-16777217):(r.memoizedProps!==u&&_s(s),Vt(s),s.flags&=-16777217),null;case 27:es(s),o=mn.current;var m=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==u&&_s(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return Vt(s),null}r=Zt.current,uu(s)?zv(s):(r=n0(m,u,o),s.stateNode=r,_s(s))}return Vt(s),null;case 5:if(es(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&_s(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return Vt(s),null}if(r=Zt.current,uu(s))zv(s);else{switch(m=Rf(mn.current),r){case 1:r=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=m.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?m.createElement("select",{is:u.is}):m.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?m.createElement(o,{is:u.is}):m.createElement(o)}}r[Jt]=s,r[qt]=u;e:for(m=s.child;m!==null;){if(m.tag===5||m.tag===6)r.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===s)break e;for(;m.sibling===null;){if(m.return===null||m.return===s)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}s.stateNode=r;e:switch(On(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&_s(s)}}return Vt(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==u&&_s(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(r=mn.current,uu(s)){if(r=s.stateNode,o=s.memoizedProps,u=null,m=Yn,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}r[Jt]=s,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||WE(r.nodeValue,o)),r||uo(s)}else r=Rf(r).createTextNode(u),r[Jt]=s,s.stateNode=r}return Vt(s),null;case 13:if(u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(m=uu(s),u!==null&&u.dehydrated!==null){if(r===null){if(!m)throw Error(i(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[Jt]=s}else cu(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Vt(s),m=!1}else ai!==null&&(Mm(ai),ai=null),m=!0;if(!m)return s.flags&256?(fs(s),s):(fs(s),null)}if(fs(s),s.flags&128)return s.lanes=o,s;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=s.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==m&&(u.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),mf(s,s.updateQueue),Vt(s),null;case 4:return Pn(),r===null&&Gm(s.stateNode.containerInfo),Vt(s),null;case 10:return ps(s.type),Vt(s),null;case 19:if(_t(cn),m=s.memoizedState,m===null)return Vt(s),null;if(u=(s.flags&128)!==0,g=m.rendering,g===null)if(u)xu(m,!1);else{if(Ht!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(g=Wc(r),g!==null){for(s.flags|=128,xu(m,!1),r=g.updateQueue,s.updateQueue=r,mf(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)SE(o,r),o=o.sibling;return rt(cn,cn.current&1|2),s.child}r=r.sibling}m.tail!==null&&Rn()>pf&&(s.flags|=128,u=!0,xu(m,!1),s.lanes=4194304)}else{if(!u)if(r=Wc(g),r!==null){if(s.flags|=128,u=!0,r=r.updateQueue,s.updateQueue=r,mf(s,r),xu(m,!0),m.tail===null&&m.tailMode==="hidden"&&!g.alternate&&!pt)return Vt(s),null}else 2*Rn()-m.renderingStartTime>pf&&o!==536870912&&(s.flags|=128,u=!0,xu(m,!1),s.lanes=4194304);m.isBackwards?(g.sibling=s.child,s.child=g):(r=m.last,r!==null?r.sibling=g:s.child=g,m.last=g)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=Rn(),s.sibling=null,r=cn.current,rt(cn,u?r&1|2:r&1),s):(Vt(s),null);case 22:case 23:return fs(s),Pd(),u=s.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?o&536870912&&!(s.flags&128)&&(Vt(s),s.subtreeFlags&6&&(s.flags|=8192)):Vt(s),o=s.updateQueue,o!==null&&mf(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),r!==null&&_t(fo),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),ps(fn),Vt(s),null;case 25:return null}throw Error(i(156,s.tag))}function iC(r,s){switch(xd(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return ps(fn),Pn(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return es(s),null;case 13:if(fs(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));cu()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return _t(cn),null;case 4:return Pn(),null;case 10:return ps(s.type),null;case 22:case 23:return fs(s),Pd(),r!==null&&_t(fo),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return ps(fn),null;case 25:return null;default:return null}}function CE(r,s){switch(xd(s),s.tag){case 3:ps(fn),Pn();break;case 26:case 27:case 5:es(s);break;case 4:Pn();break;case 13:fs(s);break;case 19:_t(cn);break;case 10:ps(s.type);break;case 22:case 23:fs(s),Pd(),r!==null&&_t(fo);break;case 24:ps(fn)}}var sC={getCacheForType:function(r){var s=Un(fn),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},aC=typeof WeakMap=="function"?WeakMap:Map,jt=0,Ot=null,Ze=null,ut=0,xt=0,br=null,Es=!1,ml=!1,Im=!1,Ts=0,Ht=0,ma=0,To=0,Om=0,Hr=0,pl=0,Nu=null,Ui=null,xm=!1,Nm=0,pf=1/0,gf=null,pa=null,yf=!1,bo=null,Du=0,Dm=0,km=null,ku=0,Pm=null;function wr(){if(jt&2&&ut!==0)return ut&-ut;if(R.T!==null){var r=al;return r!==0?r:qm()}return Qt()}function IE(){Hr===0&&(Hr=!(ut&536870912)||pt?Za():536870912);var r=Br.current;return r!==null&&(r.flags|=32),Hr}function Wn(r,s,o){(r===Ot&&xt===2||r.cancelPendingCommit!==null)&&(gl(r,0),bs(r,ut,Hr,!1)),Nt(r,o),(!(jt&2)||r!==Ot)&&(r===Ot&&(!(jt&2)&&(To|=o),Ht===4&&bs(r,ut,Hr,!1)),Vi(r))}function OE(r,s,o){if(jt&6)throw Error(i(327));var u=!o&&(s&60)===0&&(s&r.expiredLanes)===0||gi(r,s),m=u?uC(r,s):Vm(r,s,!0),g=u;do{if(m===0){ml&&!u&&bs(r,s,0,!1);break}else if(m===6)bs(r,s,0,!Es);else{if(o=r.current.alternate,g&&!oC(o)){m=Vm(r,s,!1),g=!1;continue}if(m===2){if(g=s,r.errorRecoveryDisabledLanes&g)var b=0;else b=r.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var I=r;m=Nu;var V=I.current.memoizedState.isDehydrated;if(V&&(gl(I,b).flags|=256),b=Vm(I,b,!1),b!==2){if(Im&&!V){I.errorRecoveryDisabledLanes|=g,To|=g,m=4;break e}g=Ui,Ui=m,g!==null&&Mm(g)}m=b}if(g=!1,m!==2)continue}}if(m===1){gl(r,0),bs(r,s,0,!0);break}e:{switch(u=r,m){case 0:case 1:throw Error(i(345));case 4:if((s&4194176)===s){bs(u,s,Hr,!Es);break e}break;case 2:Ui=null;break;case 3:case 5:break;default:throw Error(i(329))}if(u.finishedWork=o,u.finishedLanes=s,(s&62914560)===s&&(g=Nm+300-Rn(),10<g)){if(bs(u,s,Hr,!Es),$n(u,0)!==0)break e;u.timeoutHandle=JE(xE.bind(null,u,o,Ui,gf,xm,s,Hr,To,pl,Es,2,-0,0),g);break e}xE(u,o,Ui,gf,xm,s,Hr,To,pl,Es,0,-0,0)}}break}while(!0);Vi(r)}function Mm(r){Ui===null?Ui=r:Ui.push.apply(Ui,r)}function xE(r,s,o,u,m,g,b,I,V,Q,oe,de,ne){var ae=s.subtreeFlags;if((ae&8192||(ae&16785408)===16785408)&&(ju={stylesheets:null,count:0,unsuspend:qC},EE(s),s=HC(),s!==null)){r.cancelPendingCommit=s(UE.bind(null,r,o,u,m,b,I,V,1,de,ne)),bs(r,g,b,!Q);return}UE(r,o,u,m,b,I,V,oe,de,ne)}function oC(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var m=o[u],g=m.getSnapshot;m=m.value;try{if(!_r(g(),m))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function bs(r,s,o,u){s&=~Om,s&=~To,r.suspendedLanes|=s,r.pingedLanes&=~s,u&&(r.warmLanes|=s),u=r.expirationTimes;for(var m=s;0<m;){var g=31-gn(m),b=1<<g;u[g]=-1,m&=~b}o!==0&&_i(r,o,s)}function vf(){return jt&6?!0:(Pu(0),!1)}function Lm(){if(Ze!==null){if(xt===0)var r=Ze.return;else r=Ze,ms=yo=null,qd(r),il=null,mu=0,r=Ze;for(;r!==null;)CE(r.alternate,r),r=r.return;Ze=null}}function gl(r,s){r.finishedWork=null,r.finishedLanes=0;var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,AC(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Lm(),Ot=r,Ze=o=da(r.current,null),ut=s,xt=0,br=null,Es=!1,ml=gi(r,s),Im=!1,pl=Hr=Om=To=ma=Ht=0,Ui=Nu=null,xm=!1,s&8&&(s|=s&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=s;0<u;){var m=31-gn(u),g=1<<m;s|=r[m],u&=~g}return Ts=s,zc(),o}function NE(r,s){We=null,R.H=Li,s===hu?(s=Gv(),xt=3):s===Fv?(s=Gv(),xt=4):xt=s===H_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,br=s,Ze===null&&(Ht=1,lf(r,Ur(s,r.current)))}function DE(){var r=R.H;return R.H=Li,r===null?Li:r}function kE(){var r=R.A;return R.A=sC,r}function Um(){Ht=4,Es||(ut&4194176)!==ut&&Br.current!==null||(ml=!0),!(ma&134217727)&&!(To&134217727)||Ot===null||bs(Ot,ut,Hr,!1)}function Vm(r,s,o){var u=jt;jt|=2;var m=DE(),g=kE();(Ot!==r||ut!==s)&&(gf=null,gl(r,s)),s=!1;var b=Ht;e:do try{if(xt!==0&&Ze!==null){var I=Ze,V=br;switch(xt){case 8:Lm(),b=6;break e;case 3:case 2:case 6:Br.current===null&&(s=!0);var Q=xt;if(xt=0,br=null,yl(r,I,V,Q),o&&ml){b=0;break e}break;default:Q=xt,xt=0,br=null,yl(r,I,V,Q)}}lC(),b=Ht;break}catch(oe){NE(r,oe)}while(!0);return s&&r.shellSuspendCounter++,ms=yo=null,jt=u,R.H=m,R.A=g,Ze===null&&(Ot=null,ut=0,zc()),b}function lC(){for(;Ze!==null;)PE(Ze)}function uC(r,s){var o=jt;jt|=2;var u=DE(),m=kE();Ot!==r||ut!==s?(gf=null,pf=Rn()+500,gl(r,s)):ml=gi(r,s);e:do try{if(xt!==0&&Ze!==null){s=Ze;var g=br;t:switch(xt){case 1:xt=0,br=null,yl(r,s,g,1);break;case 2:if(Hv(g)){xt=0,br=null,ME(s);break}s=function(){xt===2&&Ot===r&&(xt=7),Vi(r)},g.then(s,s);break e;case 3:xt=7;break e;case 4:xt=5;break e;case 7:Hv(g)?(xt=0,br=null,ME(s)):(xt=0,br=null,yl(r,s,g,7));break;case 5:var b=null;switch(Ze.tag){case 26:b=Ze.memoizedState;case 5:case 27:var I=Ze;if(!b||c0(b)){xt=0,br=null;var V=I.sibling;if(V!==null)Ze=V;else{var Q=I.return;Q!==null?(Ze=Q,_f(Q)):Ze=null}break t}}xt=0,br=null,yl(r,s,g,5);break;case 6:xt=0,br=null,yl(r,s,g,6);break;case 8:Lm(),Ht=6;break e;default:throw Error(i(462))}}cC();break}catch(oe){NE(r,oe)}while(!0);return ms=yo=null,R.H=u,R.A=m,jt=o,Ze!==null?0:(Ot=null,ut=0,zc(),Ht)}function cC(){for(;Ze!==null&&!nu();)PE(Ze)}function PE(r){var s=nE(r.alternate,r,Ts);r.memoizedProps=r.pendingProps,s===null?_f(r):Ze=s}function ME(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=W_(o,s,s.pendingProps,s.type,void 0,ut);break;case 11:s=W_(o,s,s.pendingProps,s.type.render,s.ref,ut);break;case 5:qd(s);default:CE(o,s),s=Ze=SE(s,Ts),s=nE(o,s,Ts)}r.memoizedProps=r.pendingProps,s===null?_f(r):Ze=s}function yl(r,s,o,u){ms=yo=null,qd(s),il=null,mu=0;var m=s.return;try{if(Z1(r,m,s,o,ut)){Ht=1,lf(r,Ur(o,r.current)),Ze=null;return}}catch(g){if(m!==null)throw Ze=m,g;Ht=1,lf(r,Ur(o,r.current)),Ze=null;return}s.flags&32768?(pt||u===1?r=!0:ml||ut&536870912?r=!1:(Es=r=!0,(u===2||u===3||u===6)&&(u=Br.current,u!==null&&u.tag===13&&(u.flags|=16384))),LE(s,r)):_f(s)}function _f(r){var s=r;do{if(s.flags&32768){LE(s,Es);return}r=s.return;var o=rC(s.alternate,s,Ts);if(o!==null){Ze=o;return}if(s=s.sibling,s!==null){Ze=s;return}Ze=s=r}while(s!==null);Ht===0&&(Ht=5)}function LE(r,s){do{var o=iC(r.alternate,r);if(o!==null){o.flags&=32767,Ze=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){Ze=r;return}Ze=r=o}while(r!==null);Ht=6,Ze=null}function UE(r,s,o,u,m,g,b,I,V,Q){var oe=R.T,de=ve.p;try{ve.p=2,R.T=null,fC(r,s,o,u,de,m,g,b,I,V,Q)}finally{R.T=oe,ve.p=de}}function fC(r,s,o,u,m,g,b,I){do vl();while(bo!==null);if(jt&6)throw Error(i(327));var V=r.finishedWork;if(u=r.finishedLanes,V===null)return null;if(r.finishedWork=null,r.finishedLanes=0,V===r.current)throw Error(i(177));r.callbackNode=null,r.callbackPriority=0,r.cancelPendingCommit=null;var Q=V.lanes|V.childLanes;if(Q|=Cd,Go(r,u,Q,g,b,I),r===Ot&&(Ze=Ot=null,ut=0),!(V.subtreeFlags&10256)&&!(V.flags&10256)||yf||(yf=!0,Dm=Q,km=o,pC(Ir,function(){return vl(),null})),o=(V.flags&15990)!==0,V.subtreeFlags&15990||o?(o=R.T,R.T=null,g=ve.p,ve.p=2,b=jt,jt|=4,eC(r,V),yE(V,r),M1(Wm,r.containerInfo),Nf=!!Ym,Wm=Ym=null,r.current=V,dE(r,V.alternate,V),Ga(),jt=b,ve.p=g,R.T=o):r.current=V,yf?(yf=!1,bo=r,Du=u):VE(r,Q),Q=r.pendingLanes,Q===0&&(pa=null),Wa(V.stateNode),Vi(r),s!==null)for(m=r.onRecoverableError,V=0;V<s.length;V++)Q=s[V],m(Q.value,{componentStack:Q.stack});return Du&3&&vl(),Q=r.pendingLanes,u&4194218&&Q&42?r===Pm?ku++:(ku=0,Pm=r):ku=0,Pu(0),null}function VE(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,gu(s)))}function vl(){if(bo!==null){var r=bo,s=Dm;Dm=0;var o=Ko(Du),u=R.T,m=ve.p;try{if(ve.p=32>o?32:o,R.T=null,bo===null)var g=!1;else{o=km,km=null;var b=bo,I=Du;if(bo=null,Du=0,jt&6)throw Error(i(331));var V=jt;if(jt|=4,bE(b.current),_E(b,b.current,I,o),jt=V,Pu(0,!1),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(Kr,b)}catch{}g=!0}return g}finally{ve.p=m,R.T=u,VE(r,s)}}return!1}function jE(r,s,o){s=Ur(o,s),s=nm(r.stateNode,s,2),r=ua(r,s,2),r!==null&&(Nt(r,2),Vi(r))}function It(r,s,o){if(r.tag===3)jE(r,r,o);else for(;s!==null;){if(s.tag===3){jE(s,r,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(pa===null||!pa.has(u))){r=Ur(o,r),o=q_(2),u=ua(s,o,2),u!==null&&(F_(o,u,s,r),Nt(u,2),Vi(u));break}}s=s.return}}function jm(r,s,o){var u=r.pingCache;if(u===null){u=r.pingCache=new aC;var m=new Set;u.set(s,m)}else m=u.get(s),m===void 0&&(m=new Set,u.set(s,m));m.has(o)||(Im=!0,m.add(o),r=hC.bind(null,r,s,o),s.then(r,r))}function hC(r,s,o){var u=r.pingCache;u!==null&&u.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,Ot===r&&(ut&o)===o&&(Ht===4||Ht===3&&(ut&62914560)===ut&&300>Rn()-Nm?!(jt&2)&&gl(r,0):Om|=o,pl===ut&&(pl=0)),Vi(r)}function BE(r,s){s===0&&(s=yi()),r=ta(r,s),r!==null&&(Nt(r,s),Vi(r))}function dC(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),BE(r,o)}function mC(r,s){var o=0;switch(r.tag){case 13:var u=r.stateNode,m=r.memoizedState;m!==null&&(o=m.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),BE(r,o)}function pC(r,s){return ts(r,s)}var Ef=null,_l=null,Bm=!1,Tf=!1,zm=!1,wo=0;function Vi(r){r!==_l&&r.next===null&&(_l===null?Ef=_l=r:_l=_l.next=r),Tf=!0,Bm||(Bm=!0,yC(gC))}function Pu(r,s){if(!zm&&Tf){zm=!0;do for(var o=!1,u=Ef;u!==null;){if(r!==0){var m=u.pendingLanes;if(m===0)var g=0;else{var b=u.suspendedLanes,I=u.pingedLanes;g=(1<<31-gn(42|r)+1)-1,g&=m&~(b&~I),g=g&201326677?g&201326677|1:g?g|2:0}g!==0&&(o=!0,FE(u,g))}else g=ut,g=$n(u,u===Ot?g:0),!(g&3)||gi(u,g)||(o=!0,FE(u,g));u=u.next}while(o);zm=!1}}function gC(){Tf=Bm=!1;var r=0;wo!==0&&(RC()&&(r=wo),wo=0);for(var s=Rn(),o=null,u=Ef;u!==null;){var m=u.next,g=zE(u,s);g===0?(u.next=null,o===null?Ef=m:o.next=m,m===null&&(_l=o)):(o=u,(r!==0||g&3)&&(Tf=!0)),u=m}Pu(r)}function zE(r,s){for(var o=r.suspendedLanes,u=r.pingedLanes,m=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var b=31-gn(g),I=1<<b,V=m[b];V===-1?(!(I&o)||I&u)&&(m[b]=Gs(I,s)):V<=s&&(r.expiredLanes|=I),g&=~I}if(s=Ot,o=ut,o=$n(r,r===s?o:0),u=r.callbackNode,o===0||r===s&&xt===2||r.cancelPendingCommit!==null)return u!==null&&u!==null&&$s(u),r.callbackNode=null,r.callbackPriority=0;if(!(o&3)||gi(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(u!==null&&$s(u),Ko(o)){case 2:case 8:o=Ie;break;case 32:o=Ir;break;case 268435456:o=Qa;break;default:o=Ir}return u=qE.bind(null,r),o=ts(o,u),r.callbackPriority=s,r.callbackNode=o,s}return u!==null&&u!==null&&$s(u),r.callbackPriority=2,r.callbackNode=null,2}function qE(r,s){var o=r.callbackNode;if(vl()&&r.callbackNode!==o)return null;var u=ut;return u=$n(r,r===Ot?u:0),u===0?null:(OE(r,u,s),zE(r,Rn()),r.callbackNode!=null&&r.callbackNode===o?qE.bind(null,r):null)}function FE(r,s){if(vl())return null;OE(r,s,!0)}function yC(r){CC(function(){jt&6?ts(te,r):r()})}function qm(){return wo===0&&(wo=Za()),wo}function HE(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:kr(""+r)}function $E(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function vC(r,s,o,u,m){if(s==="submit"&&o&&o.stateNode===m){var g=HE((m[qt]||null).action),b=u.submitter;b&&(s=(s=b[qt]||null)?HE(s.formAction):b.getAttribute("formAction"),s!==null&&(g=s,b=null));var I=new ri("action","action",null,u,m);r.push({event:I,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(wo!==0){var V=b?$E(m,b):new FormData(m);Xd(o,{pending:!0,data:V,method:m.method,action:g},null,V)}}else typeof g=="function"&&(I.preventDefault(),V=b?$E(m,b):new FormData(m),Xd(o,{pending:!0,data:V,method:m.method,action:g},g,V))},currentTarget:m}]})}}for(var Fm=0;Fm<Uv.length;Fm++){var Hm=Uv[Fm],_C=Hm.toLowerCase(),EC=Hm[0].toUpperCase()+Hm.slice(1);si(_C,"on"+EC)}si(Dv,"onAnimationEnd"),si(kv,"onAnimationIteration"),si(Pv,"onAnimationStart"),si("dblclick","onDoubleClick"),si("focusin","onFocus"),si("focusout","onBlur"),si(U1,"onTransitionRun"),si(V1,"onTransitionStart"),si(j1,"onTransitionCancel"),si(Mv,"onTransitionEnd"),yn("onMouseEnter",["mouseout","mouseover"]),yn("onMouseLeave",["mouseout","mouseover"]),yn("onPointerEnter",["pointerout","pointerover"]),yn("onPointerLeave",["pointerout","pointerover"]),kt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),kt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),kt("onBeforeInput",["compositionend","keypress","textInput","paste"]),kt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),kt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),kt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Mu));function GE(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],m=u.event;u=u.listeners;e:{var g=void 0;if(s)for(var b=u.length-1;0<=b;b--){var I=u[b],V=I.instance,Q=I.currentTarget;if(I=I.listener,V!==g&&m.isPropagationStopped())break e;g=I,m.currentTarget=Q;try{g(m)}catch(oe){of(oe)}m.currentTarget=null,g=V}else for(b=0;b<u.length;b++){if(I=u[b],V=I.instance,Q=I.currentTarget,I=I.listener,V!==g&&m.isPropagationStopped())break e;g=I,m.currentTarget=Q;try{g(m)}catch(oe){of(oe)}m.currentTarget=null,g=V}}}}function st(r,s){var o=s[Yr];o===void 0&&(o=s[Yr]=new Set);var u=r+"__bubble";o.has(u)||(KE(s,r,2,!1),o.add(u))}function $m(r,s,o){var u=0;s&&(u|=4),KE(o,r,u,s)}var bf="_reactListening"+Math.random().toString(36).slice(2);function Gm(r){if(!r[bf]){r[bf]=!0,eo.forEach(function(o){o!=="selectionchange"&&(TC.has(o)||$m(o,!1,r),$m(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[bf]||(s[bf]=!0,$m("selectionchange",!1,s))}}function KE(r,s,o,u){switch(g0(s)){case 2:var m=KC;break;case 8:m=QC;break;default:m=sp}o=m.bind(null,s,o,r),m=void 0,!ir||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),u?m!==void 0?r.addEventListener(s,o,{capture:!0,passive:m}):r.addEventListener(s,o,!0):m!==void 0?r.addEventListener(s,o,{passive:m}):r.addEventListener(s,o,!1)}function Km(r,s,o,u,m){var g=u;if(!(s&1)&&!(s&2)&&u!==null)e:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var I=u.stateNode.containerInfo;if(I===m||I.nodeType===8&&I.parentNode===m)break;if(b===4)for(b=u.return;b!==null;){var V=b.tag;if((V===3||V===4)&&(V=b.stateNode.containerInfo,V===m||V.nodeType===8&&V.parentNode===m))return;b=b.return}for(;I!==null;){if(b=Mn(I),b===null)return;if(V=b.tag,V===5||V===6||V===26||V===27){u=g=b;continue e}I=I.parentNode}}u=u.return}Zs(function(){var Q=g,oe=Ci(o),de=[];e:{var ne=Lv.get(r);if(ne!==void 0){var ae=ri,xe=r;switch(r){case"keypress":if(yr(o)===0)break e;case"keydown":case"keyup":ae=ze;break;case"focusin":xe="focus",ae=N;break;case"focusout":xe="blur",ae=N;break;case"beforeblur":case"afterblur":ae=N;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Qn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=w;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=Ut;break;case Dv:case kv:case Pv:ae=q;break;case Mv:ae=on;break;case"scroll":case"scrollend":ae=Xo;break;case"wheel":ae=lr;break;case"copy":case"cut":case"paste":ae=Z;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=Ct;break;case"toggle":case"beforetoggle":ae=io}var $e=(s&4)!==0,$t=!$e&&(r==="scroll"||r==="scrollend"),X=$e?ne!==null?ne+"Capture":null:ne;$e=[];for(var K=Q,ee;K!==null;){var le=K;if(ee=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||ee===null||X===null||(le=Ii(K,X),le!=null&&$e.push(Lu(K,le,ee))),$t)break;K=K.return}0<$e.length&&(ne=new ae(ne,xe,null,o,oe),de.push({event:ne,listeners:$e}))}}if(!(s&7)){e:{if(ne=r==="mouseover"||r==="pointerover",ae=r==="mouseout"||r==="pointerout",ne&&o!==Kn&&(xe=o.relatedTarget||o.fromElement)&&(Mn(xe)||xe[Qr]))break e;if((ae||ne)&&(ne=oe.window===oe?oe:(ne=oe.ownerDocument)?ne.defaultView||ne.parentWindow:window,ae?(xe=o.relatedTarget||o.toElement,ae=Q,xe=xe?Mn(xe):null,xe!==null&&($t=ge(xe),$e=xe.tag,xe!==$t||$e!==5&&$e!==27&&$e!==6)&&(xe=null)):(ae=null,xe=Q),ae!==xe)){if($e=Qn,le="onMouseLeave",X="onMouseEnter",K="mouse",(r==="pointerout"||r==="pointerover")&&($e=Ct,le="onPointerLeave",X="onPointerEnter",K="pointer"),$t=ae==null?ne:wi(ae),ee=xe==null?ne:wi(xe),ne=new $e(le,K+"leave",ae,o,oe),ne.target=$t,ne.relatedTarget=ee,le=null,Mn(oe)===Q&&($e=new $e(X,K+"enter",xe,o,oe),$e.target=ee,$e.relatedTarget=$t,le=$e),$t=le,ae&&xe)t:{for($e=ae,X=xe,K=0,ee=$e;ee;ee=El(ee))K++;for(ee=0,le=X;le;le=El(le))ee++;for(;0<K-ee;)$e=El($e),K--;for(;0<ee-K;)X=El(X),ee--;for(;K--;){if($e===X||X!==null&&$e===X.alternate)break t;$e=El($e),X=El(X)}$e=null}else $e=null;ae!==null&&QE(de,ne,ae,$e,!1),xe!==null&&$t!==null&&QE(de,$t,xe,$e,!0)}}e:{if(ne=Q?wi(Q):window,ae=ne.nodeName&&ne.nodeName.toLowerCase(),ae==="select"||ae==="input"&&ne.type==="file")var Ae=Tv;else if(un(ne))if(bv)Ae=k1;else{Ae=N1;var Xe=x1}else ae=ne.nodeName,!ae||ae.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?Q&&Xs(Q.elementType)&&(Ae=Tv):Ae=D1;if(Ae&&(Ae=Ae(r,Q))){ls(de,Ae,o,oe);break e}Xe&&Xe(r,ne,Q),r==="focusout"&&Q&&ne.type==="number"&&Q.memoizedProps.value!=null&&Ys(ne,"number",ne.value)}switch(Xe=Q?wi(Q):window,r){case"focusin":(un(Xe)||Xe.contentEditable==="true")&&(Zo=Xe,Sd=Q,lu=null);break;case"focusout":lu=Sd=Zo=null;break;case"mousedown":Rd=!0;break;case"contextmenu":case"mouseup":case"dragend":Rd=!1,xv(de,o,oe);break;case"selectionchange":if(L1)break;case"keydown":case"keyup":xv(de,o,oe)}var ke;if(Di)e:{switch(r){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else ot?ie(r,o)&&(Le="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Le="onCompositionStart");Le&&(T&&o.locale!=="ko"&&(ot||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&ot&&(ke=xi()):(sr=oe,ni="value"in sr?sr.value:sr.textContent,ot=!0)),Xe=wf(Q,Le),0<Xe.length&&(Le=new Ce(Le,r,null,o,oe),de.push({event:Le,listeners:Xe}),ke?Le.data=ke:(ke=_e(o),ke!==null&&(Le.data=ke)))),(ke=v?ln(r,o):lt(r,o))&&(Le=wf(Q,"onBeforeInput"),0<Le.length&&(Xe=new Ce("onBeforeInput","beforeinput",null,o,oe),de.push({event:Xe,listeners:Le}),Xe.data=ke)),vC(de,r,Q,o,oe)}GE(de,s)})}function Lu(r,s,o){return{instance:r,listener:s,currentTarget:o}}function wf(r,s){for(var o=s+"Capture",u=[];r!==null;){var m=r,g=m.stateNode;m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=Ii(r,o),m!=null&&u.unshift(Lu(r,m,g)),m=Ii(r,s),m!=null&&u.push(Lu(r,m,g))),r=r.return}return u}function El(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function QE(r,s,o,u,m){for(var g=s._reactName,b=[];o!==null&&o!==u;){var I=o,V=I.alternate,Q=I.stateNode;if(I=I.tag,V!==null&&V===u)break;I!==5&&I!==26&&I!==27||Q===null||(V=Q,m?(Q=Ii(o,g),Q!=null&&b.unshift(Lu(o,Q,V))):m||(Q=Ii(o,g),Q!=null&&b.push(Lu(o,Q,V)))),o=o.return}b.length!==0&&r.push({event:s,listeners:b})}var bC=/\r\n?/g,wC=/\u0000|\uFFFD/g;function YE(r){return(typeof r=="string"?r:""+r).replace(bC,`
`).replace(wC,"")}function WE(r,s){return s=YE(s),YE(r)===s}function Sf(){}function St(r,s,o,u,m,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||nr(r,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&nr(r,""+u);break;case"className":gr(r,"class",u);break;case"tabIndex":gr(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":gr(r,o,u);break;case"style":as(r,u,g);break;case"data":if(s!=="object"){gr(r,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=kr(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&St(r,s,"name",m.name,m,null),St(r,s,"formEncType",m.formEncType,m,null),St(r,s,"formMethod",m.formMethod,m,null),St(r,s,"formTarget",m.formTarget,m,null)):(St(r,s,"encType",m.encType,m,null),St(r,s,"method",m.method,m,null),St(r,s,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=kr(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=Sf);break;case"onScroll":u!=null&&st("scroll",r);break;case"onScrollEnd":u!=null&&st("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=kr(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":st("beforetoggle",r),st("toggle",r),Ri(r,"popover",u);break;case"xlinkActuate":Gn(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Gn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Gn(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Gn(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Gn(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Gn(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Gn(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Gn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Gn(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ri(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=su.get(o)||o,Ri(r,o,u))}}function Qm(r,s,o,u,m,g){switch(o){case"style":as(r,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?nr(r,u):(typeof u=="number"||typeof u=="bigint")&&nr(r,""+u);break;case"onScroll":u!=null&&st("scroll",r);break;case"onScrollEnd":u!=null&&st("scrollend",r);break;case"onClick":u!=null&&(r.onclick=Sf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zr.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),s=o.slice(2,m?o.length-7:void 0),g=r[qt]||null,g=g!=null?g[o]:null,typeof g=="function"&&r.removeEventListener(s,g,m),typeof u=="function")){typeof g!="function"&&g!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,u,m);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):Ri(r,o,u)}}}function On(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":st("error",r),st("load",r);var u=!1,m=!1,g;for(g in o)if(o.hasOwnProperty(g)){var b=o[g];if(b!=null)switch(g){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:St(r,s,g,b,o,null)}}m&&St(r,s,"srcSet",o.srcSet,o,null),u&&St(r,s,"src",o.src,o,null);return;case"input":st("invalid",r);var I=g=b=m=null,V=null,Q=null;for(u in o)if(o.hasOwnProperty(u)){var oe=o[u];if(oe!=null)switch(u){case"name":m=oe;break;case"type":b=oe;break;case"checked":V=oe;break;case"defaultChecked":Q=oe;break;case"value":g=oe;break;case"defaultValue":I=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(i(137,s));break;default:St(r,s,u,oe,o,null)}}Qs(r,g,I,V,Q,b,m,!1),rs(r);return;case"select":st("invalid",r),u=b=g=null;for(m in o)if(o.hasOwnProperty(m)&&(I=o[m],I!=null))switch(m){case"value":g=I;break;case"defaultValue":b=I;break;case"multiple":u=I;default:St(r,s,m,I,o,null)}s=g,o=b,r.multiple=!!u,s!=null?ht(r,!!u,s,!1):o!=null&&ht(r,!!u,o,!0);return;case"textarea":st("invalid",r),g=m=u=null;for(b in o)if(o.hasOwnProperty(b)&&(I=o[b],I!=null))switch(b){case"value":u=I;break;case"defaultValue":m=I;break;case"children":g=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(91));break;default:St(r,s,b,I,o,null)}Ai(r,u,m,g),rs(r);return;case"option":for(V in o)if(o.hasOwnProperty(V)&&(u=o[V],u!=null))switch(V){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:St(r,s,V,u,o,null)}return;case"dialog":st("cancel",r),st("close",r);break;case"iframe":case"object":st("load",r);break;case"video":case"audio":for(u=0;u<Mu.length;u++)st(Mu[u],r);break;case"image":st("error",r),st("load",r);break;case"details":st("toggle",r);break;case"embed":case"source":case"link":st("error",r),st("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in o)if(o.hasOwnProperty(Q)&&(u=o[Q],u!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:St(r,s,Q,u,o,null)}return;default:if(Xs(s)){for(oe in o)o.hasOwnProperty(oe)&&(u=o[oe],u!==void 0&&Qm(r,s,oe,u,o,void 0));return}}for(I in o)o.hasOwnProperty(I)&&(u=o[I],u!=null&&St(r,s,I,u,o,null))}function SC(r,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,b=null,I=null,V=null,Q=null,oe=null;for(ae in o){var de=o[ae];if(o.hasOwnProperty(ae)&&de!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":V=de;default:u.hasOwnProperty(ae)||St(r,s,ae,null,u,de)}}for(var ne in u){var ae=u[ne];if(de=o[ne],u.hasOwnProperty(ne)&&(ae!=null||de!=null))switch(ne){case"type":g=ae;break;case"name":m=ae;break;case"checked":Q=ae;break;case"defaultChecked":oe=ae;break;case"value":b=ae;break;case"defaultValue":I=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(i(137,s));break;default:ae!==de&&St(r,s,ne,ae,u,de)}}Jr(r,b,I,V,Q,oe,g,m);return;case"select":ae=b=I=ne=null;for(g in o)if(V=o[g],o.hasOwnProperty(g)&&V!=null)switch(g){case"value":break;case"multiple":ae=V;default:u.hasOwnProperty(g)||St(r,s,g,null,u,V)}for(m in u)if(g=u[m],V=o[m],u.hasOwnProperty(m)&&(g!=null||V!=null))switch(m){case"value":ne=g;break;case"defaultValue":I=g;break;case"multiple":b=g;default:g!==V&&St(r,s,m,g,u,V)}s=I,o=b,u=ae,ne!=null?ht(r,!!o,ne,!1):!!u!=!!o&&(s!=null?ht(r,!!o,s,!0):ht(r,!!o,o?[]:"",!1));return;case"textarea":ae=ne=null;for(I in o)if(m=o[I],o.hasOwnProperty(I)&&m!=null&&!u.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:St(r,s,I,null,u,m)}for(b in u)if(m=u[b],g=o[b],u.hasOwnProperty(b)&&(m!=null||g!=null))switch(b){case"value":ne=m;break;case"defaultValue":ae=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==g&&St(r,s,b,m,u,g)}ss(r,ne,ae);return;case"option":for(var xe in o)if(ne=o[xe],o.hasOwnProperty(xe)&&ne!=null&&!u.hasOwnProperty(xe))switch(xe){case"selected":r.selected=!1;break;default:St(r,s,xe,null,u,ne)}for(V in u)if(ne=u[V],ae=o[V],u.hasOwnProperty(V)&&ne!==ae&&(ne!=null||ae!=null))switch(V){case"selected":r.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:St(r,s,V,ne,u,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var $e in o)ne=o[$e],o.hasOwnProperty($e)&&ne!=null&&!u.hasOwnProperty($e)&&St(r,s,$e,null,u,ne);for(Q in u)if(ne=u[Q],ae=o[Q],u.hasOwnProperty(Q)&&ne!==ae&&(ne!=null||ae!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,s));break;default:St(r,s,Q,ne,u,ae)}return;default:if(Xs(s)){for(var $t in o)ne=o[$t],o.hasOwnProperty($t)&&ne!==void 0&&!u.hasOwnProperty($t)&&Qm(r,s,$t,void 0,u,ne);for(oe in u)ne=u[oe],ae=o[oe],!u.hasOwnProperty(oe)||ne===ae||ne===void 0&&ae===void 0||Qm(r,s,oe,ne,u,ae);return}}for(var X in o)ne=o[X],o.hasOwnProperty(X)&&ne!=null&&!u.hasOwnProperty(X)&&St(r,s,X,null,u,ne);for(de in u)ne=u[de],ae=o[de],!u.hasOwnProperty(de)||ne===ae||ne==null&&ae==null||St(r,s,de,ne,u,ae)}var Ym=null,Wm=null;function Rf(r){return r.nodeType===9?r:r.ownerDocument}function XE(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ZE(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Xm(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Zm=null;function RC(){var r=window.event;return r&&r.type==="popstate"?r===Zm?!1:(Zm=r,!0):(Zm=null,!1)}var JE=typeof setTimeout=="function"?setTimeout:void 0,AC=typeof clearTimeout=="function"?clearTimeout:void 0,e0=typeof Promise=="function"?Promise:void 0,CC=typeof queueMicrotask=="function"?queueMicrotask:typeof e0<"u"?function(r){return e0.resolve(null).then(r).catch(IC)}:JE;function IC(r){setTimeout(function(){throw r})}function Jm(r,s){var o=s,u=0;do{var m=o.nextSibling;if(r.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"){if(u===0){r.removeChild(m),Hu(s);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=m}while(o);Hu(s)}function ep(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":ep(o),pr(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function OC(r,s,o,u){for(;r.nodeType===1;){var m=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[Wr])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==m.rel||r.getAttribute("href")!==(m.href==null?null:m.href)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||r.getAttribute("title")!==(m.title==null?null:m.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(m.src==null?null:m.src)||r.getAttribute("type")!==(m.type==null?null:m.type)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=li(r.nextSibling),r===null)break}return null}function xC(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=li(r.nextSibling),r===null))return null;return r}function li(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}function t0(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function n0(r,s,o){switch(s=Rf(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}var $r=new Map,r0=new Set;function Af(r){return typeof r.getRootNode=="function"?r.getRootNode():r.ownerDocument}var ws=ve.d;ve.d={f:NC,r:DC,D:kC,C:PC,L:MC,m:LC,X:VC,S:UC,M:jC};function NC(){var r=ws.f(),s=vf();return r||s}function DC(r){var s=Xr(r);s!==null&&s.tag===5&&s.type==="form"?x_(s):ws.r(r)}var Tl=typeof document>"u"?null:document;function i0(r,s,o){var u=Tl;if(u&&typeof s=="string"&&s){var m=yt(s);m='link[rel="'+r+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),r0.has(m)||(r0.add(m),r={rel:r,crossOrigin:o,href:s},u.querySelector(m)===null&&(s=u.createElement("link"),On(s,"link",r),Dt(s),u.head.appendChild(s)))}}function kC(r){ws.D(r),i0("dns-prefetch",r,null)}function PC(r,s){ws.C(r,s),i0("preconnect",r,s)}function MC(r,s,o){ws.L(r,s,o);var u=Tl;if(u&&r&&s){var m='link[rel="preload"][as="'+yt(s)+'"]';s==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+yt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+yt(o.imageSizes)+'"]')):m+='[href="'+yt(r)+'"]';var g=m;switch(s){case"style":g=bl(r);break;case"script":g=wl(r)}$r.has(g)||(r=M({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),$r.set(g,r),u.querySelector(m)!==null||s==="style"&&u.querySelector(Uu(g))||s==="script"&&u.querySelector(Vu(g))||(s=u.createElement("link"),On(s,"link",r),Dt(s),u.head.appendChild(s)))}}function LC(r,s){ws.m(r,s);var o=Tl;if(o&&r){var u=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+yt(u)+'"][href="'+yt(r)+'"]',g=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=wl(r)}if(!$r.has(g)&&(r=M({rel:"modulepreload",href:r},s),$r.set(g,r),o.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Vu(g)))return}u=o.createElement("link"),On(u,"link",r),Dt(u),o.head.appendChild(u)}}}function UC(r,s,o){ws.S(r,s,o);var u=Tl;if(u&&r){var m=Nr(u).hoistableStyles,g=bl(r);s=s||"default";var b=m.get(g);if(!b){var I={loading:0,preload:null};if(b=u.querySelector(Uu(g)))I.loading=5;else{r=M({rel:"stylesheet",href:r,"data-precedence":s},o),(o=$r.get(g))&&tp(r,o);var V=b=u.createElement("link");Dt(V),On(V,"link",r),V._p=new Promise(function(Q,oe){V.onload=Q,V.onerror=oe}),V.addEventListener("load",function(){I.loading|=1}),V.addEventListener("error",function(){I.loading|=2}),I.loading|=4,Cf(b,s,u)}b={type:"stylesheet",instance:b,count:1,state:I},m.set(g,b)}}}function VC(r,s){ws.X(r,s);var o=Tl;if(o&&r){var u=Nr(o).hoistableScripts,m=wl(r),g=u.get(m);g||(g=o.querySelector(Vu(m)),g||(r=M({src:r,async:!0},s),(s=$r.get(m))&&np(r,s),g=o.createElement("script"),Dt(g),On(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(m,g))}}function jC(r,s){ws.M(r,s);var o=Tl;if(o&&r){var u=Nr(o).hoistableScripts,m=wl(r),g=u.get(m);g||(g=o.querySelector(Vu(m)),g||(r=M({src:r,async:!0,type:"module"},s),(s=$r.get(m))&&np(r,s),g=o.createElement("script"),Dt(g),On(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(m,g))}}function s0(r,s,o,u){var m=(m=mn.current)?Af(m):null;if(!m)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=bl(o.href),o=Nr(m).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=bl(o.href);var g=Nr(m).hoistableStyles,b=g.get(r);if(b||(m=m.ownerDocument||m,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,b),(g=m.querySelector(Uu(r)))&&!g._p&&(b.instance=g,b.state.loading=5),$r.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},$r.set(r,o),g||BC(m,r,o,b.state))),s&&u===null)throw Error(i(528,""));return b}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=wl(o),o=Nr(m).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function bl(r){return'href="'+yt(r)+'"'}function Uu(r){return'link[rel="stylesheet"]['+r+"]"}function a0(r){return M({},r,{"data-precedence":r.precedence,precedence:null})}function BC(r,s,o,u){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=r.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),On(s,"link",o),Dt(s),r.head.appendChild(s))}function wl(r){return'[src="'+yt(r)+'"]'}function Vu(r){return"script[async]"+r}function o0(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=r.querySelector('style[data-href~="'+yt(o.href)+'"]');if(u)return s.instance=u,Dt(u),u;var m=M({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),Dt(u),On(u,"style",m),Cf(u,o.precedence,r),s.instance=u;case"stylesheet":m=bl(o.href);var g=r.querySelector(Uu(m));if(g)return s.state.loading|=4,s.instance=g,Dt(g),g;u=a0(o),(m=$r.get(m))&&tp(u,m),g=(r.ownerDocument||r).createElement("link"),Dt(g);var b=g;return b._p=new Promise(function(I,V){b.onload=I,b.onerror=V}),On(g,"link",u),s.state.loading|=4,Cf(g,o.precedence,r),s.instance=g;case"script":return g=wl(o.src),(m=r.querySelector(Vu(g)))?(s.instance=m,Dt(m),m):(u=o,(m=$r.get(g))&&(u=M({},o),np(u,m)),r=r.ownerDocument||r,m=r.createElement("script"),Dt(m),On(m,"link",u),r.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&!(s.state.loading&4)&&(u=s.instance,s.state.loading|=4,Cf(u,o.precedence,r));return s.instance}function Cf(r,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,g=m,b=0;b<u.length;b++){var I=u[b];if(I.dataset.precedence===s)g=I;else if(g!==m)break}g?g.parentNode.insertBefore(r,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function tp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function np(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var If=null;function l0(r,s,o){if(If===null){var u=new Map,m=If=new Map;m.set(o,u)}else m=If,u=m.get(o),u||(u=new Map,m.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),m=0;m<o.length;m++){var g=o[m];if(!(g[Wr]||g[Jt]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(s)||"";b=r+b;var I=u.get(b);I?I.push(g):u.set(b,[g])}}return u}function u0(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function zC(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function c0(r){return!(r.type==="stylesheet"&&!(r.state.loading&3))}var ju=null;function qC(){}function FC(r,s,o){if(ju===null)throw Error(i(475));var u=ju;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&!(s.state.loading&4)){if(s.instance===null){var m=bl(o.href),g=r.querySelector(Uu(m));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=Of.bind(u),r.then(u,u)),s.state.loading|=4,s.instance=g,Dt(g);return}g=r.ownerDocument||r,o=a0(o),(m=$r.get(m))&&tp(o,m),g=g.createElement("link"),Dt(g);var b=g;b._p=new Promise(function(I,V){b.onload=I,b.onerror=V}),On(g,"link",o),s.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,r),(r=s.state.preload)&&!(s.state.loading&3)&&(u.count++,s=Of.bind(u),r.addEventListener("load",s),r.addEventListener("error",s))}}function HC(){if(ju===null)throw Error(i(475));var r=ju;return r.stylesheets&&r.count===0&&rp(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&rp(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function Of(){if(this.count--,this.count===0){if(this.stylesheets)rp(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var xf=null;function rp(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,xf=new Map,s.forEach($C,r),xf=null,Of.call(r))}function $C(r,s){if(!(s.state.loading&4)){var o=xf.get(r);if(o)var u=o.get(null);else{o=new Map,xf.set(r,o);for(var m=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var b=m[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),u=b)}u&&o.set(null,u)}m=s.instance,b=m.getAttribute("data-precedence"),g=o.get(b)||u,g===u&&o.set(null,m),o.set(b,m),this.count++,u=Of.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),g?g.parentNode.insertBefore(m,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(m,r.firstChild)),s.state.loading|=4}}var Bu={$$typeof:C,Provider:null,Consumer:null,_currentValue:Me,_currentValue2:Me,_threadCount:0};function GC(r,s,o,u,m,g,b,I){this.tag=1,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vi(0),this.hiddenUpdates=vi(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function f0(r,s,o,u,m,g,b,I,V,Q,oe,de){return r=new GC(r,s,o,b,I,V,Q,de),s=1,g===!0&&(s|=24),g=Fr(3,null,null,s),r.current=g,g.stateNode=r,s=Md(),s.refCount++,r.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},pm(g),r}function h0(r){return r?(r=tl,r):tl}function d0(r,s,o,u,m,g){m=h0(m),u.context===null?u.context=m:u.pendingContext=m,u=la(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=ua(r,u,s),o!==null&&(Wn(o,r,s),wu(o,r,s))}function m0(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function ip(r,s){m0(r,s),(r=r.alternate)&&m0(r,s)}function p0(r){if(r.tag===13){var s=ta(r,67108864);s!==null&&Wn(s,r,67108864),ip(r,67108864)}}var Nf=!0;function KC(r,s,o,u){var m=R.T;R.T=null;var g=ve.p;try{ve.p=2,sp(r,s,o,u)}finally{ve.p=g,R.T=m}}function QC(r,s,o,u){var m=R.T;R.T=null;var g=ve.p;try{ve.p=8,sp(r,s,o,u)}finally{ve.p=g,R.T=m}}function sp(r,s,o,u){if(Nf){var m=ap(u);if(m===null)Km(r,s,u,Df,o),y0(r,u);else if(WC(m,r,s,o,u))u.stopPropagation();else if(y0(r,u),s&4&&-1<YC.indexOf(r)){for(;m!==null;){var g=Xr(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=tr(g.pendingLanes);if(b!==0){var I=g;for(I.pendingLanes|=2,I.entangledLanes|=2;b;){var V=1<<31-gn(b);I.entanglements[1]|=V,b&=~V}Vi(g),!(jt&6)&&(pf=Rn()+500,Pu(0))}}break;case 13:I=ta(g,2),I!==null&&Wn(I,g,2),vf(),ip(g,2)}if(g=ap(u),g===null&&Km(r,s,u,Df,o),g===m)break;m=g}m!==null&&u.stopPropagation()}else Km(r,s,u,null,o)}}function ap(r){return r=Ci(r),op(r)}var Df=null;function op(r){if(Df=null,r=Mn(r),r!==null){var s=ge(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=qe(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Df=r,null}function g0(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ho()){case te:return 2;case Ie:return 8;case Ir:case Ka:return 32;case Qa:return 268435456;default:return 32}default:return 32}}var lp=!1,ga=null,ya=null,va=null,zu=new Map,qu=new Map,_a=[],YC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function y0(r,s){switch(r){case"focusin":case"focusout":ga=null;break;case"dragenter":case"dragleave":ya=null;break;case"mouseover":case"mouseout":va=null;break;case"pointerover":case"pointerout":zu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":qu.delete(s.pointerId)}}function Fu(r,s,o,u,m,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[m]},s!==null&&(s=Xr(s),s!==null&&p0(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),r)}function WC(r,s,o,u,m){switch(s){case"focusin":return ga=Fu(ga,r,s,o,u,m),!0;case"dragenter":return ya=Fu(ya,r,s,o,u,m),!0;case"mouseover":return va=Fu(va,r,s,o,u,m),!0;case"pointerover":var g=m.pointerId;return zu.set(g,Fu(zu.get(g)||null,r,s,o,u,m)),!0;case"gotpointercapture":return g=m.pointerId,qu.set(g,Fu(qu.get(g)||null,r,s,o,u,m)),!0}return!1}function v0(r){var s=Mn(r.target);if(s!==null){var o=ge(s);if(o!==null){if(s=o.tag,s===13){if(s=qe(o),s!==null){r.blockedOn=s,Ti(r.priority,function(){if(o.tag===13){var u=wr(),m=ta(o,u);m!==null&&Wn(m,o,u),ip(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function kf(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=ap(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);Kn=u,o.target.dispatchEvent(u),Kn=null}else return s=Xr(o),s!==null&&p0(s),r.blockedOn=o,!1;s.shift()}return!0}function _0(r,s,o){kf(r)&&o.delete(s)}function XC(){lp=!1,ga!==null&&kf(ga)&&(ga=null),ya!==null&&kf(ya)&&(ya=null),va!==null&&kf(va)&&(va=null),zu.forEach(_0),qu.forEach(_0)}function Pf(r,s){r.blockedOn===s&&(r.blockedOn=null,lp||(lp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,XC)))}var Mf=null;function E0(r){Mf!==r&&(Mf=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Mf===r&&(Mf=null);for(var s=0;s<r.length;s+=3){var o=r[s],u=r[s+1],m=r[s+2];if(typeof u!="function"){if(op(u||o)===null)continue;break}var g=Xr(o);g!==null&&(r.splice(s,3),s-=3,Xd(g,{pending:!0,data:m,method:o.method,action:u},u,m))}}))}function Hu(r){function s(V){return Pf(V,r)}ga!==null&&Pf(ga,r),ya!==null&&Pf(ya,r),va!==null&&Pf(va,r),zu.forEach(s),qu.forEach(s);for(var o=0;o<_a.length;o++){var u=_a[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<_a.length&&(o=_a[0],o.blockedOn===null);)v0(o),o.blockedOn===null&&_a.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var m=o[u],g=o[u+1],b=m[qt]||null;if(typeof g=="function")b||E0(o);else if(b){var I=null;if(g&&g.hasAttribute("formAction")){if(m=g,b=g[qt]||null)I=b.formAction;else if(op(m)!==null)continue}else I=b.action;typeof I=="function"?o[u+1]=I:(o.splice(u,3),u-=3),E0(o)}}}function up(r){this._internalRoot=r}Lf.prototype.render=up.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=wr();d0(o,u,r,s,null,null)},Lf.prototype.unmount=up.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;r.tag===0&&vl(),d0(r.current,2,null,r,null,null),vf(),s[Qr]=null}};function Lf(r){this._internalRoot=r}Lf.prototype.unstable_scheduleHydration=function(r){if(r){var s=Qt();r={blockedOn:null,target:r,priority:s};for(var o=0;o<_a.length&&s!==0&&s<_a[o].priority;o++);_a.splice(o,0,r),o===0&&v0(r)}};var T0=e.version;if(T0!=="19.0.0")throw Error(i(527,T0,"19.0.0"));ve.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=he(s),r=r!==null?Re(r):null,r=r===null?null:r.stateNode,r};var ZC={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:R,findFiberByHostInstance:Mn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uf.isDisabled&&Uf.supportsFiber)try{Kr=Uf.inject(ZC),pn=Uf}catch{}}return Gu.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,u="",m=V_,g=j_,b=B_,I=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(I=s.unstable_transitionCallbacks)),s=f0(r,1,!1,null,null,o,u,m,g,b,I,null),r[Qr]=s.current,Gm(r.nodeType===8?r.parentNode:r),new up(s)},Gu.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var u=!1,m="",g=V_,b=j_,I=B_,V=null,Q=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(I=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(V=o.unstable_transitionCallbacks),o.formState!==void 0&&(Q=o.formState)),s=f0(r,1,!0,s,o??null,u,m,g,b,I,V,Q),s.context=h0(null),o=s.current,u=wr(),m=la(u),m.callback=null,ua(o,m,u),s.current.lanes=u,Nt(s,u),Vi(s),r[Qr]=s.current,Gm(r),new Lf(s)},Gu.version="19.0.0",Gu}var N0;function uI(){if(N0)return hp.exports;N0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),hp.exports=lI(),hp.exports}var cI=uI(),Ku={},D0;function fI(){if(D0)return Ku;D0=1,Object.defineProperty(Ku,"__esModule",{value:!0}),Ku.parse=c,Ku.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function c(E,C){const P=new l,$=E.length;if($<2)return P;const j=(C==null?void 0:C.decode)||y;let H=0;do{const Y=E.indexOf("=",H);if(Y===-1)break;const z=E.indexOf(";",H),re=z===-1?$:z;if(Y>re){H=E.lastIndexOf(";",Y-1)+1;continue}const se=h(E,H,Y),fe=f(E,Y,se),U=E.slice(se,fe);if(P[U]===void 0){let k=h(E,Y+1,re),R=f(E,re,k);const M=j(E.slice(k,R));P[U]=M}H=re+1}while(H<$);return P}function h(E,C,P){do{const $=E.charCodeAt(C);if($!==32&&$!==9)return C}while(++C<P);return P}function f(E,C,P){for(;C>P;){const $=E.charCodeAt(--C);if($!==32&&$!==9)return C+1}return P}function p(E,C,P){const $=(P==null?void 0:P.encode)||encodeURIComponent;if(!n.test(E))throw new TypeError(`argument name is invalid: ${E}`);const j=$(C);if(!e.test(j))throw new TypeError(`argument val is invalid: ${C}`);let H=E+"="+j;if(!P)return H;if(P.maxAge!==void 0){if(!Number.isInteger(P.maxAge))throw new TypeError(`option maxAge is invalid: ${P.maxAge}`);H+="; Max-Age="+P.maxAge}if(P.domain){if(!t.test(P.domain))throw new TypeError(`option domain is invalid: ${P.domain}`);H+="; Domain="+P.domain}if(P.path){if(!i.test(P.path))throw new TypeError(`option path is invalid: ${P.path}`);H+="; Path="+P.path}if(P.expires){if(!_(P.expires)||!Number.isFinite(P.expires.valueOf()))throw new TypeError(`option expires is invalid: ${P.expires}`);H+="; Expires="+P.expires.toUTCString()}if(P.httpOnly&&(H+="; HttpOnly"),P.secure&&(H+="; Secure"),P.partitioned&&(H+="; Partitioned"),P.priority)switch(typeof P.priority=="string"?P.priority.toLowerCase():void 0){case"low":H+="; Priority=Low";break;case"medium":H+="; Priority=Medium";break;case"high":H+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${P.priority}`)}if(P.sameSite)switch(typeof P.sameSite=="string"?P.sameSite.toLowerCase():P.sameSite){case!0:case"strict":H+="; SameSite=Strict";break;case"lax":H+="; SameSite=Lax";break;case"none":H+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${P.sameSite}`)}return H}function y(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function _(E){return a.call(E)==="[object Date]"}return Ku}fI();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var k0="popstate";function hI(n={}){function e(i,a){let{pathname:l,search:c,hash:h}=i.location;return gg("",{pathname:l,search:c,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){return typeof a=="string"?a:cc(a)}return mI(e,t,null,n)}function Bt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Qi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dI(){return Math.random().toString(36).substring(2,10)}function P0(n,e){return{usr:n.state,key:n.key,idx:e}}function gg(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Hl(e):e,state:t,key:e&&e.key||i||dI()}}function cc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Hl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function mI(n,e,t,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,h="POP",f=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function _(){h="POP";let j=y(),H=j==null?null:j-p;p=j,f&&f({action:h,location:$.location,delta:H})}function E(j,H){h="PUSH";let Y=gg($.location,j,H);p=y()+1;let z=P0(Y,p),re=$.createHref(Y);try{c.pushState(z,"",re)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;a.location.assign(re)}l&&f&&f({action:h,location:$.location,delta:1})}function C(j,H){h="REPLACE";let Y=gg($.location,j,H);p=y();let z=P0(Y,p),re=$.createHref(Y);c.replaceState(z,"",re),l&&f&&f({action:h,location:$.location,delta:0})}function P(j){let H=a.location.origin!=="null"?a.location.origin:a.location.href,Y=typeof j=="string"?j:cc(j);return Y=Y.replace(/ $/,"%20"),Bt(H,`No window.location.(origin|href) available to create URL for href: ${Y}`),new URL(Y,H)}let $={get action(){return h},get location(){return n(a,c)},listen(j){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(k0,_),f=j,()=>{a.removeEventListener(k0,_),f=null}},createHref(j){return e(a,j)},createURL:P,encodeLocation(j){let H=P(j);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:E,replace:C,go(j){return c.go(j)}};return $}function yw(n,e,t="/"){return pI(n,e,t,!1)}function pI(n,e,t,i){let a=typeof e=="string"?Hl(e):e,l=Pa(a.pathname||"/",t);if(l==null)return null;let c=vw(n);gI(c);let h=null;for(let f=0;h==null&&f<c.length;++f){let p=CI(l);h=RI(c[f],p,i)}return h}function vw(n,e=[],t=[],i=""){let a=(l,c,h)=>{let f={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};f.relativePath.startsWith("/")&&(Bt(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let p=Ns([i,f.relativePath]),y=t.concat(f);l.children&&l.children.length>0&&(Bt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),vw(l.children,e,y,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:wI(p,l.index),routesMeta:y})};return n.forEach((l,c)=>{var h;if(l.path===""||!((h=l.path)!=null&&h.includes("?")))a(l,c);else for(let f of _w(l.path))a(l,c,f)}),e}function _w(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=_w(i.join("/")),h=[];return h.push(...c.map(f=>f===""?l:[l,f].join("/"))),a&&h.push(...c),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function gI(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:SI(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var yI=/^:[\w-]+$/,vI=3,_I=2,EI=1,TI=10,bI=-2,M0=n=>n==="*";function wI(n,e){let t=n.split("/"),i=t.length;return t.some(M0)&&(i+=bI),e&&(i+=_I),t.filter(a=>!M0(a)).reduce((a,l)=>a+(yI.test(l)?vI:l===""?EI:TI),i)}function SI(n,e){return n.length===e.length&&n.slice(0,-1).every((i,a)=>i===e[a])?n[n.length-1]-e[e.length-1]:0}function RI(n,e,t=!1){let{routesMeta:i}=n,a={},l="/",c=[];for(let h=0;h<i.length;++h){let f=i[h],p=h===i.length-1,y=l==="/"?e:e.slice(l.length)||"/",_=ch({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},y),E=f.route;if(!_&&p&&t&&!i[i.length-1].route.index&&(_=ch({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:Ns([l,_.pathname]),pathnameBase:NI(Ns([l,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(l=Ns([l,_.pathnameBase]))}return c}function ch(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=AI(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:i.reduce((p,{paramName:y,isOptional:_},E)=>{if(y==="*"){let P=h[E]||"";c=l.slice(0,l.length-P.length).replace(/(.)\/+$/,"$1")}const C=h[E];return _&&!C?p[y]=void 0:p[y]=(C||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:n}}function AI(n,e=!1,t=!0){Qi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function CI(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Pa(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function II(n,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof n=="string"?Hl(n):n;return{pathname:t?t.startsWith("/")?t:OI(t,e):e,search:DI(i),hash:kI(a)}}function OI(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function gp(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function xI(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Ew(n){let e=xI(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Tw(n,e,t,i=!1){let a;typeof n=="string"?a=Hl(n):(a={...n},Bt(!a.pathname||!a.pathname.includes("?"),gp("?","pathname","search",a)),Bt(!a.pathname||!a.pathname.includes("#"),gp("#","pathname","hash",a)),Bt(!a.search||!a.search.includes("#"),gp("#","search","hash",a)));let l=n===""||a.pathname==="",c=l?"/":a.pathname,h;if(c==null)h=t;else{let _=e.length-1;if(!i&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),_-=1;a.pathname=E.join("/")}h=_>=0?e[_]:"/"}let f=II(a,h),p=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(p||y)&&(f.pathname+="/"),f}var Ns=n=>n.join("/").replace(/\/\/+/g,"/"),NI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),DI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,kI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function PI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var bw=["POST","PUT","PATCH","DELETE"];new Set(bw);var MI=["GET",...bw];new Set(MI);var $l=A.createContext(null);$l.displayName="DataRouter";var jh=A.createContext(null);jh.displayName="DataRouterState";var ww=A.createContext({isTransitioning:!1});ww.displayName="ViewTransition";var LI=A.createContext(new Map);LI.displayName="Fetchers";var UI=A.createContext(null);UI.displayName="Await";var Xi=A.createContext(null);Xi.displayName="Navigation";var bc=A.createContext(null);bc.displayName="Location";var Zi=A.createContext({outlet:null,matches:[],isDataRoute:!1});Zi.displayName="Route";var ey=A.createContext(null);ey.displayName="RouteError";function VI(n,{relative:e}={}){Bt(wc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=A.useContext(Xi),{hash:a,pathname:l,search:c}=Sc(n,{relative:e}),h=l;return t!=="/"&&(h=l==="/"?t:Ns([t,l])),i.createHref({pathname:h,search:c,hash:a})}function wc(){return A.useContext(bc)!=null}function Vo(){return Bt(wc(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(bc).location}var Sw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Rw(n){A.useContext(Xi).static||A.useLayoutEffect(n)}function Gr(){let{isDataRoute:n}=A.useContext(Zi);return n?XI():jI()}function jI(){Bt(wc(),"useNavigate() may be used only in the context of a <Router> component.");let n=A.useContext($l),{basename:e,navigator:t}=A.useContext(Xi),{matches:i}=A.useContext(Zi),{pathname:a}=Vo(),l=JSON.stringify(Ew(i)),c=A.useRef(!1);return Rw(()=>{c.current=!0}),A.useCallback((f,p={})=>{if(Qi(c.current,Sw),!c.current)return;if(typeof f=="number"){t.go(f);return}let y=Tw(f,JSON.parse(l),a,p.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Ns([e,y.pathname])),(p.replace?t.replace:t.push)(y,p.state,p)},[e,t,l,a,n])}A.createContext(null);function Aw(){let{matches:n}=A.useContext(Zi),e=n[n.length-1];return e?e.params:{}}function Sc(n,{relative:e}={}){let{matches:t}=A.useContext(Zi),{pathname:i}=Vo(),a=JSON.stringify(Ew(t));return A.useMemo(()=>Tw(n,JSON.parse(a),i,e==="path"),[n,a,i,e])}function BI(n,e){return Cw(n,e)}function Cw(n,e,t,i){var Y;Bt(wc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:l}=A.useContext(Xi),{matches:c}=A.useContext(Zi),h=c[c.length-1],f=h?h.params:{},p=h?h.pathname:"/",y=h?h.pathnameBase:"/",_=h&&h.route;{let z=_&&_.path||"";Iw(p,!_||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let E=Vo(),C;if(e){let z=typeof e=="string"?Hl(e):e;Bt(y==="/"||((Y=z.pathname)==null?void 0:Y.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${z.pathname}" was given in the \`location\` prop.`),C=z}else C=E;let P=C.pathname||"/",$=P;if(y!=="/"){let z=y.replace(/^\//,"").split("/");$="/"+P.replace(/^\//,"").split("/").slice(z.length).join("/")}let j=!l&&t&&t.matches&&t.matches.length>0?t.matches:yw(n,{pathname:$});Qi(_||j!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),Qi(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=$I(j&&j.map(z=>Object.assign({},z,{params:Object.assign({},f,z.params),pathname:Ns([y,a.encodeLocation?a.encodeLocation(z.pathname).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?y:Ns([y,a.encodeLocation?a.encodeLocation(z.pathnameBase).pathname:z.pathnameBase])})),c,t,i);return e&&H?A.createElement(bc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},H):H}function zI(){let n=WI(),e=PI(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=A.createElement(A.Fragment,null,A.createElement("p",null,"💿 Hey developer 👋"),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:l},"ErrorBoundary")," or"," ",A.createElement("code",{style:l},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),t?A.createElement("pre",{style:a},t):null,c)}var qI=A.createElement(zI,null),FI=class extends A.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?A.createElement(Zi.Provider,{value:this.props.routeContext},A.createElement(ey.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function HI({routeContext:n,match:e,children:t}){let i=A.useContext($l);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),A.createElement(Zi.Provider,{value:n},t)}function $I(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=t==null?void 0:t.errors;if(l!=null){let f=a.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);Bt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let c=!1,h=-1;if(t)for(let f=0;f<a.length;f++){let p=a[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=f),p.route.id){let{loaderData:y,errors:_}=t,E=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||E){c=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((f,p,y)=>{let _,E=!1,C=null,P=null;t&&(_=l&&p.route.id?l[p.route.id]:void 0,C=p.route.errorElement||qI,c&&(h<0&&y===0?(Iw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,P=null):h===y&&(E=!0,P=p.route.hydrateFallbackElement||null)));let $=e.concat(a.slice(0,y+1)),j=()=>{let H;return _?H=C:E?H=P:p.route.Component?H=A.createElement(p.route.Component,null):p.route.element?H=p.route.element:H=f,A.createElement(HI,{match:p,routeContext:{outlet:f,matches:$,isDataRoute:t!=null},children:H})};return t&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?A.createElement(FI,{location:t.location,revalidation:t.revalidation,component:C,error:_,children:j(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):j()},null)}function ty(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GI(n){let e=A.useContext($l);return Bt(e,ty(n)),e}function KI(n){let e=A.useContext(jh);return Bt(e,ty(n)),e}function QI(n){let e=A.useContext(Zi);return Bt(e,ty(n)),e}function ny(n){let e=QI(n),t=e.matches[e.matches.length-1];return Bt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function YI(){return ny("useRouteId")}function WI(){var i;let n=A.useContext(ey),e=KI("useRouteError"),t=ny("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function XI(){let{router:n}=GI("useNavigate"),e=ny("useNavigate"),t=A.useRef(!1);return Rw(()=>{t.current=!0}),A.useCallback(async(a,l={})=>{Qi(t.current,Sw),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var L0={};function Iw(n,e,t){!e&&!L0[n]&&(L0[n]=!0,Qi(!1,t))}A.memo(ZI);function ZI({routes:n,future:e,state:t}){return Cw(n,void 0,t,e)}function ui(n){Bt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function JI({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:l=!1}){Bt(!wc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),h=A.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof t=="string"&&(t=Hl(t));let{pathname:f="/",search:p="",hash:y="",state:_=null,key:E="default"}=t,C=A.useMemo(()=>{let P=Pa(f,c);return P==null?null:{location:{pathname:P,search:p,hash:y,state:_,key:E},navigationType:i}},[c,f,p,y,_,E,i]);return Qi(C!=null,`<Router basename="${c}"> is not able to match the URL "${f}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:A.createElement(Xi.Provider,{value:h},A.createElement(bc.Provider,{children:e,value:C}))}function eO({children:n,location:e}){return BI(yg(n),e)}function yg(n,e=[]){let t=[];return A.Children.forEach(n,(i,a)=>{if(!A.isValidElement(i))return;let l=[...e,a];if(i.type===A.Fragment){t.push.apply(t,yg(i.props.children,l));return}Bt(i.type===ui,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Bt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=yg(i.props.children,l)),t.push(c)}),t}var Zf="get",Jf="application/x-www-form-urlencoded";function Bh(n){return n!=null&&typeof n.tagName=="string"}function tO(n){return Bh(n)&&n.tagName.toLowerCase()==="button"}function nO(n){return Bh(n)&&n.tagName.toLowerCase()==="form"}function rO(n){return Bh(n)&&n.tagName.toLowerCase()==="input"}function iO(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function sO(n,e){return n.button===0&&(!e||e==="_self")&&!iO(n)}var Vf=null;function aO(){if(Vf===null)try{new FormData(document.createElement("form"),0),Vf=!1}catch{Vf=!0}return Vf}var oO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function yp(n){return n!=null&&!oO.has(n)?(Qi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Jf}"`),null):n}function lO(n,e){let t,i,a,l,c;if(nO(n)){let h=n.getAttribute("action");i=h?Pa(h,e):null,t=n.getAttribute("method")||Zf,a=yp(n.getAttribute("enctype"))||Jf,l=new FormData(n)}else if(tO(n)||rO(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(i=f?Pa(f,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||Zf,a=yp(n.getAttribute("formenctype"))||yp(h.getAttribute("enctype"))||Jf,l=new FormData(h,n),!aO()){let{name:p,type:y,value:_}=n;if(y==="image"){let E=p?`${p}.`:"";l.append(`${E}x`,"0"),l.append(`${E}y`,"0")}else p&&l.append(p,_)}}else{if(Bh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Zf,i=null,a=Jf,c=n}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:l,body:c}}function ry(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function uO(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function cO(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function fO(n,e,t){let i=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await uO(l,t);return c.links?c.links():[]}return[]}));return pO(i.flat(1).filter(cO).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function U0(n,e,t,i,a,l){let c=(f,p)=>t[p]?f.route.id!==t[p].route.id:!0,h=(f,p)=>{var y;return t[p].pathname!==f.pathname||((y=t[p].route.path)==null?void 0:y.endsWith("*"))&&t[p].params["*"]!==f.params["*"]};return l==="assets"?e.filter((f,p)=>c(f,p)||h(f,p)):l==="data"?e.filter((f,p)=>{var _;let y=i.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(c(f,p)||h(f,p))return!0;if(f.route.shouldRevalidate){let E=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function hO(n,e){return dO(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let a=[i.module];return i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function dO(n){return[...new Set(n)]}function mO(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function pO(n,e){let t=new Set;return new Set(e),n.reduce((i,a)=>{let l=JSON.stringify(mO(a));return t.has(l)||(t.add(l),i.push({key:l,link:a})),i},[])}function gO(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function yO(){let n=A.useContext($l);return ry(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function vO(){let n=A.useContext(jh);return ry(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var iy=A.createContext(void 0);iy.displayName="FrameworkContext";function Ow(){let n=A.useContext(iy);return ry(n,"You must render this element inside a <HydratedRouter> element"),n}function _O(n,e){let t=A.useContext(iy),[i,a]=A.useState(!1),[l,c]=A.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=e,E=A.useRef(null);A.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let $=H=>{H.forEach(Y=>{c(Y.isIntersecting)})},j=new IntersectionObserver($,{threshold:.5});return E.current&&j.observe(E.current),()=>{j.disconnect()}}},[n]),A.useEffect(()=>{if(i){let $=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout($)}}},[i]);let C=()=>{a(!0)},P=()=>{a(!1),c(!1)};return t?n!=="intent"?[l,E,{}]:[l,E,{onFocus:Qu(h,C),onBlur:Qu(f,P),onMouseEnter:Qu(p,C),onMouseLeave:Qu(y,P),onTouchStart:Qu(_,C)}]:[!1,E,{}]}function Qu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function EO({page:n,...e}){let{router:t}=yO(),i=A.useMemo(()=>yw(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?A.createElement(bO,{page:n,matches:i,...e}):null}function TO(n){let{manifest:e,routeModules:t}=Ow(),[i,a]=A.useState([]);return A.useEffect(()=>{let l=!1;return fO(n,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[n,e,t]),i}function bO({page:n,matches:e,...t}){let i=Vo(),{manifest:a,routeModules:l}=Ow(),{loaderData:c,matches:h}=vO(),f=A.useMemo(()=>U0(n,e,h,a,i,"data"),[n,e,h,a,i]),p=A.useMemo(()=>U0(n,e,h,a,i,"assets"),[n,e,h,a,i]),y=A.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let C=new Set,P=!1;if(e.forEach(j=>{var Y;let H=a.routes[j.route.id];!H||!H.hasLoader||(!f.some(z=>z.route.id===j.route.id)&&j.route.id in c&&((Y=l[j.route.id])!=null&&Y.shouldRevalidate)||H.hasClientLoader?P=!0:C.add(j.route.id))}),C.size===0)return[];let $=gO(n);return P&&C.size>0&&$.searchParams.set("_routes",e.filter(j=>C.has(j.route.id)).map(j=>j.route.id).join(",")),[$.pathname+$.search]},[c,i,a,f,e,n,l]),_=A.useMemo(()=>hO(p,a),[p,a]),E=TO(p);return A.createElement(A.Fragment,null,y.map(C=>A.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),_.map(C=>A.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),E.map(({key:C,link:P})=>A.createElement("link",{key:C,...P})))}function wO(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var xw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{xw&&(window.__reactRouterVersion="7.1.5")}catch{}function SO({basename:n,children:e,window:t}){let i=A.useRef();i.current==null&&(i.current=hI({window:t,v5Compat:!0}));let a=i.current,[l,c]=A.useState({action:a.action,location:a.location}),h=A.useCallback(f=>{A.startTransition(()=>c(f))},[c]);return A.useLayoutEffect(()=>a.listen(h),[a,h]),A.createElement(JI,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a})}var Nw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rs=A.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:h,target:f,to:p,preventScrollReset:y,viewTransition:_,...E},C){let{basename:P}=A.useContext(Xi),$=typeof p=="string"&&Nw.test(p),j,H=!1;if(typeof p=="string"&&$&&(j=p,xw))try{let R=new URL(window.location.href),M=p.startsWith("//")?new URL(R.protocol+p):new URL(p),B=Pa(M.pathname,P);M.origin===R.origin&&B!=null?p=B+M.search+M.hash:H=!0}catch{Qi(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Y=VI(p,{relative:a}),[z,re,se]=_O(i,E),fe=IO(p,{replace:c,state:h,target:f,preventScrollReset:y,relative:a,viewTransition:_});function U(R){e&&e(R),R.defaultPrevented||fe(R)}let k=A.createElement("a",{...E,...se,href:j||Y,onClick:H||l?e:U,ref:wO(C,re),target:f,"data-discover":!$&&t==="render"?"true":void 0});return z&&!$?A.createElement(A.Fragment,null,k,A.createElement(EO,{page:Y})):k});Rs.displayName="Link";var RO=A.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:h,children:f,...p},y){let _=Sc(c,{relative:p.relative}),E=Vo(),C=A.useContext(jh),{navigator:P,basename:$}=A.useContext(Xi),j=C!=null&&kO(_)&&h===!0,H=P.encodeLocation?P.encodeLocation(_).pathname:_.pathname,Y=E.pathname,z=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||(Y=Y.toLowerCase(),z=z?z.toLowerCase():null,H=H.toLowerCase()),z&&$&&(z=Pa(z,$)||z);const re=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let se=Y===H||!a&&Y.startsWith(H)&&Y.charAt(re)==="/",fe=z!=null&&(z===H||!a&&z.startsWith(H)&&z.charAt(H.length)==="/"),U={isActive:se,isPending:fe,isTransitioning:j},k=se?e:void 0,R;typeof i=="function"?R=i(U):R=[i,se?"active":null,fe?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(U):l;return A.createElement(Rs,{...p,"aria-current":k,className:R,ref:y,style:M,to:c,viewTransition:h},typeof f=="function"?f(U):f)});RO.displayName="NavLink";var AO=A.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:l,method:c=Zf,action:h,onSubmit:f,relative:p,preventScrollReset:y,viewTransition:_,...E},C)=>{let P=NO(),$=DO(h,{relative:p}),j=c.toLowerCase()==="get"?"get":"post",H=typeof h=="string"&&Nw.test(h),Y=z=>{if(f&&f(z),z.defaultPrevented)return;z.preventDefault();let re=z.nativeEvent.submitter,se=(re==null?void 0:re.getAttribute("formmethod"))||c;P(re||z.currentTarget,{fetcherKey:e,method:se,navigate:t,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:_})};return A.createElement("form",{ref:C,method:j,action:$,onSubmit:i?f:Y,...E,"data-discover":!H&&n==="render"?"true":void 0})});AO.displayName="Form";function CO(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Dw(n){let e=A.useContext($l);return Bt(e,CO(n)),e}function IO(n,{target:e,replace:t,state:i,preventScrollReset:a,relative:l,viewTransition:c}={}){let h=Gr(),f=Vo(),p=Sc(n,{relative:l});return A.useCallback(y=>{if(sO(y,e)){y.preventDefault();let _=t!==void 0?t:cc(f)===cc(p);h(n,{replace:_,state:i,preventScrollReset:a,relative:l,viewTransition:c})}},[f,h,p,t,i,e,n,a,l,c])}var OO=0,xO=()=>`__${String(++OO)}__`;function NO(){let{router:n}=Dw("useSubmit"),{basename:e}=A.useContext(Xi),t=YI();return A.useCallback(async(i,a={})=>{let{action:l,method:c,encType:h,formData:f,body:p}=lO(i,e);if(a.navigate===!1){let y=a.fetcherKey||xO();await n.fetch(y,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:f,body:p,formMethod:a.method||c,formEncType:a.encType||h,flushSync:a.flushSync})}else await n.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:f,body:p,formMethod:a.method||c,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function DO(n,{relative:e}={}){let{basename:t}=A.useContext(Xi),i=A.useContext(Zi);Bt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...Sc(n||".",{relative:e})},c=Vo();if(n==null){l.search=c.search;let h=new URLSearchParams(l.search),f=h.getAll("index");if(f.some(y=>y==="")){h.delete("index"),f.filter(_=>_).forEach(_=>h.append("index",_));let y=h.toString();l.search=y?`?${y}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Ns([t,l.pathname])),cc(l)}function kO(n,e={}){let t=A.useContext(ww);Bt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Dw("useViewTransitionState"),a=Sc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Pa(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Pa(t.nextLocation.pathname,i)||t.nextLocation.pathname;return ch(a.pathname,c)!=null||ch(a.pathname,l)!=null}new TextEncoder;var PO=gw();const Nl=Vh(PO);var vp={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var V0;function MO(){return V0||(V0=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var l="",c=0;c<arguments.length;c++){var h=arguments[c];h&&(l=a(l,i(h)))}return l}function i(l){if(typeof l=="string"||typeof l=="number")return l;if(typeof l!="object")return"";if(Array.isArray(l))return t.apply(null,l);if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]"))return l.toString();var c="";for(var h in l)e.call(l,h)&&l[h]&&(c=a(c,h));return c}function a(l,c){return c?l?l+" "+c:l+c:l}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(vp)),vp.exports}var LO=MO();const Ue=Vh(LO),UO=["xxl","xl","lg","md","sm","xs"],VO="xs",zh=A.createContext({prefixes:{},breakpoints:UO,minBreakpoint:VO}),{Consumer:kj,Provider:Pj}=zh;function Ge(n,e){const{prefixes:t}=A.useContext(zh);return n||t[e]||e}function jO(){const{breakpoints:n}=A.useContext(zh);return n}function BO(){const{minBreakpoint:n}=A.useContext(zh);return n}const kw=A.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},a)=>(e=Ge(e,"card-group"),O.jsx(t,{ref:a,className:Ue(n,e),...i})));kw.displayName="CardGroup";var j0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},zO=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const a=n[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],c=n[t++],h=n[t++],f=((a&7)<<18|(l&63)<<12|(c&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},Mw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,h=c?n[a+1]:0,f=a+2<n.length,p=f?n[a+2]:0,y=l>>2,_=(l&3)<<4|h>>4;let E=(h&15)<<2|p>>6,C=p&63;f||(C=64,c||(E=64)),i.push(t[y],t[_],t[E],t[C])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Pw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):zO(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],h=a<n.length?t[n.charAt(a)]:0;++a;const p=a<n.length?t[n.charAt(a)]:64;++a;const _=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||h==null||p==null||_==null)throw new qO;const E=l<<2|h>>4;if(i.push(E),p!==64){const C=h<<4&240|p>>2;if(i.push(C),_!==64){const P=p<<6&192|_;i.push(P)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class qO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const FO=function(n){const e=Pw(n);return Mw.encodeByteArray(e,!0)},fh=function(n){return FO(n).replace(/\./g,"")},Lw=function(n){try{return Mw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O=()=>HO().__FIREBASE_DEFAULTS__,GO=()=>{if(typeof process>"u"||typeof j0>"u")return;const n=j0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},KO=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Lw(n[1]);return e&&JSON.parse(e)},qh=()=>{try{return $O()||GO()||KO()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Uw=n=>{var e,t;return(t=(e=qh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Vw=n=>{const e=Uw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},jw=()=>{var n;return(n=qh())===null||n===void 0?void 0:n.config},Bw=n=>{var e;return(e=qh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[fh(JSON.stringify(t)),fh(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function YO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qn())}function WO(){var n;const e=(n=qh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function XO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ZO(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function JO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ex(){const n=qn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function tx(){return!WO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nx(){try{return typeof indexedDB=="object"}catch{return!1}}function rx(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix="FirebaseError";class Ji extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=ix,Object.setPrototypeOf(this,Ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rc.prototype.create)}}class Rc{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?sx(l,i):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new Ji(a,h,i)}}function sx(n,e){return n.replace(ax,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const ax=/\{\$([^}]+)}/g;function ox(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function hh(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const l=n[a],c=e[a];if(B0(l)&&B0(c)){if(!hh(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function B0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Xu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Zu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function lx(n,e){const t=new ux(n,e);return t.subscribe.bind(t)}class ux{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");cx(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=_p),a.error===void 0&&(a.error=_p),a.complete===void 0&&(a.complete=_p);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cx(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function _p(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(n){return n&&n._delegate?n._delegate:n}class Ma{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new QO;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(dx(e))try{this.getOrInitializeService({instanceIdentifier:Ao})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Ao){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ao){return this.instances.has(e)}getOptions(e=Ao){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);i===h&&c.resolve(a)}return a}onInit(e,t){var i;const a=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:hx(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ao){return this.component?this.component.multipleInstances?e:Ao:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hx(n){return n===Ao?void 0:n}function dx(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new fx(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(tt||(tt={}));const px={debug:tt.DEBUG,verbose:tt.VERBOSE,info:tt.INFO,warn:tt.WARN,error:tt.ERROR,silent:tt.SILENT},gx=tt.INFO,yx={[tt.DEBUG]:"log",[tt.VERBOSE]:"log",[tt.INFO]:"info",[tt.WARN]:"warn",[tt.ERROR]:"error"},vx=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),a=yx[e];if(a)console[a](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sy{constructor(e){this.name=e,this._logLevel=gx,this._logHandler=vx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?px[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tt.DEBUG,...e),this._logHandler(this,tt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tt.VERBOSE,...e),this._logHandler(this,tt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tt.INFO,...e),this._logHandler(this,tt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tt.WARN,...e),this._logHandler(this,tt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tt.ERROR,...e),this._logHandler(this,tt.ERROR,...e)}}const _x=(n,e)=>e.some(t=>n instanceof t);let z0,q0;function Ex(){return z0||(z0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Tx(){return q0||(q0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qw=new WeakMap,vg=new WeakMap,Fw=new WeakMap,Ep=new WeakMap,ay=new WeakMap;function bx(n){const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(xa(n.result)),a()},c=()=>{i(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&qw.set(t,n)}).catch(()=>{}),ay.set(e,n),e}function wx(n){if(vg.has(n))return;const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});vg.set(n,e)}let _g={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return vg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Fw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return xa(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Sx(n){_g=n(_g)}function Rx(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Tp(this),e,...t);return Fw.set(i,e.sort?e.sort():[e]),xa(i)}:Tx().includes(n)?function(...e){return n.apply(Tp(this),e),xa(qw.get(this))}:function(...e){return xa(n.apply(Tp(this),e))}}function Ax(n){return typeof n=="function"?Rx(n):(n instanceof IDBTransaction&&wx(n),_x(n,Ex())?new Proxy(n,_g):n)}function xa(n){if(n instanceof IDBRequest)return bx(n);if(Ep.has(n))return Ep.get(n);const e=Ax(n);return e!==n&&(Ep.set(n,e),ay.set(e,n)),e}const Tp=n=>ay.get(n);function Cx(n,e,{blocked:t,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(n,e),h=xa(c);return i&&c.addEventListener("upgradeneeded",f=>{i(xa(c.result),f.oldVersion,f.newVersion,xa(c.transaction),f)}),t&&c.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{l&&f.addEventListener("close",()=>l()),a&&f.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const Ix=["get","getKey","getAll","getAllKeys","count"],Ox=["put","add","delete","clear"],bp=new Map;function F0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(bp.get(e))return bp.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=Ox.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||Ix.includes(t)))return;const l=async function(c,...h){const f=this.transaction(c,a?"readwrite":"readonly");let p=f.store;return i&&(p=p.index(h.shift())),(await Promise.all([p[t](...h),a&&f.done]))[0]};return bp.set(e,l),l}Sx(n=>({...n,get:(e,t,i)=>F0(e,t)||n.get(e,t,i),has:(e,t)=>!!F0(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Nx(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function Nx(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Eg="@firebase/app",H0="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls=new sy("@firebase/app"),Dx="@firebase/app-compat",kx="@firebase/analytics-compat",Px="@firebase/analytics",Mx="@firebase/app-check-compat",Lx="@firebase/app-check",Ux="@firebase/auth",Vx="@firebase/auth-compat",jx="@firebase/database",Bx="@firebase/data-connect",zx="@firebase/database-compat",qx="@firebase/functions",Fx="@firebase/functions-compat",Hx="@firebase/installations",$x="@firebase/installations-compat",Gx="@firebase/messaging",Kx="@firebase/messaging-compat",Qx="@firebase/performance",Yx="@firebase/performance-compat",Wx="@firebase/remote-config",Xx="@firebase/remote-config-compat",Zx="@firebase/storage",Jx="@firebase/storage-compat",eN="@firebase/firestore",tN="@firebase/vertexai",nN="@firebase/firestore-compat",rN="firebase",iN="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tg="[DEFAULT]",sN={[Eg]:"fire-core",[Dx]:"fire-core-compat",[Px]:"fire-analytics",[kx]:"fire-analytics-compat",[Lx]:"fire-app-check",[Mx]:"fire-app-check-compat",[Ux]:"fire-auth",[Vx]:"fire-auth-compat",[jx]:"fire-rtdb",[Bx]:"fire-data-connect",[zx]:"fire-rtdb-compat",[qx]:"fire-fn",[Fx]:"fire-fn-compat",[Hx]:"fire-iid",[$x]:"fire-iid-compat",[Gx]:"fire-fcm",[Kx]:"fire-fcm-compat",[Qx]:"fire-perf",[Yx]:"fire-perf-compat",[Wx]:"fire-rc",[Xx]:"fire-rc-compat",[Zx]:"fire-gcs",[Jx]:"fire-gcs-compat",[eN]:"fire-fst",[nN]:"fire-fst-compat",[tN]:"fire-vertex","fire-js":"fire-js",[rN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=new Map,aN=new Map,bg=new Map;function $0(n,e){try{n.container.addComponent(e)}catch(t){Ls.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function No(n){const e=n.name;if(bg.has(e))return Ls.debug(`There were multiple attempts to register component ${e}.`),!1;bg.set(e,n);for(const t of dh.values())$0(t,n);for(const t of aN.values())$0(t,n);return!0}function Fh(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Sr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Na=new Rc("app","Firebase",oN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ma("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Na.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo=iN;function Hw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Tg,automaticDataCollectionEnabled:!1},e),a=i.name;if(typeof a!="string"||!a)throw Na.create("bad-app-name",{appName:String(a)});if(t||(t=jw()),!t)throw Na.create("no-options");const l=dh.get(a);if(l){if(hh(t,l.options)&&hh(i,l.config))return l;throw Na.create("duplicate-app",{appName:a})}const c=new mx(a);for(const f of bg.values())c.addComponent(f);const h=new lN(t,i,c);return dh.set(a,h),h}function oy(n=Tg){const e=dh.get(n);if(!e&&n===Tg&&jw())return Hw();if(!e)throw Na.create("no-app",{appName:n});return e}function Fi(n,e,t){var i;let a=(i=sN[n])!==null&&i!==void 0?i:n;t&&(a+=`-${t}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const h=[`Unable to register library "${a}" with version "${e}":`];l&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ls.warn(h.join(" "));return}No(new Ma(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN="firebase-heartbeat-database",cN=1,fc="firebase-heartbeat-store";let wp=null;function $w(){return wp||(wp=Cx(uN,cN,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(fc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Na.create("idb-open",{originalErrorMessage:n.message})})),wp}async function fN(n){try{const t=(await $w()).transaction(fc),i=await t.objectStore(fc).get(Gw(n));return await t.done,i}catch(e){if(e instanceof Ji)Ls.warn(e.message);else{const t=Na.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ls.warn(t.message)}}}async function G0(n,e){try{const i=(await $w()).transaction(fc,"readwrite");await i.objectStore(fc).put(e,Gw(n)),await i.done}catch(t){if(t instanceof Ji)Ls.warn(t.message);else{const i=Na.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ls.warn(i.message)}}}function Gw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=1024,dN=30;class mN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new gN(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=K0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>dN){const c=yN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ls.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=K0(),{heartbeatsToSend:i,unsentEntries:a}=pN(this._heartbeatsCache.heartbeats),l=fh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Ls.warn(t),""}}}function K0(){return new Date().toISOString().substring(0,10)}function pN(n,e=hN){const t=[];let i=n.slice();for(const a of n){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),Q0(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),Q0(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class gN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nx()?rx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await fN(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return G0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return G0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Q0(n){return fh(JSON.stringify({version:2,heartbeats:n})).length}function yN(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(n){No(new Ma("platform-logger",e=>new xx(e),"PRIVATE")),No(new Ma("heartbeat",e=>new mN(e),"PRIVATE")),Fi(Eg,H0,n),Fi(Eg,H0,"esm2017"),Fi("fire-js","")}vN("");var _N="firebase",EN="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fi(_N,EN,"app");function ly(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t}function Kw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const TN=Kw,Qw=new Rc("auth","Firebase",Kw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh=new sy("@firebase/auth");function bN(n,...e){mh.logLevel<=tt.WARN&&mh.warn(`Auth (${jo}): ${n}`,...e)}function eh(n,...e){mh.logLevel<=tt.ERROR&&mh.error(`Auth (${jo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(n,...e){throw uy(n,...e)}function Hi(n,...e){return uy(n,...e)}function Yw(n,e,t){const i=Object.assign(Object.assign({},TN()),{[e]:t});return new Rc("auth","Firebase",i).create(e,{appName:n.name})}function Ds(n){return Yw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function uy(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return Qw.create(n,...e)}function Ve(n,e,...t){if(!n)throw uy(e,...t)}function Is(n){const e="INTERNAL ASSERTION FAILED: "+n;throw eh(e),new Error(e)}function Us(n,e){n||Is(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function wN(){return Y0()==="http:"||Y0()==="https:"}function Y0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wN()||ZO()||"connection"in navigator)?navigator.onLine:!0}function RN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Us(t>e,"Short delay should be less than long delay!"),this.isMobile=YO()||JO()}get(){return SN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cy(n,e){Us(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Is("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Is("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Is("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN=new Cc(3e4,6e4);function qa(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Fa(n,e,t,i,a={}){return Xw(n,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const h=Ac(Object.assign({key:n.config.apiKey},c)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:f},l);return XO()||(p.referrerPolicy="no-referrer"),Ww.fetch()(Zw(n,n.config.apiHost,t,h),p)})}async function Xw(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},AN),e);try{const a=new ON(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw jf(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const h=l.ok?c.errorMessage:c.error.message,[f,p]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw jf(n,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw jf(n,"email-already-in-use",c);if(f==="USER_DISABLED")throw jf(n,"user-disabled",c);const y=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Yw(n,y,p);hi(n,y)}}catch(a){if(a instanceof Ji)throw a;hi(n,"network-request-failed",{message:String(a)})}}async function Ic(n,e,t,i,a={}){const l=await Fa(n,e,t,i,a);return"mfaPendingCredential"in l&&hi(n,"multi-factor-auth-required",{_serverResponse:l}),l}function Zw(n,e,t,i){const a=`${e}${t}?${i}`;return n.config.emulator?cy(n.config,a):`${n.config.apiScheme}://${a}`}function IN(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ON{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Hi(this.auth,"network-request-failed")),CN.get())})}}function jf(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=Hi(n,e,i);return a.customData._tokenResponse=t,a}function W0(n){return n!==void 0&&n.enterprise!==void 0}class xN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return IN(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function NN(n,e){return Fa(n,"GET","/v2/recaptchaConfig",qa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DN(n,e){return Fa(n,"POST","/v1/accounts:delete",e)}async function Jw(n,e){return Fa(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ic(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function kN(n,e=!1){const t=Xt(n),i=await t.getIdToken(e),a=fy(i);Ve(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:i,authTime:ic(Sp(a.auth_time)),issuedAtTime:ic(Sp(a.iat)),expirationTime:ic(Sp(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Sp(n){return Number(n)*1e3}function fy(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return eh("JWT malformed, contained fewer than 3 sections"),null;try{const a=Lw(t);return a?JSON.parse(a):(eh("Failed to decode base64 JWT payload"),null)}catch(a){return eh("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function X0(n){const e=fy(n);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hc(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Ji&&PN(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function PN({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ic(this.lastLoginAt),this.creationTime=ic(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ph(n){var e;const t=n.auth,i=await n.getIdToken(),a=await hc(n,Jw(t,{idToken:i}));Ve(a==null?void 0:a.users.length,t,"internal-error");const l=a.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?eS(l.providerUserInfo):[],h=UN(n.providerData,c),f=n.isAnonymous,p=!(n.email&&l.passwordHash)&&!(h!=null&&h.length),y=f?p:!1,_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new Sg(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(n,_)}async function LN(n){const e=Xt(n);await ph(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function UN(n,e){return[...n.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function eS(n){return n.map(e=>{var{providerId:t}=e,i=ly(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VN(n,e){const t=await Xw(n,{},async()=>{const i=Ac({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,c=Zw(n,a,"/v1/token",`key=${l}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",Ww.fetch()(c,{method:"POST",headers:h,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function jN(n,e){return Fa(n,"POST","/v2/accounts:revokeToken",qa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):X0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");const t=X0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:l}=await VN(e,t);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:l}=t,c=new kl;return i&&(Ve(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Ve(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Ve(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new kl,this.toJSON())}_performRefresh(){return Is("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ta(n,e){Ve(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Os{constructor(e){var{uid:t,auth:i,stsTokenManager:a}=e,l=ly(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new MN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Sg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await hc(this,this.stsTokenManager.getToken(this.auth,e));return Ve(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return kN(this,e)}reload(){return LN(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Os(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await ph(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Sr(this.auth.app))return Promise.reject(Ds(this.auth));const e=await this.getIdToken();return await hc(this,DN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,a,l,c,h,f,p,y;const _=(i=t.displayName)!==null&&i!==void 0?i:void 0,E=(a=t.email)!==null&&a!==void 0?a:void 0,C=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,P=(c=t.photoURL)!==null&&c!==void 0?c:void 0,$=(h=t.tenantId)!==null&&h!==void 0?h:void 0,j=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,H=(p=t.createdAt)!==null&&p!==void 0?p:void 0,Y=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:z,emailVerified:re,isAnonymous:se,providerData:fe,stsTokenManager:U}=t;Ve(z&&U,e,"internal-error");const k=kl.fromJSON(this.name,U);Ve(typeof z=="string",e,"internal-error"),Ta(_,e.name),Ta(E,e.name),Ve(typeof re=="boolean",e,"internal-error"),Ve(typeof se=="boolean",e,"internal-error"),Ta(C,e.name),Ta(P,e.name),Ta($,e.name),Ta(j,e.name),Ta(H,e.name),Ta(Y,e.name);const R=new Os({uid:z,auth:e,email:E,emailVerified:re,displayName:_,isAnonymous:se,photoURL:P,phoneNumber:C,tenantId:$,stsTokenManager:k,createdAt:H,lastLoginAt:Y});return fe&&Array.isArray(fe)&&(R.providerData=fe.map(M=>Object.assign({},M))),j&&(R._redirectEventId=j),R}static async _fromIdTokenResponse(e,t,i=!1){const a=new kl;a.updateFromServerResponse(t);const l=new Os({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await ph(l),l}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];Ve(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?eS(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),h=new kl;h.updateFromIdToken(i);const f=new Os({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Sg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0=new Map;function xs(n){Us(n instanceof Function,"Expected a class definition");let e=Z0.get(n);return e?(Us(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Z0.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}tS.type="NONE";const J0=tS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(n,e,t){return`firebase:${n}:${e}:${t}`}class Pl{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=th(this.userKey,a.apiKey,l),this.fullPersistenceKey=th("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Os._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Pl(xs(J0),e,i);const a=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||xs(J0);const c=th(i,e.config.apiKey,e.name);let h=null;for(const p of t)try{const y=await p._get(c);if(y){const _=Os._fromJSON(e,y);p!==l&&(h=_),l=p;break}}catch{}const f=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!f.length?new Pl(l,e,i):(l=f[0],h&&await l._set(c,h.toJSON()),await Promise.all(t.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new Pl(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(sS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(oS(e))return"Blackberry";if(lS(e))return"Webos";if(rS(e))return"Safari";if((e.includes("chrome/")||iS(e))&&!e.includes("edge/"))return"Chrome";if(aS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function nS(n=qn()){return/firefox\//i.test(n)}function rS(n=qn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function iS(n=qn()){return/crios\//i.test(n)}function sS(n=qn()){return/iemobile/i.test(n)}function aS(n=qn()){return/android/i.test(n)}function oS(n=qn()){return/blackberry/i.test(n)}function lS(n=qn()){return/webos/i.test(n)}function hy(n=qn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function BN(n=qn()){var e;return hy(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function zN(){return ex()&&document.documentMode===10}function uS(n=qn()){return hy(n)||aS(n)||lS(n)||oS(n)||/windows phone/i.test(n)||sS(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(n,e=[]){let t;switch(n){case"Browser":t=eT(qn());break;case"Worker":t=`${eT(qn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${jo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,h)=>{try{const f=e(l);c(f)}catch(f){h(f)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FN(n,e={}){return Fa(n,"GET","/v2/passwordPolicy",qa(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN=6;class $N{constructor(e){var t,i,a,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:HN,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,a,l,c,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(i=f.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(a=f.containsLowercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(l=f.containsUppercaseLetter)!==null&&l!==void 0?l:!0),f.isValid&&(f.isValid=(c=f.containsNumericCharacter)!==null&&c!==void 0?c:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tT(this),this.idTokenSubscription=new tT(this),this.beforeStateQueue=new qN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Qw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=xs(t)),this._initializationPromise=this.queue(async()=>{var i,a;if(!this._deleted&&(this.persistenceManager=await Pl.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Jw(this,{idToken:e}),i=await Os._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Sr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=a==null?void 0:a._redirectEventId,f=await this.tryRedirectSignIn(e);(!c||c===h)&&(f!=null&&f.user)&&(a=f.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ph(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=RN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Sr(this.app))return Promise.reject(Ds(this));const t=e?Xt(e):null;return t&&Ve(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Sr(this.app)?Promise.reject(Ds(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Sr(this.app)?Promise.reject(Ds(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await FN(this),t=new $N(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Rc("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await jN(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&xs(e)||this._popupRedirectResolver;Ve(t,this,"argument-error"),this.redirectPersistenceManager=await Pl.create(this,[xs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(h,this,"internal-error"),h.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,i,a);return()=>{c=!0,f()}}else{const f=e.addObserver(t);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(Sr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&bN(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Bo(n){return Xt(n)}class tT{constructor(e){this.auth=e,this.observer=null,this.addObserver=lx(t=>this.observer=t)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function KN(n){Hh=n}function fS(n){return Hh.loadJS(n)}function QN(){return Hh.recaptchaEnterpriseScript}function YN(){return Hh.gapiScript}function WN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class XN{constructor(){this.enterprise=new ZN}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class ZN{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const JN="recaptcha-enterprise",hS="NO_RECAPTCHA";class eD{constructor(e){this.type=JN,this.auth=Bo(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,h)=>{NN(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new xN(f);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(f=>{h(f)})})}function a(l,c,h){const f=window.grecaptcha;W0(f)?f.enterprise.ready(()=>{f.enterprise.execute(l,{action:e}).then(p=>{c(p)}).catch(()=>{c(hS)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new XN().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(h=>{if(!t&&W0(window.grecaptcha))a(h,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=QN();f.length!==0&&(f+=h),fS(f).then(()=>{a(h,l,c)}).catch(p=>{c(p)})}}).catch(h=>{c(h)})})}}async function nT(n,e,t,i=!1,a=!1){const l=new eD(n);let c;if(a)c=hS;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Rg(n,e,t,i,a){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await nT(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await nT(n,e,t,t==="getOobCode");return i(n,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(n,e){const t=Fh(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(hh(l,e??{}))return a;hi(a,"already-initialized")}return t.initialize({options:e})}function nD(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(xs);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function rD(n,e,t){const i=Bo(n);Ve(i._canInitEmulator,i,"emulator-config-failed"),Ve(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=dS(e),{host:c,port:h}=iD(e),f=h===null?"":`:${h}`;i.config.emulator={url:`${l}//${c}${f}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:c,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})}),sD()}function dS(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function iD(n){const e=dS(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:rT(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:rT(c)}}}function rT(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function sD(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Is("not implemented")}_getIdTokenResponse(e){return Is("not implemented")}_linkToIdToken(e,t){return Is("not implemented")}_getReauthenticationResolver(e){return Is("not implemented")}}async function aD(n,e){return Fa(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oD(n,e){return Ic(n,"POST","/v1/accounts:signInWithPassword",qa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lD(n,e){return Ic(n,"POST","/v1/accounts:signInWithEmailLink",qa(n,e))}async function uD(n,e){return Ic(n,"POST","/v1/accounts:signInWithEmailLink",qa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc extends dy{constructor(e,t,i,a=null){super("password",i),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new dc(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new dc(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rg(e,t,"signInWithPassword",oD);case"emailLink":return lD(e,{email:this._email,oobCode:this._password});default:hi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rg(e,i,"signUpPassword",aD);case"emailLink":return uD(e,{idToken:t,email:this._email,oobCode:this._password});default:hi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ml(n,e){return Ic(n,"POST","/v1/accounts:signInWithIdp",qa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD="http://localhost";class Do extends dy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Do(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):hi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a}=t,l=ly(t,["providerId","signInMethod"]);if(!i||!a)return null;const c=new Do(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Ml(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Ml(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ml(e,t)}buildRequest(){const e={requestUri:cD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ac(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fD(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function hD(n){const e=Xu(Zu(n)).link,t=e?Xu(Zu(e)).deep_link_id:null,i=Xu(Zu(n)).deep_link_id;return(i?Xu(Zu(i)).link:null)||i||t||e||n}class my{constructor(e){var t,i,a,l,c,h;const f=Xu(Zu(e)),p=(t=f.apiKey)!==null&&t!==void 0?t:null,y=(i=f.oobCode)!==null&&i!==void 0?i:null,_=fD((a=f.mode)!==null&&a!==void 0?a:null);Ve(p&&y&&_,"argument-error"),this.apiKey=p,this.operation=_,this.code=y,this.continueUrl=(l=f.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=f.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(h=f.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=hD(e);try{return new my(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(){this.providerId=Gl.PROVIDER_ID}static credential(e,t){return dc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=my.parseLink(t);return Ve(i,"argument-error"),dc._fromEmailAndCode(e,i.code,i.tenantId)}}Gl.PROVIDER_ID="password";Gl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Gl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc extends mS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa extends Oc{constructor(){super("facebook.com")}static credential(e){return Do._fromParams({providerId:Sa.PROVIDER_ID,signInMethod:Sa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sa.credentialFromTaggedObject(e)}static credentialFromError(e){return Sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Sa.credential(e.oauthAccessToken)}catch{return null}}}Sa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Sa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra extends Oc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Do._fromParams({providerId:Ra.PROVIDER_ID,signInMethod:Ra.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ra.credentialFromTaggedObject(e)}static credentialFromError(e){return Ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Ra.credential(t,i)}catch{return null}}}Ra.GOOGLE_SIGN_IN_METHOD="google.com";Ra.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa extends Oc{constructor(){super("github.com")}static credential(e){return Do._fromParams({providerId:Aa.PROVIDER_ID,signInMethod:Aa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Aa.credentialFromTaggedObject(e)}static credentialFromError(e){return Aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Aa.credential(e.oauthAccessToken)}catch{return null}}}Aa.GITHUB_SIGN_IN_METHOD="github.com";Aa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca extends Oc{constructor(){super("twitter.com")}static credential(e,t){return Do._fromParams({providerId:Ca.PROVIDER_ID,signInMethod:Ca.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ca.credentialFromTaggedObject(e)}static credentialFromError(e){return Ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Ca.credential(t,i)}catch{return null}}}Ca.TWITTER_SIGN_IN_METHOD="twitter.com";Ca.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dD(n,e){return Ic(n,"POST","/v1/accounts:signUp",qa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const l=await Os._fromIdTokenResponse(e,i,a),c=iT(i);return new ko({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=iT(i);return new ko({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function iT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh extends Ji{constructor(e,t,i,a){var l;super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,gh.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new gh(e,t,i,a)}}function pS(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?gh._fromErrorAndOperation(n,l,e,i):l})}async function mD(n,e,t=!1){const i=await hc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ko._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pD(n,e,t=!1){const{auth:i}=n;if(Sr(i.app))return Promise.reject(Ds(i));const a="reauthenticate";try{const l=await hc(n,pS(i,a,e,n),t);Ve(l.idToken,i,"internal-error");const c=fy(l.idToken);Ve(c,i,"internal-error");const{sub:h}=c;return Ve(n.uid===h,i,"user-mismatch"),ko._forOperation(n,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&hi(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gS(n,e,t=!1){if(Sr(n.app))return Promise.reject(Ds(n));const i="signIn",a=await pS(n,i,e),l=await ko._fromIdTokenResponse(n,i,a);return t||await n._updateCurrentUser(l.user),l}async function gD(n,e){return gS(Bo(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yS(n){const e=Bo(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function yD(n,e,t){if(Sr(n.app))return Promise.reject(Ds(n));const i=Bo(n),c=await Rg(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",dD).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&yS(n),f}),h=await ko._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(h.user),h}function vD(n,e,t){return Sr(n.app)?Promise.reject(Ds(n)):gD(Xt(n),Gl.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&yS(n),i})}function _D(n,e,t,i){return Xt(n).onIdTokenChanged(e,t,i)}function ED(n,e,t){return Xt(n).beforeAuthStateChanged(e,t)}function TD(n,e,t,i){return Xt(n).onAuthStateChanged(e,t,i)}const yh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(yh,"1"),this.storage.removeItem(yh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD=1e3,wD=10;class _S extends vS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=uS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,h,f)=>{this.notifyListeners(c,f)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);zN()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,wD):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},bD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}_S.type="LOCAL";const SD=_S;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES extends vS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ES.type="SESSION";const TS=ES;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RD(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new $h(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const h=Array.from(c).map(async p=>p(t.origin,l)),f=await RD(h);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$h.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function py(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((h,f)=>{const p=py("",20);a.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(_){const E=_;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(E.data.response);break;default:clearTimeout(y),clearTimeout(l),f(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(){return window}function CD(n){$i().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(){return typeof $i().WorkerGlobalScope<"u"&&typeof $i().importScripts=="function"}async function ID(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function OD(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function xD(){return bS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS="firebaseLocalStorageDb",ND=1,vh="firebaseLocalStorage",SS="fbase_key";class xc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Gh(n,e){return n.transaction([vh],e?"readwrite":"readonly").objectStore(vh)}function DD(){const n=indexedDB.deleteDatabase(wS);return new xc(n).toPromise()}function Ag(){const n=indexedDB.open(wS,ND);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(vh,{keyPath:SS})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(vh)?e(i):(i.close(),await DD(),e(await Ag()))})})}async function sT(n,e,t){const i=Gh(n,!0).put({[SS]:e,value:t});return new xc(i).toPromise()}async function kD(n,e){const t=Gh(n,!1).get(e),i=await new xc(t).toPromise();return i===void 0?null:i.value}function aT(n,e){const t=Gh(n,!0).delete(e);return new xc(t).toPromise()}const PD=800,MD=3;class RS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ag(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>MD)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$h._getInstance(xD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await ID(),!this.activeServiceWorker)return;this.sender=new AD(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||OD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ag();return await sT(e,yh,"1"),await aT(e,yh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>sT(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>kD(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>aT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Gh(a,!1).getAll();return new xc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),PD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}RS.type="LOCAL";const LD=RS;new Cc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(n,e){return e?xs(e):(Ve(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy extends dy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ml(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ml(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ml(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function VD(n){return gS(n.auth,new gy(n),n.bypassAuthState)}function jD(n){const{auth:e,user:t}=n;return Ve(t,e,"internal-error"),pD(t,new gy(n),n.bypassAuthState)}async function BD(n){const{auth:e,user:t}=n;return Ve(t,e,"internal-error"),mD(t,new gy(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,t,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:l,error:c,type:h}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return VD;case"linkViaPopup":case"linkViaRedirect":return BD;case"reauthViaPopup":case"reauthViaRedirect":return jD;default:hi(this.auth,"internal-error")}}resolve(e){Us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=new Cc(2e3,1e4);class Dl extends AS{constructor(e,t,i,a,l){super(e,t,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Dl.currentPopupAction&&Dl.currentPopupAction.cancel(),Dl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ve(e,this.auth,"internal-error"),e}async onExecution(){Us(this.filter.length===1,"Popup operations only handle one event");const e=py();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Hi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Dl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zD.get())};e()}}Dl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD="pendingRedirect",nh=new Map;class FD extends AS{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=nh.get(this.auth._key());if(!e){try{const i=await HD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}nh.set(this.auth._key(),e)}return this.bypassAuthState||nh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function HD(n,e){const t=KD(e),i=GD(n);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function $D(n,e){nh.set(n._key(),e)}function GD(n){return xs(n._redirectPersistence)}function KD(n){return th(qD,n.config.apiKey,n.name)}async function QD(n,e,t=!1){if(Sr(n.app))return Promise.reject(Ds(n));const i=Bo(n),a=UD(i,e),c=await new FD(i,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=10*60*1e3;class WD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!XD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!CS(e)){const a=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Hi(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=YD&&this.cachedEventUids.clear(),this.cachedEventUids.has(oT(e))}saveEventToCache(e){this.cachedEventUids.add(oT(e)),this.lastProcessedEventTime=Date.now()}}function oT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function CS({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function XD(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return CS(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZD(n,e={}){return Fa(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ek=/^https?/;async function tk(n){if(n.config.emulator)return;const{authorizedDomains:e}=await ZD(n);for(const t of e)try{if(nk(t))return}catch{}hi(n,"unauthorized-domain")}function nk(n){const e=wg(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!ek.test(t))return!1;if(JD.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk=new Cc(3e4,6e4);function lT(){const n=$i().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function ik(n){return new Promise((e,t)=>{var i,a,l;function c(){lT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{lT(),t(Hi(n,"network-request-failed"))},timeout:rk.get()})}if(!((a=(i=$i().gapi)===null||i===void 0?void 0:i.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=$i().gapi)===null||l===void 0)&&l.load)c();else{const h=WN("iframefcb");return $i()[h]=()=>{gapi.load?c():t(Hi(n,"network-request-failed"))},fS(`${YN()}?onload=${h}`).catch(f=>t(f))}}).catch(e=>{throw rh=null,e})}let rh=null;function sk(n){return rh=rh||ik(n),rh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak=new Cc(5e3,15e3),ok="__/auth/iframe",lk="emulator/auth/iframe",uk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ck=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fk(n){const e=n.config;Ve(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?cy(e,lk):`https://${n.config.authDomain}/${ok}`,i={apiKey:e.apiKey,appName:n.name,v:jo},a=ck.get(n.config.apiHost);a&&(i.eid=a);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${Ac(i).slice(1)}`}async function hk(n){const e=await sk(n),t=$i().gapi;return Ve(t,n,"internal-error"),e.open({where:document.body,url:fk(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uk,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=Hi(n,"network-request-failed"),h=$i().setTimeout(()=>{l(c)},ak.get());function f(){$i().clearTimeout(h),a(i)}i.ping(f).then(f,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mk=500,pk=600,gk="_blank",yk="http://localhost";class uT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vk(n,e,t,i=mk,a=pk){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f=Object.assign(Object.assign({},dk),{width:i.toString(),height:a.toString(),top:l,left:c}),p=qn().toLowerCase();t&&(h=iS(p)?gk:t),nS(p)&&(e=e||yk,f.scrollbars="yes");const y=Object.entries(f).reduce((E,[C,P])=>`${E}${C}=${P},`,"");if(BN(p)&&h!=="_self")return _k(e||"",h),new uT(null);const _=window.open(e||"",h,y);Ve(_,n,"popup-blocked");try{_.focus()}catch{}return new uT(_)}function _k(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek="__/auth/handler",Tk="emulator/auth/handler",bk=encodeURIComponent("fac");async function cT(n,e,t,i,a,l){Ve(n.config.authDomain,n,"auth-domain-config-required"),Ve(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:jo,eventId:a};if(e instanceof mS){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",ox(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(e instanceof Oc){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const f=await n._getAppCheckToken(),p=f?`#${bk}=${encodeURIComponent(f)}`:"";return`${wk(n)}?${Ac(h).slice(1)}${p}`}function wk({config:n}){return n.emulator?cy(n,Tk):`https://${n.authDomain}/${Ek}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp="webStorageSupport";class Sk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=TS,this._completeRedirectFn=QD,this._overrideRedirectResult=$D}async _openPopup(e,t,i,a){var l;Us((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await cT(e,t,i,wg(),a);return vk(e,c,py())}async _openRedirect(e,t,i,a){await this._originValidation(e);const l=await cT(e,t,i,wg(),a);return CD(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(Us(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await hk(e),i=new WD(e);return t.register("authEvent",a=>(Ve(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Rp,{type:Rp},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[Rp];c!==void 0&&t(!!c),hi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=tk(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return uS()||rS()||hy()}}const Rk=Sk;var fT="@firebase/auth",hT="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ik(n){No(new Ma("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;Ve(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cS(n)},p=new GN(i,a,l,f);return nD(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),No(new Ma("auth-internal",e=>{const t=Bo(e.getProvider("auth").getImmediate());return(i=>new Ak(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fi(fT,hT,Ck(n)),Fi(fT,hT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok=5*60,xk=Bw("authIdTokenMaxAge")||Ok;let dT=null;const Nk=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>xk)return;const a=t==null?void 0:t.token;dT!==a&&(dT=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function Dk(n=oy()){const e=Fh(n,"auth");if(e.isInitialized())return e.getImmediate();const t=tD(n,{popupRedirectResolver:Rk,persistence:[LD,SD,TS]}),i=Bw("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=Nk(l.toString());ED(t,c,()=>c(t.currentUser)),_D(t,h=>c(h))}}const a=Uw("auth");return a&&rD(t,`http://${a}`),t}function kk(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}KN({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=a=>{const l=Hi("internal-error");l.customData=a,t(l)},i.type="text/javascript",i.charset="UTF-8",kk().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ik("Browser");var mT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Da,IS;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(U,k){function R(){}R.prototype=k.prototype,U.D=k.prototype,U.prototype=new R,U.prototype.constructor=U,U.C=function(M,B,G){for(var L=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)L[Qe-2]=arguments[Qe];return k.prototype[B].apply(M,L)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(U,k,R){R||(R=0);var M=Array(16);if(typeof k=="string")for(var B=0;16>B;++B)M[B]=k.charCodeAt(R++)|k.charCodeAt(R++)<<8|k.charCodeAt(R++)<<16|k.charCodeAt(R++)<<24;else for(B=0;16>B;++B)M[B]=k[R++]|k[R++]<<8|k[R++]<<16|k[R++]<<24;k=U.g[0],R=U.g[1],B=U.g[2];var G=U.g[3],L=k+(G^R&(B^G))+M[0]+3614090360&4294967295;k=R+(L<<7&4294967295|L>>>25),L=G+(B^k&(R^B))+M[1]+3905402710&4294967295,G=k+(L<<12&4294967295|L>>>20),L=B+(R^G&(k^R))+M[2]+606105819&4294967295,B=G+(L<<17&4294967295|L>>>15),L=R+(k^B&(G^k))+M[3]+3250441966&4294967295,R=B+(L<<22&4294967295|L>>>10),L=k+(G^R&(B^G))+M[4]+4118548399&4294967295,k=R+(L<<7&4294967295|L>>>25),L=G+(B^k&(R^B))+M[5]+1200080426&4294967295,G=k+(L<<12&4294967295|L>>>20),L=B+(R^G&(k^R))+M[6]+2821735955&4294967295,B=G+(L<<17&4294967295|L>>>15),L=R+(k^B&(G^k))+M[7]+4249261313&4294967295,R=B+(L<<22&4294967295|L>>>10),L=k+(G^R&(B^G))+M[8]+1770035416&4294967295,k=R+(L<<7&4294967295|L>>>25),L=G+(B^k&(R^B))+M[9]+2336552879&4294967295,G=k+(L<<12&4294967295|L>>>20),L=B+(R^G&(k^R))+M[10]+4294925233&4294967295,B=G+(L<<17&4294967295|L>>>15),L=R+(k^B&(G^k))+M[11]+2304563134&4294967295,R=B+(L<<22&4294967295|L>>>10),L=k+(G^R&(B^G))+M[12]+1804603682&4294967295,k=R+(L<<7&4294967295|L>>>25),L=G+(B^k&(R^B))+M[13]+4254626195&4294967295,G=k+(L<<12&4294967295|L>>>20),L=B+(R^G&(k^R))+M[14]+2792965006&4294967295,B=G+(L<<17&4294967295|L>>>15),L=R+(k^B&(G^k))+M[15]+1236535329&4294967295,R=B+(L<<22&4294967295|L>>>10),L=k+(B^G&(R^B))+M[1]+4129170786&4294967295,k=R+(L<<5&4294967295|L>>>27),L=G+(R^B&(k^R))+M[6]+3225465664&4294967295,G=k+(L<<9&4294967295|L>>>23),L=B+(k^R&(G^k))+M[11]+643717713&4294967295,B=G+(L<<14&4294967295|L>>>18),L=R+(G^k&(B^G))+M[0]+3921069994&4294967295,R=B+(L<<20&4294967295|L>>>12),L=k+(B^G&(R^B))+M[5]+3593408605&4294967295,k=R+(L<<5&4294967295|L>>>27),L=G+(R^B&(k^R))+M[10]+38016083&4294967295,G=k+(L<<9&4294967295|L>>>23),L=B+(k^R&(G^k))+M[15]+3634488961&4294967295,B=G+(L<<14&4294967295|L>>>18),L=R+(G^k&(B^G))+M[4]+3889429448&4294967295,R=B+(L<<20&4294967295|L>>>12),L=k+(B^G&(R^B))+M[9]+568446438&4294967295,k=R+(L<<5&4294967295|L>>>27),L=G+(R^B&(k^R))+M[14]+3275163606&4294967295,G=k+(L<<9&4294967295|L>>>23),L=B+(k^R&(G^k))+M[3]+4107603335&4294967295,B=G+(L<<14&4294967295|L>>>18),L=R+(G^k&(B^G))+M[8]+1163531501&4294967295,R=B+(L<<20&4294967295|L>>>12),L=k+(B^G&(R^B))+M[13]+2850285829&4294967295,k=R+(L<<5&4294967295|L>>>27),L=G+(R^B&(k^R))+M[2]+4243563512&4294967295,G=k+(L<<9&4294967295|L>>>23),L=B+(k^R&(G^k))+M[7]+1735328473&4294967295,B=G+(L<<14&4294967295|L>>>18),L=R+(G^k&(B^G))+M[12]+2368359562&4294967295,R=B+(L<<20&4294967295|L>>>12),L=k+(R^B^G)+M[5]+4294588738&4294967295,k=R+(L<<4&4294967295|L>>>28),L=G+(k^R^B)+M[8]+2272392833&4294967295,G=k+(L<<11&4294967295|L>>>21),L=B+(G^k^R)+M[11]+1839030562&4294967295,B=G+(L<<16&4294967295|L>>>16),L=R+(B^G^k)+M[14]+4259657740&4294967295,R=B+(L<<23&4294967295|L>>>9),L=k+(R^B^G)+M[1]+2763975236&4294967295,k=R+(L<<4&4294967295|L>>>28),L=G+(k^R^B)+M[4]+1272893353&4294967295,G=k+(L<<11&4294967295|L>>>21),L=B+(G^k^R)+M[7]+4139469664&4294967295,B=G+(L<<16&4294967295|L>>>16),L=R+(B^G^k)+M[10]+3200236656&4294967295,R=B+(L<<23&4294967295|L>>>9),L=k+(R^B^G)+M[13]+681279174&4294967295,k=R+(L<<4&4294967295|L>>>28),L=G+(k^R^B)+M[0]+3936430074&4294967295,G=k+(L<<11&4294967295|L>>>21),L=B+(G^k^R)+M[3]+3572445317&4294967295,B=G+(L<<16&4294967295|L>>>16),L=R+(B^G^k)+M[6]+76029189&4294967295,R=B+(L<<23&4294967295|L>>>9),L=k+(R^B^G)+M[9]+3654602809&4294967295,k=R+(L<<4&4294967295|L>>>28),L=G+(k^R^B)+M[12]+3873151461&4294967295,G=k+(L<<11&4294967295|L>>>21),L=B+(G^k^R)+M[15]+530742520&4294967295,B=G+(L<<16&4294967295|L>>>16),L=R+(B^G^k)+M[2]+3299628645&4294967295,R=B+(L<<23&4294967295|L>>>9),L=k+(B^(R|~G))+M[0]+4096336452&4294967295,k=R+(L<<6&4294967295|L>>>26),L=G+(R^(k|~B))+M[7]+1126891415&4294967295,G=k+(L<<10&4294967295|L>>>22),L=B+(k^(G|~R))+M[14]+2878612391&4294967295,B=G+(L<<15&4294967295|L>>>17),L=R+(G^(B|~k))+M[5]+4237533241&4294967295,R=B+(L<<21&4294967295|L>>>11),L=k+(B^(R|~G))+M[12]+1700485571&4294967295,k=R+(L<<6&4294967295|L>>>26),L=G+(R^(k|~B))+M[3]+2399980690&4294967295,G=k+(L<<10&4294967295|L>>>22),L=B+(k^(G|~R))+M[10]+4293915773&4294967295,B=G+(L<<15&4294967295|L>>>17),L=R+(G^(B|~k))+M[1]+2240044497&4294967295,R=B+(L<<21&4294967295|L>>>11),L=k+(B^(R|~G))+M[8]+1873313359&4294967295,k=R+(L<<6&4294967295|L>>>26),L=G+(R^(k|~B))+M[15]+4264355552&4294967295,G=k+(L<<10&4294967295|L>>>22),L=B+(k^(G|~R))+M[6]+2734768916&4294967295,B=G+(L<<15&4294967295|L>>>17),L=R+(G^(B|~k))+M[13]+1309151649&4294967295,R=B+(L<<21&4294967295|L>>>11),L=k+(B^(R|~G))+M[4]+4149444226&4294967295,k=R+(L<<6&4294967295|L>>>26),L=G+(R^(k|~B))+M[11]+3174756917&4294967295,G=k+(L<<10&4294967295|L>>>22),L=B+(k^(G|~R))+M[2]+718787259&4294967295,B=G+(L<<15&4294967295|L>>>17),L=R+(G^(B|~k))+M[9]+3951481745&4294967295,U.g[0]=U.g[0]+k&4294967295,U.g[1]=U.g[1]+(B+(L<<21&4294967295|L>>>11))&4294967295,U.g[2]=U.g[2]+B&4294967295,U.g[3]=U.g[3]+G&4294967295}i.prototype.u=function(U,k){k===void 0&&(k=U.length);for(var R=k-this.blockSize,M=this.B,B=this.h,G=0;G<k;){if(B==0)for(;G<=R;)a(this,U,G),G+=this.blockSize;if(typeof U=="string"){for(;G<k;)if(M[B++]=U.charCodeAt(G++),B==this.blockSize){a(this,M),B=0;break}}else for(;G<k;)if(M[B++]=U[G++],B==this.blockSize){a(this,M),B=0;break}}this.h=B,this.o+=k},i.prototype.v=function(){var U=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);U[0]=128;for(var k=1;k<U.length-8;++k)U[k]=0;var R=8*this.o;for(k=U.length-8;k<U.length;++k)U[k]=R&255,R/=256;for(this.u(U),U=Array(16),k=R=0;4>k;++k)for(var M=0;32>M;M+=8)U[R++]=this.g[k]>>>M&255;return U};function l(U,k){var R=h;return Object.prototype.hasOwnProperty.call(R,U)?R[U]:R[U]=k(U)}function c(U,k){this.h=k;for(var R=[],M=!0,B=U.length-1;0<=B;B--){var G=U[B]|0;M&&G==k||(R[B]=G,M=!1)}this.g=R}var h={};function f(U){return-128<=U&&128>U?l(U,function(k){return new c([k|0],0>k?-1:0)}):new c([U|0],0>U?-1:0)}function p(U){if(isNaN(U)||!isFinite(U))return _;if(0>U)return j(p(-U));for(var k=[],R=1,M=0;U>=R;M++)k[M]=U/R|0,R*=4294967296;return new c(k,0)}function y(U,k){if(U.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(U.charAt(0)=="-")return j(y(U.substring(1),k));if(0<=U.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=p(Math.pow(k,8)),M=_,B=0;B<U.length;B+=8){var G=Math.min(8,U.length-B),L=parseInt(U.substring(B,B+G),k);8>G?(G=p(Math.pow(k,G)),M=M.j(G).add(p(L))):(M=M.j(R),M=M.add(p(L)))}return M}var _=f(0),E=f(1),C=f(16777216);n=c.prototype,n.m=function(){if($(this))return-j(this).m();for(var U=0,k=1,R=0;R<this.g.length;R++){var M=this.i(R);U+=(0<=M?M:4294967296+M)*k,k*=4294967296}return U},n.toString=function(U){if(U=U||10,2>U||36<U)throw Error("radix out of range: "+U);if(P(this))return"0";if($(this))return"-"+j(this).toString(U);for(var k=p(Math.pow(U,6)),R=this,M="";;){var B=re(R,k).g;R=H(R,B.j(k));var G=((0<R.g.length?R.g[0]:R.h)>>>0).toString(U);if(R=B,P(R))return G+M;for(;6>G.length;)G="0"+G;M=G+M}},n.i=function(U){return 0>U?0:U<this.g.length?this.g[U]:this.h};function P(U){if(U.h!=0)return!1;for(var k=0;k<U.g.length;k++)if(U.g[k]!=0)return!1;return!0}function $(U){return U.h==-1}n.l=function(U){return U=H(this,U),$(U)?-1:P(U)?0:1};function j(U){for(var k=U.g.length,R=[],M=0;M<k;M++)R[M]=~U.g[M];return new c(R,~U.h).add(E)}n.abs=function(){return $(this)?j(this):this},n.add=function(U){for(var k=Math.max(this.g.length,U.g.length),R=[],M=0,B=0;B<=k;B++){var G=M+(this.i(B)&65535)+(U.i(B)&65535),L=(G>>>16)+(this.i(B)>>>16)+(U.i(B)>>>16);M=L>>>16,G&=65535,L&=65535,R[B]=L<<16|G}return new c(R,R[R.length-1]&-2147483648?-1:0)};function H(U,k){return U.add(j(k))}n.j=function(U){if(P(this)||P(U))return _;if($(this))return $(U)?j(this).j(j(U)):j(j(this).j(U));if($(U))return j(this.j(j(U)));if(0>this.l(C)&&0>U.l(C))return p(this.m()*U.m());for(var k=this.g.length+U.g.length,R=[],M=0;M<2*k;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(var B=0;B<U.g.length;B++){var G=this.i(M)>>>16,L=this.i(M)&65535,Qe=U.i(B)>>>16,Be=U.i(B)&65535;R[2*M+2*B]+=L*Be,Y(R,2*M+2*B),R[2*M+2*B+1]+=G*Be,Y(R,2*M+2*B+1),R[2*M+2*B+1]+=L*Qe,Y(R,2*M+2*B+1),R[2*M+2*B+2]+=G*Qe,Y(R,2*M+2*B+2)}for(M=0;M<k;M++)R[M]=R[2*M+1]<<16|R[2*M];for(M=k;M<2*k;M++)R[M]=0;return new c(R,0)};function Y(U,k){for(;(U[k]&65535)!=U[k];)U[k+1]+=U[k]>>>16,U[k]&=65535,k++}function z(U,k){this.g=U,this.h=k}function re(U,k){if(P(k))throw Error("division by zero");if(P(U))return new z(_,_);if($(U))return k=re(j(U),k),new z(j(k.g),j(k.h));if($(k))return k=re(U,j(k)),new z(j(k.g),k.h);if(30<U.g.length){if($(U)||$(k))throw Error("slowDivide_ only works with positive integers.");for(var R=E,M=k;0>=M.l(U);)R=se(R),M=se(M);var B=fe(R,1),G=fe(M,1);for(M=fe(M,2),R=fe(R,2);!P(M);){var L=G.add(M);0>=L.l(U)&&(B=B.add(R),G=L),M=fe(M,1),R=fe(R,1)}return k=H(U,B.j(k)),new z(B,k)}for(B=_;0<=U.l(k);){for(R=Math.max(1,Math.floor(U.m()/k.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),G=p(R),L=G.j(k);$(L)||0<L.l(U);)R-=M,G=p(R),L=G.j(k);P(G)&&(G=E),B=B.add(G),U=H(U,L)}return new z(B,U)}n.A=function(U){return re(this,U).h},n.and=function(U){for(var k=Math.max(this.g.length,U.g.length),R=[],M=0;M<k;M++)R[M]=this.i(M)&U.i(M);return new c(R,this.h&U.h)},n.or=function(U){for(var k=Math.max(this.g.length,U.g.length),R=[],M=0;M<k;M++)R[M]=this.i(M)|U.i(M);return new c(R,this.h|U.h)},n.xor=function(U){for(var k=Math.max(this.g.length,U.g.length),R=[],M=0;M<k;M++)R[M]=this.i(M)^U.i(M);return new c(R,this.h^U.h)};function se(U){for(var k=U.g.length+1,R=[],M=0;M<k;M++)R[M]=U.i(M)<<1|U.i(M-1)>>>31;return new c(R,U.h)}function fe(U,k){var R=k>>5;k%=32;for(var M=U.g.length-R,B=[],G=0;G<M;G++)B[G]=0<k?U.i(G+R)>>>k|U.i(G+R+1)<<32-k:U.i(G+R);return new c(B,U.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,IS=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,Da=c}).apply(typeof mT<"u"?mT:typeof self<"u"?self:typeof window<"u"?window:{});var Bf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var OS,Ju,xS,ih,Cg,NS,DS,kS;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,v,T){return d==Array.prototype||d==Object.prototype||(d[v]=T.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bf=="object"&&Bf];for(var v=0;v<d.length;++v){var T=d[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=t(this);function a(d,v){if(v)e:{var T=i;d=d.split(".");for(var x=0;x<d.length-1;x++){var J=d[x];if(!(J in T))break e;T=T[J]}d=d[d.length-1],x=T[d],v=v(x),v!=x&&v!=null&&e(T,d,{configurable:!0,writable:!0,value:v})}}function l(d,v){d instanceof String&&(d+="");var T=0,x=!1,J={next:function(){if(!x&&T<d.length){var ie=T++;return{value:v(ie,d[ie]),done:!1}}return x=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}a("Array.prototype.values",function(d){return d||function(){return l(this,function(v,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function f(d){var v=typeof d;return v=v!="object"?v:d?Array.isArray(d)?"array":v:"null",v=="array"||v=="object"&&typeof d.length=="number"}function p(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function y(d,v,T){return d.call.apply(d.bind,arguments)}function _(d,v,T){if(!d)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,x),d.apply(v,J)}}return function(){return d.apply(v,arguments)}}function E(d,v,T){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,E.apply(null,arguments)}function C(d,v){var T=Array.prototype.slice.call(arguments,1);return function(){var x=T.slice();return x.push.apply(x,arguments),d.apply(this,x)}}function P(d,v){function T(){}T.prototype=v.prototype,d.aa=v.prototype,d.prototype=new T,d.prototype.constructor=d,d.Qb=function(x,J,ie){for(var _e=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)_e[ot-2]=arguments[ot];return v.prototype[J].apply(x,_e)}}function $(d){const v=d.length;if(0<v){const T=Array(v);for(let x=0;x<v;x++)T[x]=d[x];return T}return[]}function j(d,v){for(let T=1;T<arguments.length;T++){const x=arguments[T];if(f(x)){const J=d.length||0,ie=x.length||0;d.length=J+ie;for(let _e=0;_e<ie;_e++)d[J+_e]=x[_e]}else d.push(x)}}class H{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function Y(d){return/^[\s\xa0]*$/.test(d)}function z(){var d=h.navigator;return d&&(d=d.userAgent)?d:""}function re(d){return re[" "](d),d}re[" "]=function(){};var se=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function fe(d,v,T){for(const x in d)v.call(T,d[x],x,d)}function U(d,v){for(const T in d)v.call(void 0,d[T],T,d)}function k(d){const v={};for(const T in d)v[T]=d[T];return v}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(d,v){let T,x;for(let J=1;J<arguments.length;J++){x=arguments[J];for(T in x)d[T]=x[T];for(let ie=0;ie<R.length;ie++)T=R[ie],Object.prototype.hasOwnProperty.call(x,T)&&(d[T]=x[T])}}function B(d){var v=1;d=d.split(":");const T=[];for(;0<v&&d.length;)T.push(d.shift()),v--;return d.length&&T.push(d.join(":")),T}function G(d){h.setTimeout(()=>{throw d},0)}function L(){var d=qe;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class Qe{constructor(){this.h=this.g=null}add(v,T){const x=Be.get();x.set(v,T),this.h?this.h.next=x:this.g=x,this.h=x}}var Be=new H(()=>new pe,d=>d.reset());class pe{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let Te,ge=!1,qe=new Qe,F=()=>{const d=h.Promise.resolve(void 0);Te=()=>{d.then(he)}};var he=()=>{for(var d;d=L();){try{d.h.call(d.g)}catch(T){G(T)}var v=Be;v.j(d),100>v.h&&(v.h++,d.next=v.g,v.g=d)}ge=!1};function Re(){this.s=this.s,this.C=this.C}Re.prototype.s=!1,Re.prototype.ma=function(){this.s||(this.s=!0,this.N())},Re.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function be(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}be.prototype.h=function(){this.defaultPrevented=!0};var ve=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};h.addEventListener("test",T,v),h.removeEventListener("test",T,v)}catch{}return d}();function Me(d,v){if(be.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var T=this.type=d.type,x=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget){if(se){e:{try{re(v.nodeName);var J=!0;break e}catch{}J=!1}J||(v=null)}}else T=="mouseover"?v=d.fromElement:T=="mouseout"&&(v=d.toElement);this.relatedTarget=v,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Fe[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Me.aa.h.call(this)}}P(Me,be);var Fe={2:"touch",3:"pen",4:"mouse"};Me.prototype.h=function(){Me.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Lt="closure_listenable_"+(1e6*Math.random()|0),et=0;function _t(d,v,T,x,J){this.listener=d,this.proxy=null,this.src=v,this.type=T,this.capture=!!x,this.ha=J,this.key=++et,this.da=this.fa=!1}function rt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Zt(d){this.src=d,this.g={},this.h=0}Zt.prototype.add=function(d,v,T,x,J){var ie=d.toString();d=this.g[ie],d||(d=this.g[ie]=[],this.h++);var _e=mn(d,v,x,J);return-1<_e?(v=d[_e],T||(v.fa=!1)):(v=new _t(v,this.src,ie,!!x,J),v.fa=T,d.push(v)),v};function er(d,v){var T=v.type;if(T in d.g){var x=d.g[T],J=Array.prototype.indexOf.call(x,v,void 0),ie;(ie=0<=J)&&Array.prototype.splice.call(x,J,1),ie&&(rt(v),d.g[T].length==0&&(delete d.g[T],d.h--))}}function mn(d,v,T,x){for(var J=0;J<d.length;++J){var ie=d[J];if(!ie.da&&ie.listener==v&&ie.capture==!!T&&ie.ha==x)return J}return-1}var Fn="closure_lm_"+(1e6*Math.random()|0),dt={};function Pn(d,v,T,x,J){if(Array.isArray(v)){for(var ie=0;ie<v.length;ie++)Pn(d,v[ie],T,x,J);return null}return T=Ho(T),d&&d[Lt]?d.K(v,T,p(x)?!!x.capture:!1,J):Cr(d,v,T,!1,x,J)}function Cr(d,v,T,x,J,ie){if(!v)throw Error("Invalid event type");var _e=p(J)?!!J.capture:!!J,ot=Ga(d);if(ot||(d[Fn]=ot=new Zt(d)),T=ot.add(v,T,x,_e,ie),T.proxy)return T;if(x=es(),T.proxy=x,x.src=d,x.listener=T,d.addEventListener)ve||(J=_e),J===void 0&&(J=!1),d.addEventListener(v.toString(),x,J);else if(d.attachEvent)d.attachEvent($s(v.toString()),x);else if(d.addListener&&d.removeListener)d.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return T}function es(){function d(T){return v.call(d.src,d.listener,T)}const v=nu;return d}function Hs(d,v,T,x,J){if(Array.isArray(v))for(var ie=0;ie<v.length;ie++)Hs(d,v[ie],T,x,J);else x=p(x)?!!x.capture:!!x,T=Ho(T),d&&d[Lt]?(d=d.i,v=String(v).toString(),v in d.g&&(ie=d.g[v],T=mn(ie,T,x,J),-1<T&&(rt(ie[T]),Array.prototype.splice.call(ie,T,1),ie.length==0&&(delete d.g[v],d.h--)))):d&&(d=Ga(d))&&(v=d.g[v.toString()],d=-1,v&&(d=mn(v,T,x,J)),(T=-1<d?v[d]:null)&&ts(T))}function ts(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[Lt])er(v.i,d);else{var T=d.type,x=d.proxy;v.removeEventListener?v.removeEventListener(T,x,d.capture):v.detachEvent?v.detachEvent($s(T),x):v.addListener&&v.removeListener&&v.removeListener(x),(T=Ga(v))?(er(T,d),T.h==0&&(T.src=null,v[Fn]=null)):rt(d)}}}function $s(d){return d in dt?dt[d]:dt[d]="on"+d}function nu(d,v){if(d.da)d=!0;else{v=new Me(v,this);var T=d.listener,x=d.ha||d.src;d.fa&&ts(d),d=T.call(x,v)}return d}function Ga(d){return d=d[Fn],d instanceof Zt?d:null}var Rn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ho(d){return typeof d=="function"?d:(d[Rn]||(d[Rn]=function(v){return d.handleEvent(v)}),d[Rn])}function te(){Re.call(this),this.i=new Zt(this),this.M=this,this.F=null}P(te,Re),te.prototype[Lt]=!0,te.prototype.removeEventListener=function(d,v,T,x){Hs(this,d,v,T,x)};function Ie(d,v){var T,x=d.F;if(x)for(T=[];x;x=x.F)T.push(x);if(d=d.M,x=v.type||v,typeof v=="string")v=new be(v,d);else if(v instanceof be)v.target=v.target||d;else{var J=v;v=new be(x,d),M(v,J)}if(J=!0,T)for(var ie=T.length-1;0<=ie;ie--){var _e=v.g=T[ie];J=Ir(_e,x,!0,v)&&J}if(_e=v.g=d,J=Ir(_e,x,!0,v)&&J,J=Ir(_e,x,!1,v)&&J,T)for(ie=0;ie<T.length;ie++)_e=v.g=T[ie],J=Ir(_e,x,!1,v)&&J}te.prototype.N=function(){if(te.aa.N.call(this),this.i){var d=this.i,v;for(v in d.g){for(var T=d.g[v],x=0;x<T.length;x++)rt(T[x]);delete d.g[v],d.h--}}this.F=null},te.prototype.K=function(d,v,T,x){return this.i.add(String(d),v,!1,T,x)},te.prototype.L=function(d,v,T,x){return this.i.add(String(d),v,!0,T,x)};function Ir(d,v,T,x){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();for(var J=!0,ie=0;ie<v.length;++ie){var _e=v[ie];if(_e&&!_e.da&&_e.capture==T){var ot=_e.listener,ln=_e.ha||_e.src;_e.fa&&er(d.i,_e),J=ot.call(ln,x)!==!1&&J}}return J&&!x.defaultPrevented}function Ka(d,v,T){if(typeof d=="function")T&&(d=E(d,T));else if(d&&typeof d.handleEvent=="function")d=E(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:h.setTimeout(d,v||0)}function Qa(d){d.g=Ka(()=>{d.g=null,d.i&&(d.i=!1,Qa(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class Ya extends Re{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Qa(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mi(d){Re.call(this),this.h=d,this.g={}}P(mi,Re);var Kr=[];function pn(d){fe(d.g,function(v,T){this.g.hasOwnProperty(T)&&ts(v)},d),d.g={}}mi.prototype.N=function(){mi.aa.N.call(this),pn(this)},mi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wa=h.JSON.stringify,Hn=h.JSON.parse,gn=class{stringify(d){return h.JSON.stringify(d,void 0)}parse(d){return h.JSON.parse(d,void 0)}};function ns(){}ns.prototype.h=null;function Xa(d){return d.h||(d.h=d.i())}function $o(){}var mr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pi(){be.call(this,"d")}P(pi,be);function tr(){be.call(this,"c")}P(tr,be);var $n={},gi=null;function Gs(){return gi=gi||new te}$n.La="serverreachability";function Za(d){be.call(this,$n.La,d)}P(Za,be);function yi(d){const v=Gs();Ie(v,new Za(v))}$n.STAT_EVENT="statevent";function vi(d,v){be.call(this,$n.STAT_EVENT,d),this.stat=v}P(vi,be);function Nt(d){const v=Gs();Ie(v,new vi(v,d))}$n.Ma="timingevent";function Go(d,v){be.call(this,$n.Ma,d),this.size=v}P(Go,be);function _i(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){d()},v)}function Ei(){this.g=!0}Ei.prototype.xa=function(){this.g=!1};function Ko(d,v,T,x,J,ie){d.info(function(){if(d.g)if(ie)for(var _e="",ot=ie.split("&"),ln=0;ln<ot.length;ln++){var lt=ot[ln].split("=");if(1<lt.length){var _n=lt[0];lt=lt[1];var un=_n.split("_");_e=2<=un.length&&un[1]=="type"?_e+(_n+"="+lt+"&"):_e+(_n+"=redacted&")}}else _e=null;else _e=ie;return"XMLHTTP REQ ("+x+") [attempt "+J+"]: "+v+`
`+T+`
`+_e})}function Qt(d,v,T,x,J,ie,_e){d.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+J+"]: "+v+`
`+T+`
`+ie+" "+_e})}function Ti(d,v,T,x){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+Jt(d,T)+(x?" "+x:"")})}function Or(d,v){d.info(function(){return"TIMEOUT: "+v})}Ei.prototype.info=function(){};function Jt(d,v){if(!d.g)return v;if(!v)return null;try{var T=JSON.parse(v);if(T){for(d=0;d<T.length;d++)if(Array.isArray(T[d])){var x=T[d];if(!(2>x.length)){var J=x[1];if(Array.isArray(J)&&!(1>J.length)){var ie=J[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var _e=1;_e<J.length;_e++)J[_e]=""}}}}return Wa(T)}catch{return v}}var qt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Qr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Yr;function bi(){}P(bi,ns),bi.prototype.g=function(){return new XMLHttpRequest},bi.prototype.i=function(){return{}},Yr=new bi;function xr(d,v,T,x){this.j=d,this.i=v,this.l=T,this.R=x||1,this.U=new mi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ja}function Ja(){this.i=null,this.g="",this.h=!1}var Wr={},pr={};function Mn(d,v,T){d.L=1,d.v=ss(yt(v)),d.m=T,d.P=!0,Xr(d,null)}function Xr(d,v){d.F=Date.now(),Dt(d),d.A=yt(d.v);var T=d.A,x=d.R;Array.isArray(x)||(x=[String(x)]),ei(T.i,"t",x),d.C=0,T=d.j.J,d.h=new Ja,d.g=on(d.j,T?v:null,!d.m),0<d.O&&(d.M=new Ya(E(d.Y,d,d.g),d.O)),v=d.U,T=d.g,x=d.ca;var J="readystatechange";Array.isArray(J)||(J&&(Kr[0]=J.toString()),J=Kr);for(var ie=0;ie<J.length;ie++){var _e=Pn(T,J[ie],x||v.handleEvent,!1,v.h||v);if(!_e)break;v.g[_e.key]=_e}v=d.H?k(d.H):{},d.m?(d.u||(d.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,v)):(d.u="GET",d.g.ea(d.A,d.u,null,v)),yi(),Ko(d.i,d.u,d.A,d.l,d.R,d.m)}xr.prototype.ca=function(d){d=d.target;const v=this.M;v&&Qn(d)==3?v.j():this.Y(d)},xr.prototype.Y=function(d){try{if(d==this.g)e:{const un=Qn(this.g);var v=this.g.Ba();const ls=this.g.Z();if(!(3>un)&&(un!=3||this.g&&(this.h.h||this.g.oa()||Pt(this.g)))){this.J||un!=4||v==7||(v==8||0>=ls?yi(3):yi(2)),Zr(this);var T=this.g.Z();this.X=T;t:if(wi(this)){var x=Pt(this.g);d="";var J=x.length,ie=Qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yn(this),kt(this);var _e="";break t}this.h.i=new h.TextDecoder}for(v=0;v<J;v++)this.h.h=!0,d+=this.h.i.decode(x[v],{stream:!(ie&&v==J-1)});x.length=0,this.h.g+=d,this.C=0,_e=this.h.g}else _e=this.g.oa();if(this.o=T==200,Qt(this.i,this.u,this.A,this.l,this.R,un,T),this.o){if(this.T&&!this.K){t:{if(this.g){var ot,ln=this.g;if((ot=ln.g?ln.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(ot)){var lt=ot;break t}}lt=null}if(T=lt)Ti(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ln(this,T);else{this.o=!1,this.s=3,Nt(12),yn(this),kt(this);break e}}if(this.P){T=!0;let An;for(;!this.J&&this.C<_e.length;)if(An=Nr(this,_e),An==pr){un==4&&(this.s=4,Nt(14),T=!1),Ti(this.i,this.l,null,"[Incomplete Response]");break}else if(An==Wr){this.s=4,Nt(15),Ti(this.i,this.l,_e,"[Invalid Chunk]"),T=!1;break}else Ti(this.i,this.l,An,null),Ln(this,An);if(wi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),un!=4||_e.length!=0||this.h.h||(this.s=1,Nt(16),T=!1),this.o=this.o&&T,!T)Ti(this.i,this.l,_e,"[Invalid Chunked Response]"),yn(this),kt(this);else if(0<_e.length&&!this.W){this.W=!0;var _n=this.j;_n.g==this&&_n.ba&&!_n.M&&(_n.j.info("Great, no buffering proxy detected. Bytes received: "+_e.length),At(_n),_n.M=!0,Nt(11))}}else Ti(this.i,this.l,_e,null),Ln(this,_e);un==4&&yn(this),this.o&&!this.J&&(un==4?De(this.j,this):(this.o=!1,Dt(this)))}else w(this.g),T==400&&0<_e.indexOf("Unknown SID")?(this.s=3,Nt(12)):(this.s=0,Nt(13)),yn(this),kt(this)}}}catch{}finally{}};function wi(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Nr(d,v){var T=d.C,x=v.indexOf(`
`,T);return x==-1?pr:(T=Number(v.substring(T,x)),isNaN(T)?Wr:(x+=1,x+T>v.length?pr:(v=v.slice(x,x+T),d.C=x+T,v)))}xr.prototype.cancel=function(){this.J=!0,yn(this)};function Dt(d){d.S=Date.now()+d.I,eo(d,d.I)}function eo(d,v){if(d.B!=null)throw Error("WatchDog timer not null");d.B=_i(E(d.ba,d),v)}function Zr(d){d.B&&(h.clearTimeout(d.B),d.B=null)}xr.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Or(this.i,this.A),this.L!=2&&(yi(),Nt(17)),yn(this),this.s=2,kt(this)):eo(this,this.S-d)};function kt(d){d.j.G==0||d.J||De(d.j,d)}function yn(d){Zr(d);var v=d.M;v&&typeof v.ma=="function"&&v.ma(),d.M=null,pn(d.U),d.g&&(v=d.g,d.g=null,v.abort(),v.ma())}function Ln(d,v){try{var T=d.j;if(T.G!=0&&(T.g==d||Ri(T.h,d))){if(!d.K&&Ri(T.h,d)&&T.G==3){try{var x=T.Da.g.parse(v)}catch{x=null}if(Array.isArray(x)&&x.length==3){var J=x;if(J[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<d.F)ze(T),q(T);else break e;mt(T),Nt(18)}}else T.za=J[1],0<T.za-T.T&&37500>J[2]&&T.F&&T.v==0&&!T.C&&(T.C=_i(E(T.Za,T),6e3));if(1>=Qo(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Tt(T,11)}else if((d.K||T.g==d)&&ze(T),!Y(v))for(J=T.Da.g.parse(v),v=0;v<J.length;v++){let lt=J[v];if(T.T=lt[0],lt=lt[1],T.G==2)if(lt[0]=="c"){T.K=lt[1],T.ia=lt[2];const _n=lt[3];_n!=null&&(T.la=_n,T.j.info("VER="+T.la));const un=lt[4];un!=null&&(T.Aa=un,T.j.info("SVER="+T.Aa));const ls=lt[5];ls!=null&&typeof ls=="number"&&0<ls&&(x=1.5*ls,T.L=x,T.j.info("backChannelRequestTimeoutMs_="+x)),x=T;const An=d.g;if(An){const ki=An.g?An.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ki){var ie=x.h;ie.g||ki.indexOf("spdy")==-1&&ki.indexOf("quic")==-1&&ki.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(gr(ie,ie.h),ie.h=null))}if(x.D){const au=An.g?An.g.getResponseHeader("X-HTTP-Session-Id"):null;au&&(x.ya=au,ht(x.I,x.D,au))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-d.F,T.j.info("Handshake RTT: "+T.R+"ms")),x=T;var _e=d;if(x.qa=or(x,x.J?x.ia:null,x.W),_e.K){Gn(x.h,_e);var ot=_e,ln=x.L;ln&&(ot.I=ln),ot.B&&(Zr(ot),Dt(ot)),x.g=_e}else Oe(x);0<T.i.length&&Z(T)}else lt[0]!="stop"&&lt[0]!="close"||Tt(T,7);else T.G==3&&(lt[0]=="stop"||lt[0]=="close"?lt[0]=="stop"?Tt(T,7):D(T):lt[0]!="noop"&&T.l&&T.l.ta(lt),T.v=0)}}yi(4)}catch{}}var Si=class{constructor(d,v){this.g=d,this.map=v}};function Ks(d){this.l=d||10,h.PerformanceNavigationTiming?(d=h.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function to(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Qo(d){return d.h?1:d.g?d.g.size:0}function Ri(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function gr(d,v){d.g?d.g.add(v):d.h=v}function Gn(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}Ks.prototype.cancel=function(){if(this.i=vn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function vn(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const T of d.g.values())v=v.concat(T.D);return v}return $(d.i)}function Yo(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(f(d)){for(var v=[],T=d.length,x=0;x<T;x++)v.push(d[x]);return v}v=[],T=0;for(x in d)v[T++]=d[x];return v}function ru(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(f(d)||typeof d=="string"){var v=[];d=d.length;for(var T=0;T<d;T++)v.push(T);return v}v=[],T=0;for(const x in d)v[T++]=x;return v}}}function rs(d,v){if(d.forEach&&typeof d.forEach=="function")d.forEach(v,void 0);else if(f(d)||typeof d=="string")Array.prototype.forEach.call(d,v,void 0);else for(var T=ru(d),x=Yo(d),J=x.length,ie=0;ie<J;ie++)v.call(void 0,x[ie],T&&T[ie],d)}var no=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function is(d,v){if(d){d=d.split("&");for(var T=0;T<d.length;T++){var x=d[T].indexOf("="),J=null;if(0<=x){var ie=d[T].substring(0,x);J=d[T].substring(x+1)}else ie=d[T];v(ie,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function Dr(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Dr){this.h=d.h,Jr(this,d.j),this.o=d.o,this.g=d.g,Qs(this,d.s),this.l=d.l;var v=d.i,T=new kr;T.i=v.i,v.g&&(T.g=new Map(v.g),T.h=v.h),Ys(this,T),this.m=d.m}else d&&(v=String(d).match(no))?(this.h=!1,Jr(this,v[1]||"",!0),this.o=Ai(v[2]||""),this.g=Ai(v[3]||"",!0),Qs(this,v[4]),this.l=Ai(v[5]||"",!0),Ys(this,v[6]||"",!0),this.m=Ai(v[7]||"")):(this.h=!1,this.i=new kr(null,this.h))}Dr.prototype.toString=function(){var d=[],v=this.j;v&&d.push(nr(v,Ws,!0),":");var T=this.g;return(T||v=="file")&&(d.push("//"),(v=this.o)&&d.push(nr(v,Ws,!0),"@"),d.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&d.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(nr(T,T.charAt(0)=="/"?Xs:as,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",nr(T,Wo)),d.join("")};function yt(d){return new Dr(d)}function Jr(d,v,T){d.j=T?Ai(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function Qs(d,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);d.s=v}else d.s=null}function Ys(d,v,T){v instanceof kr?(d.i=v,ro(d.i,d.h)):(T||(v=nr(v,su)),d.i=new kr(v,d.h))}function ht(d,v,T){d.i.set(v,T)}function ss(d){return ht(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Ai(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function nr(d,v,T){return typeof d=="string"?(d=encodeURI(d).replace(v,iu),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function iu(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Ws=/[#\/\?@]/g,as=/[#\?:]/g,Xs=/[#\?]/g,su=/[#\?@]/g,Wo=/#/g;function kr(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function Kn(d){d.g||(d.g=new Map,d.h=0,d.i&&is(d.i,function(v,T){d.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}n=kr.prototype,n.add=function(d,v){Kn(this),this.i=null,d=ti(this,d);var T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(v),this.h+=1,this};function Ci(d,v){Kn(d),v=ti(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function rr(d,v){return Kn(d),v=ti(d,v),d.g.has(v)}n.forEach=function(d,v){Kn(this),this.g.forEach(function(T,x){T.forEach(function(J){d.call(v,J,x,this)},this)},this)},n.na=function(){Kn(this);const d=Array.from(this.g.values()),v=Array.from(this.g.keys()),T=[];for(let x=0;x<v.length;x++){const J=d[x];for(let ie=0;ie<J.length;ie++)T.push(v[x])}return T},n.V=function(d){Kn(this);let v=[];if(typeof d=="string")rr(this,d)&&(v=v.concat(this.g.get(ti(this,d))));else{d=Array.from(this.g.values());for(let T=0;T<d.length;T++)v=v.concat(d[T])}return v},n.set=function(d,v){return Kn(this),this.i=null,d=ti(this,d),rr(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},n.get=function(d,v){return d?(d=this.V(d),0<d.length?String(d[0]):v):v};function ei(d,v,T){Ci(d,v),0<T.length&&(d.i=null,d.g.set(ti(d,v),$(T)),d.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(var T=0;T<v.length;T++){var x=v[T];const ie=encodeURIComponent(String(x)),_e=this.V(x);for(x=0;x<_e.length;x++){var J=ie;_e[x]!==""&&(J+="="+encodeURIComponent(String(_e[x]))),d.push(J)}}return this.i=d.join("&")};function ti(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function ro(d,v){v&&!d.j&&(Kn(d),d.i=null,d.g.forEach(function(T,x){var J=x.toLowerCase();x!=J&&(Ci(this,x),ei(this,J,T))},d)),d.j=v}function Zs(d,v){const T=new Ei;if(h.Image){const x=new Image;x.onload=C(ir,T,"TestLoadImage: loaded",!0,v,x),x.onerror=C(ir,T,"TestLoadImage: error",!1,v,x),x.onabort=C(ir,T,"TestLoadImage: abort",!1,v,x),x.ontimeout=C(ir,T,"TestLoadImage: timeout",!1,v,x),h.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=d}else v(!1)}function Ii(d,v){const T=new Ei,x=new AbortController,J=setTimeout(()=>{x.abort(),ir(T,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:x.signal}).then(ie=>{clearTimeout(J),ie.ok?ir(T,"TestPingServer: ok",!0,v):ir(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(J),ir(T,"TestPingServer: error",!1,v)})}function ir(d,v,T,x,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),x(T)}catch{}}function Oi(){this.g=new gn}function sr(d,v,T){const x=T||"";try{rs(d,function(J,ie){let _e=J;p(J)&&(_e=Wa(J)),v.push(x+ie+"="+encodeURIComponent(_e))})}catch(J){throw v.push(x+"type="+encodeURIComponent("_badmap")),J}}function ni(d){this.l=d.Ub||null,this.j=d.eb||!1}P(ni,ns),ni.prototype.g=function(){return new Pr(this.l,this.j)},ni.prototype.i=function(d){return function(){return d}}({});function Pr(d,v){te.call(this),this.D=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(Pr,te),n=Pr.prototype,n.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=v,this.readyState=1,Mr(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(v.body=d),(this.D||h).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,yr(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Mr(this)),this.g&&(this.readyState=3,Mr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xi(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function xi(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?yr(this):Mr(this),this.readyState==3&&xi(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,yr(this))},n.Qa=function(d){this.g&&(this.response=d,yr(this))},n.ga=function(){this.g&&yr(this)};function yr(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Mr(d)}n.setRequestHeader=function(d,v){this.u.append(d,v)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=v.next();return d.join(`\r
`)};function Mr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Pr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Ni(d){let v="";return fe(d,function(T,x){v+=x,v+=":",v+=T,v+=`\r
`}),v}function Et(d,v,T){e:{for(x in T){var x=!1;break e}x=!0}x||(T=Ni(T),typeof d=="string"?T!=null&&encodeURIComponent(String(T)):ht(d,v,T))}function it(d){te.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(it,te);var ri=/^https?$/i,ii=["POST","PUT"];n=it.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,v,T,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Yr.g(),this.v=this.o?Xa(this.o):Xa(Yr),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(ie){Xo(this,ie);return}if(d=T||"",T=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var J in x)T.set(J,x[J]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const ie of x.keys())T.set(ie,x.get(ie));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(T.keys()).find(ie=>ie.toLowerCase()=="content-type"),J=h.FormData&&d instanceof h.FormData,!(0<=Array.prototype.indexOf.call(ii,v,void 0))||x||J||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,_e]of T)this.g.setRequestHeader(ie,_e);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{os(this),this.u=!0,this.g.send(d),this.u=!1}catch(ie){Xo(this,ie)}};function Xo(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.m=5,Js(d),ar(d)}function Js(d){d.A||(d.A=!0,Ie(d,"complete"),Ie(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Ie(this,"complete"),Ie(this,"abort"),ar(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ar(this,!0)),it.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ea(this):this.bb())},n.bb=function(){ea(this)};function ea(d){if(d.h&&typeof c<"u"&&(!d.v[1]||Qn(d)!=4||d.Z()!=2)){if(d.u&&Qn(d)==4)Ka(d.Ea,0,d);else if(Ie(d,"readystatechange"),Qn(d)==4){d.h=!1;try{const _e=d.Z();e:switch(_e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var T;if(!(T=v)){var x;if(x=_e===0){var J=String(d.D).match(no)[1]||null;!J&&h.self&&h.self.location&&(J=h.self.location.protocol.slice(0,-1)),x=!ri.test(J?J.toLowerCase():"")}T=x}if(T)Ie(d,"complete"),Ie(d,"success");else{d.m=6;try{var ie=2<Qn(d)?d.g.statusText:""}catch{ie=""}d.l=ie+" ["+d.Z()+"]",Js(d)}}finally{ar(d)}}}}function ar(d,v){if(d.g){os(d);const T=d.g,x=d.v[0]?()=>{}:null;d.g=null,d.v=null,v||Ie(d,"ready");try{T.onreadystatechange=x}catch{}}}function os(d){d.I&&(h.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function Qn(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<Qn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),Hn(v)}};function Pt(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function w(d){const v={};d=(d.g&&2<=Qn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<d.length;x++){if(Y(d[x]))continue;var T=B(d[x]);const J=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const ie=v[J]||[];v[J]=ie,ie.push(T)}U(v,function(x){return x.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function S(d,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||v}function N(d){this.Aa=0,this.i=[],this.j=new Ei,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=S("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=S("baseRetryDelayMs",5e3,d),this.cb=S("retryDelaySeedMs",1e4,d),this.Wa=S("forwardChannelMaxRetries",2,d),this.wa=S("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Ks(d&&d.concurrentRequestLimit),this.Da=new Oi,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=N.prototype,n.la=8,n.G=1,n.connect=function(d,v,T,x){Nt(0),this.W=d,this.H=v||{},T&&x!==void 0&&(this.H.OSID=T,this.H.OAID=x),this.F=this.X,this.I=or(this,null,this.W),Z(this)};function D(d){if(W(d),d.G==3){var v=d.U++,T=yt(d.I);if(ht(T,"SID",d.K),ht(T,"RID",v),ht(T,"TYPE","terminate"),ye(d,T),v=new xr(d,d.j,v),v.L=2,v.v=ss(yt(T)),T=!1,h.navigator&&h.navigator.sendBeacon)try{T=h.navigator.sendBeacon(v.v.toString(),"")}catch{}!T&&h.Image&&(new Image().src=v.v,T=!0),T||(v.g=on(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Dt(v)}Ut(d)}function q(d){d.g&&(At(d),d.g.cancel(),d.g=null)}function W(d){q(d),d.u&&(h.clearTimeout(d.u),d.u=null),ze(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&h.clearTimeout(d.s),d.s=null)}function Z(d){if(!to(d.h)&&!d.s){d.s=!0;var v=d.Ga;Te||F(),ge||(Te(),ge=!0),qe.add(v,d),d.B=0}}function me(d,v){return Qo(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=v.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=_i(E(d.Ga,d,v),Ct(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const J=new xr(this,this.j,d);let ie=this.o;if(this.S&&(ie?(ie=k(ie),M(ie,this.S)):ie=this.S),this.m!==null||this.O||(J.H=ie,ie=null),this.P)e:{for(var v=0,T=0;T<this.i.length;T++){t:{var x=this.i[T];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(v+=x,4096<v){v=T;break e}if(v===4096||T===this.i.length-1){v=T+1;break e}}v=1e3}else v=1e3;v=Ee(this,J,v),T=yt(this.I),ht(T,"RID",d),ht(T,"CVER",22),this.D&&ht(T,"X-HTTP-Session-Id",this.D),ye(this,T),ie&&(this.O?v="headers="+encodeURIComponent(String(Ni(ie)))+"&"+v:this.m&&Et(T,this.m,ie)),gr(this.h,J),this.Ua&&ht(T,"TYPE","init"),this.P?(ht(T,"$req",v),ht(T,"SID","null"),J.T=!0,Mn(J,T,null)):Mn(J,T,v),this.G=2}}else this.G==3&&(d?Ce(this,d):this.i.length==0||to(this.h)||Ce(this))};function Ce(d,v){var T;v?T=v.l:T=d.U++;const x=yt(d.I);ht(x,"SID",d.K),ht(x,"RID",T),ht(x,"AID",d.T),ye(d,x),d.m&&d.o&&Et(x,d.m,d.o),T=new xr(d,d.j,T,d.B+1),d.m===null&&(T.H=d.o),v&&(d.i=v.D.concat(d.i)),v=Ee(d,T,1e3),T.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),gr(d.h,T),Mn(T,x,v)}function ye(d,v){d.H&&fe(d.H,function(T,x){ht(v,x,T)}),d.l&&rs({},function(T,x){ht(v,x,T)})}function Ee(d,v,T){T=Math.min(d.i.length,T);var x=d.l?E(d.l.Na,d.l,d):null;e:{var J=d.i;let ie=-1;for(;;){const _e=["count="+T];ie==-1?0<T?(ie=J[0].g,_e.push("ofs="+ie)):ie=0:_e.push("ofs="+ie);let ot=!0;for(let ln=0;ln<T;ln++){let lt=J[ln].g;const _n=J[ln].map;if(lt-=ie,0>lt)ie=Math.max(0,J[ln].g-100),ot=!1;else try{sr(_n,_e,"req"+lt+"_")}catch{x&&x(_n)}}if(ot){x=_e.join("&");break e}}}return d=d.i.splice(0,T),v.D=d,x}function Oe(d){if(!d.g&&!d.u){d.Y=1;var v=d.Fa;Te||F(),ge||(Te(),ge=!0),qe.add(v,d),d.v=0}}function mt(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=_i(E(d.Fa,d),Ct(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,Ne(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=_i(E(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Nt(10),q(this),Ne(this))};function At(d){d.A!=null&&(h.clearTimeout(d.A),d.A=null)}function Ne(d){d.g=new xr(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var v=yt(d.qa);ht(v,"RID","rpc"),ht(v,"SID",d.K),ht(v,"AID",d.T),ht(v,"CI",d.F?"0":"1"),!d.F&&d.ja&&ht(v,"TO",d.ja),ht(v,"TYPE","xmlhttp"),ye(d,v),d.m&&d.o&&Et(v,d.m,d.o),d.L&&(d.g.I=d.L);var T=d.g;d=d.ia,T.L=1,T.v=ss(yt(v)),T.m=null,T.P=!0,Xr(T,d)}n.Za=function(){this.C!=null&&(this.C=null,q(this),mt(this),Nt(19))};function ze(d){d.C!=null&&(h.clearTimeout(d.C),d.C=null)}function De(d,v){var T=null;if(d.g==v){ze(d),At(d),d.g=null;var x=2}else if(Ri(d.h,v))T=v.D,Gn(d.h,v),x=1;else return;if(d.G!=0){if(v.o)if(x==1){T=v.m?v.m.length:0,v=Date.now()-v.F;var J=d.B;x=Gs(),Ie(x,new Go(x,T)),Z(d)}else Oe(d);else if(J=v.s,J==3||J==0&&0<v.X||!(x==1&&me(d,v)||x==2&&mt(d)))switch(T&&0<T.length&&(v=d.h,v.i=v.i.concat(T)),J){case 1:Tt(d,5);break;case 4:Tt(d,10);break;case 3:Tt(d,6);break;default:Tt(d,2)}}}function Ct(d,v){let T=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(T*=2),T*v}function Tt(d,v){if(d.j.info("Error code "+v),v==2){var T=E(d.fb,d),x=d.Xa;const J=!x;x=new Dr(x||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Jr(x,"https"),ss(x),J?Zs(x.toString(),T):Ii(x.toString(),T)}else Nt(2);d.G=0,d.l&&d.l.sa(v),Ut(d),W(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Nt(2)):(this.j.info("Failed to ping google.com"),Nt(1))};function Ut(d){if(d.G=0,d.ka=[],d.l){const v=vn(d.h);(v.length!=0||d.i.length!=0)&&(j(d.ka,v),j(d.ka,d.i),d.h.i.length=0,$(d.i),d.i.length=0),d.l.ra()}}function or(d,v,T){var x=T instanceof Dr?yt(T):new Dr(T);if(x.g!="")v&&(x.g=v+"."+x.g),Qs(x,x.s);else{var J=h.location;x=J.protocol,v=v?v+"."+J.hostname:J.hostname,J=+J.port;var ie=new Dr(null);x&&Jr(ie,x),v&&(ie.g=v),J&&Qs(ie,J),T&&(ie.l=T),x=ie}return T=d.D,v=d.ya,T&&v&&ht(x,T,v),ht(x,"VER",d.la),ye(d,x),x}function on(d,v,T){if(v&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Ca&&!d.pa?new it(new ni({eb:T})):new it(d.pa),v.Ha(d.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function vr(){}n=vr.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function lr(){}lr.prototype.g=function(d,v){return new en(d,v)};function en(d,v){te.call(this),this.g=new N(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(d?d["X-WebChannel-Client-Profile"]=v.va:d={"X-WebChannel-Client-Profile":v.va}),this.g.S=d,(d=v&&v.Sb)&&!Y(d)&&(this.g.m=d),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!Y(v)&&(this.g.D=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new Di(this)}P(en,te),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){D(this.g)},en.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.u&&(T={},T.__data__=Wa(d),d=T);v.i.push(new Si(v.Ya++,d)),v.G==3&&Z(v)},en.prototype.N=function(){this.g.l=null,delete this.j,D(this.g),delete this.g,en.aa.N.call(this)};function io(d){pi.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const T in v){d=T;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}P(io,pi);function jc(){tr.call(this),this.status=1}P(jc,tr);function Di(d){this.g=d}P(Di,vr),Di.prototype.ua=function(){Ie(this.g,"a")},Di.prototype.ta=function(d){Ie(this.g,new io(d))},Di.prototype.sa=function(d){Ie(this.g,new jc)},Di.prototype.ra=function(){Ie(this.g,"b")},lr.prototype.createWebChannel=lr.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,kS=function(){return new lr},DS=function(){return Gs()},NS=$n,Cg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qt.NO_ERROR=0,qt.TIMEOUT=8,qt.HTTP_ERROR=6,ih=qt,Qr.COMPLETE="complete",xS=Qr,$o.EventType=mr,mr.OPEN="a",mr.CLOSE="b",mr.ERROR="c",mr.MESSAGE="d",te.prototype.listen=te.prototype.K,Ju=$o,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha,OS=it}).apply(typeof Bf<"u"?Bf:typeof self<"u"?self:typeof window<"u"?window:{});const pT="@firebase/firestore",gT="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bn.UNAUTHENTICATED=new Bn(null),Bn.GOOGLE_CREDENTIALS=new Bn("google-credentials-uid"),Bn.FIRST_PARTY=new Bn("first-party-uid"),Bn.MOCK_USER=new Bn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kl="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po=new sy("@firebase/firestore");function Cl(){return Po.logLevel}function we(n,...e){if(Po.logLevel<=tt.DEBUG){const t=e.map(yy);Po.debug(`Firestore (${Kl}): ${n}`,...t)}}function Vs(n,...e){if(Po.logLevel<=tt.ERROR){const t=e.map(yy);Po.error(`Firestore (${Kl}): ${n}`,...t)}}function Ul(n,...e){if(Po.logLevel<=tt.WARN){const t=e.map(yy);Po.warn(`Firestore (${Kl}): ${n}`,...t)}}function yy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function je(n="Unexpected state"){const e=`FIRESTORE (${Kl}) INTERNAL ASSERTION FAILED: `+n;throw Vs(e),new Error(e)}function vt(n,e){n||je()}function Ke(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends Ji{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Pk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Bn.UNAUTHENTICATED))}shutdown(){}}class Mk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Lk{constructor(e){this.t=e,this.currentUser=Bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){vt(this.o===void 0);let i=this.i;const a=f=>this.i!==i?(i=this.i,t(f)):Promise.resolve();let l=new ks;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ks,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const f=l;e.enqueueRetryable(async()=>{await f.promise,await a(this.currentUser)})},h=f=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ks)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(vt(typeof i.accessToken=="string"),new PS(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return vt(e===null||typeof e=="string"),new Bn(e)}}class Uk{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Bn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Vk{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new Uk(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Bn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jk{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Sr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){vt(this.o===void 0);const i=l=>{l.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,we("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const a=l=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?a(l):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new yT(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(vt(typeof t.token=="string"),this.R=t.token,new yT(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bk(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=Bk(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<t&&(i+=e.charAt(a[l]%62))}return i}}function at(n,e){return n<e?-1:n>e?1:0}function Vl(n,e,t){return n.length===e.length&&n.every((i,a)=>t(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT=-62135596800,_T=1e6;class hn{static now(){return hn.fromMillis(Date.now())}static fromDate(e){return hn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*_T);return new hn(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Se(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Se(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<vT)throw new Se(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_T}_compareTo(e){return this.seconds===e.seconds?at(this.nanoseconds,e.nanoseconds):at(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-vT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{static fromTimestamp(e){return new He(e)}static min(){return new He(new hn(0,0))}static max(){return new He(new hn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET="__name__";class zi{constructor(e,t,i){t===void 0?t=0:t>e.length&&je(),i===void 0?i=e.length-t:i>e.length-t&&je(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return zi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof zi?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const l=zi.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Math.sign(e.length-t.length)}static compareSegments(e,t){const i=zi.isNumericId(e),a=zi.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?zi.extractNumericId(e).compare(zi.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Da.fromString(e.substring(4,e.length-2))}}class Mt extends zi{construct(e,t,i){return new Mt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Se(ce.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(a=>a.length>0))}return new Mt(t)}static emptyPath(){return new Mt([])}}const zk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dn extends zi{construct(e,t,i){return new Dn(e,t,i)}static isValidIdentifier(e){return zk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ET}static keyField(){return new Dn([ET])}static fromServerFormat(e){const t=[];let i="",a=0;const l=()=>{if(i.length===0)throw new Se(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new Se(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Se(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(i+=h,a++):(l(),a++)}if(l(),c)throw new Se(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dn(t)}static emptyPath(){return new Dn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.path=e}static fromPath(e){return new Pe(Mt.fromString(e))}static fromName(e){return new Pe(Mt.fromString(e).popFirst(5))}static empty(){return new Pe(Mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Mt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pe(new Mt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc=-1;function qk(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=He.fromTimestamp(i===1e9?new hn(t+1,0):new hn(t,i));return new La(a,Pe.empty(),e)}function Fk(n){return new La(n.readTime,n.key,mc)}class La{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new La(He.min(),Pe.empty(),mc)}static max(){return new La(He.max(),Pe.empty(),mc)}}function Hk(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Pe.comparator(n.documentKey,e.documentKey),t!==0?t:at(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Gk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ql(n){if(n.code!==ce.FAILED_PRECONDITION||n.message!==$k)throw n;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&je(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ue((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ue?t:ue.resolve(t)}catch(t){return ue.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.reject(t)}static resolve(e){return new ue((t,i)=>{t(e)})}static reject(e){return new ue((t,i)=>{i(e)})}static waitFor(e){return new ue((t,i)=>{let a=0,l=0,c=!1;e.forEach(h=>{++a,h.next(()=>{++l,c&&l===a&&t()},f=>i(f))}),c=!0,l===a&&t()})}static or(e){let t=ue.resolve(!1);for(const i of e)t=t.next(a=>a?ue.resolve(a):i());return t}static forEach(e,t){const i=[];return e.forEach((a,l)=>{i.push(t.call(this,a,l))}),this.waitFor(i)}static mapArray(e,t){return new ue((i,a)=>{const l=e.length,c=new Array(l);let h=0;for(let f=0;f<l;f++){const p=f;t(e[p]).next(y=>{c[p]=y,++h,h===l&&i(c)},y=>a(y))}})}static doWhile(e,t){return new ue((i,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):i()};l()})}}function Kk(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Yl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.oe(i),this._e=i=>t.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Kh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy=-1;function Qh(n){return n==null}function _h(n){return n===0&&1/n==-1/0}function Qk(n){return typeof n=="number"&&Number.isInteger(n)&&!_h(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS="";function Yk(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=TT(e)),e=Wk(n.get(t),e);return TT(e)}function Wk(n,e){let t=e;const i=n.length;for(let a=0;a<i;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case LS:t+="";break;default:t+=l}}return t}function TT(n){return n+LS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ha(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function US(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,t){this.comparator=e,this.root=t||Nn.EMPTY}insert(e,t){return new zt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Nn.BLACK,null,null))}remove(e){return new zt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zf(this.root,e,this.comparator,!1)}getReverseIterator(){return new zf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zf(this.root,e,this.comparator,!0)}}class zf{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nn{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??Nn.RED,this.left=a??Nn.EMPTY,this.right=l??Nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,l){return new Nn(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Nn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw je();const e=this.left.check();if(e!==this.right.check())throw je();return e+(this.isRed()?0:1)}}Nn.EMPTY=null,Nn.RED=!0,Nn.BLACK=!1;Nn.EMPTY=new class{constructor(){this.size=0}get key(){throw je()}get value(){throw je()}get color(){throw je()}get left(){throw je()}get right(){throw je()}copy(e,t,i,a,l){return this}insert(e,t,i){return new Nn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.comparator=e,this.data=new zt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new wT(this.data.getIterator())}getIteratorFrom(e){return new wT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof dn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new dn(this.comparator);return t.data=e,t}}class wT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e){this.fields=e,e.sort(Dn.comparator)}static empty(){return new Rr([])}unionWith(e){let t=new dn(Dn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Rr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Vl(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new VS("Invalid base64 string: "+l):l}}(e);return new kn(t)}static fromUint8Array(e){const t=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new kn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return at(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kn.EMPTY_BYTE_STRING=new kn("");const Xk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ua(n){if(vt(!!n),typeof n=="string"){let e=0;const t=Xk.exec(n);if(vt(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Wt(n.seconds),nanos:Wt(n.nanos)}}function Wt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Va(n){return typeof n=="string"?kn.fromBase64String(n):kn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS="server_timestamp",BS="__type__",zS="__previous_value__",qS="__local_write_time__";function _y(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[BS])===null||t===void 0?void 0:t.stringValue)===jS}function Yh(n){const e=n.mapValue.fields[zS];return _y(e)?Yh(e):e}function pc(n){const e=Ua(n.mapValue.fields[qS].timestampValue);return new hn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e,t,i,a,l,c,h,f,p){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=p}}const Eh="(default)";class gc{constructor(e,t){this.projectId=e,this.database=t||Eh}static empty(){return new gc("","")}get isDefaultDatabase(){return this.database===Eh}isEqual(e){return e instanceof gc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS="__type__",Jk="__max__",qf={mapValue:{}},HS="__vector__",Th="value";function ja(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?_y(n)?4:t2(n)?9007199254740991:e2(n)?10:11:je()}function Yi(n,e){if(n===e)return!0;const t=ja(n);if(t!==ja(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return pc(n).isEqual(pc(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Ua(a.timestampValue),h=Ua(l.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,l){return Va(a.bytesValue).isEqual(Va(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,l){return Wt(a.geoPointValue.latitude)===Wt(l.geoPointValue.latitude)&&Wt(a.geoPointValue.longitude)===Wt(l.geoPointValue.longitude)}(n,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return Wt(a.integerValue)===Wt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Wt(a.doubleValue),h=Wt(l.doubleValue);return c===h?_h(c)===_h(h):isNaN(c)&&isNaN(h)}return!1}(n,e);case 9:return Vl(n.arrayValue.values||[],e.arrayValue.values||[],Yi);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},h=l.mapValue.fields||{};if(bT(c)!==bT(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!Yi(c[f],h[f])))return!1;return!0}(n,e);default:return je()}}function yc(n,e){return(n.values||[]).find(t=>Yi(t,e))!==void 0}function jl(n,e){if(n===e)return 0;const t=ja(n),i=ja(e);if(t!==i)return at(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return at(n.booleanValue,e.booleanValue);case 2:return function(l,c){const h=Wt(l.integerValue||l.doubleValue),f=Wt(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(n,e);case 3:return ST(n.timestampValue,e.timestampValue);case 4:return ST(pc(n),pc(e));case 5:return at(n.stringValue,e.stringValue);case 6:return function(l,c){const h=Va(l),f=Va(c);return h.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const h=l.split("/"),f=c.split("/");for(let p=0;p<h.length&&p<f.length;p++){const y=at(h[p],f[p]);if(y!==0)return y}return at(h.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const h=at(Wt(l.latitude),Wt(c.latitude));return h!==0?h:at(Wt(l.longitude),Wt(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return RT(n.arrayValue,e.arrayValue);case 10:return function(l,c){var h,f,p,y;const _=l.fields||{},E=c.fields||{},C=(h=_[Th])===null||h===void 0?void 0:h.arrayValue,P=(f=E[Th])===null||f===void 0?void 0:f.arrayValue,$=at(((p=C==null?void 0:C.values)===null||p===void 0?void 0:p.length)||0,((y=P==null?void 0:P.values)===null||y===void 0?void 0:y.length)||0);return $!==0?$:RT(C,P)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===qf.mapValue&&c===qf.mapValue)return 0;if(l===qf.mapValue)return 1;if(c===qf.mapValue)return-1;const h=l.fields||{},f=Object.keys(h),p=c.fields||{},y=Object.keys(p);f.sort(),y.sort();for(let _=0;_<f.length&&_<y.length;++_){const E=at(f[_],y[_]);if(E!==0)return E;const C=jl(h[f[_]],p[y[_]]);if(C!==0)return C}return at(f.length,y.length)}(n.mapValue,e.mapValue);default:throw je()}}function ST(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return at(n,e);const t=Ua(n),i=Ua(e),a=at(t.seconds,i.seconds);return a!==0?a:at(t.nanos,i.nanos)}function RT(n,e){const t=n.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const l=jl(t[a],i[a]);if(l)return l}return at(t.length,i.length)}function Bl(n){return Ig(n)}function Ig(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Ua(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Va(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Pe.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",a=!0;for(const l of t.values||[])a?a=!1:i+=",",i+=Ig(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${Ig(t.fields[c])}`;return a+"}"}(n.mapValue):je()}function sh(n){switch(ja(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Yh(n);return e?16+sh(e):16;case 5:return 2*n.stringValue.length;case 6:return Va(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,l)=>a+sh(l),0)}(n.arrayValue);case 10:case 11:return function(i){let a=0;return Ha(i.fields,(l,c)=>{a+=l.length+sh(c)}),a}(n.mapValue);default:throw je()}}function AT(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Og(n){return!!n&&"integerValue"in n}function Ey(n){return!!n&&"arrayValue"in n}function CT(n){return!!n&&"nullValue"in n}function IT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ah(n){return!!n&&"mapValue"in n}function e2(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[FS])===null||t===void 0?void 0:t.stringValue)===HS}function sc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ha(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=sc(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=sc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function t2(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Jk}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.value=e}static empty(){return new fr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!ah(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=sc(t)}setAll(e){let t=Dn.emptyPath(),i={},a=[];e.forEach((c,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,i,a),i={},a=[],t=h.popLast()}c?i[h.lastSegment()]=sc(c):a.push(h.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,a)}delete(e){const t=this.field(e.popLast());ah(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Yi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];ah(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){Ha(t,(a,l)=>e[a]=l);for(const a of i)delete e[a]}clone(){return new fr(sc(this.value))}}function $S(n){const e=[];return Ha(n.fields,(t,i)=>{const a=new Dn([t]);if(ah(i)){const l=$S(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new Rr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e,t,i,a,l,c,h){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=h}static newInvalidDocument(e){return new zn(e,0,He.min(),He.min(),He.min(),fr.empty(),0)}static newFoundDocument(e,t,i,a){return new zn(e,1,t,He.min(),i,a,0)}static newNoDocument(e,t){return new zn(e,2,t,He.min(),He.min(),fr.empty(),0)}static newUnknownDocument(e,t){return new zn(e,3,t,He.min(),He.min(),fr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(He.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=He.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,t){this.position=e,this.inclusive=t}}function OT(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const l=e[a],c=n.position[a];if(l.field.isKeyField()?i=Pe.comparator(Pe.fromName(c.referenceValue),t.key):i=jl(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function xT(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Yi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,t="asc"){this.field=e,this.dir=t}}function n2(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{}class an extends GS{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new i2(e,t,i):t==="array-contains"?new o2(e,i):t==="in"?new l2(e,i):t==="not-in"?new u2(e,i):t==="array-contains-any"?new c2(e,i):new an(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new s2(e,i):new a2(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(jl(t,this.value)):t!==null&&ja(this.value)===ja(t)&&this.matchesComparison(jl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return je()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class di extends GS{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new di(e,t)}matches(e){return KS(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function KS(n){return n.op==="and"}function QS(n){return r2(n)&&KS(n)}function r2(n){for(const e of n.filters)if(e instanceof di)return!1;return!0}function xg(n){if(n instanceof an)return n.field.canonicalString()+n.op.toString()+Bl(n.value);if(QS(n))return n.filters.map(e=>xg(e)).join(",");{const e=n.filters.map(t=>xg(t)).join(",");return`${n.op}(${e})`}}function YS(n,e){return n instanceof an?function(i,a){return a instanceof an&&i.op===a.op&&i.field.isEqual(a.field)&&Yi(i.value,a.value)}(n,e):n instanceof di?function(i,a){return a instanceof di&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((l,c,h)=>l&&YS(c,a.filters[h]),!0):!1}(n,e):void je()}function WS(n){return n instanceof an?function(t){return`${t.field.canonicalString()} ${t.op} ${Bl(t.value)}`}(n):n instanceof di?function(t){return t.op.toString()+" {"+t.getFilters().map(WS).join(" ,")+"}"}(n):"Filter"}class i2 extends an{constructor(e,t,i){super(e,t,i),this.key=Pe.fromName(i.referenceValue)}matches(e){const t=Pe.comparator(e.key,this.key);return this.matchesComparison(t)}}class s2 extends an{constructor(e,t){super(e,"in",t),this.keys=XS("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class a2 extends an{constructor(e,t){super(e,"not-in",t),this.keys=XS("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function XS(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Pe.fromName(i.referenceValue))}class o2 extends an{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ey(t)&&yc(t.arrayValue,this.value)}}class l2 extends an{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&yc(this.value.arrayValue,t)}}class u2 extends an{constructor(e,t){super(e,"not-in",t)}matches(e){if(yc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!yc(this.value.arrayValue,t)}}class c2 extends an{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ey(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>yc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e,t=null,i=[],a=[],l=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=h,this.le=null}}function NT(n,e=null,t=[],i=[],a=null,l=null,c=null){return new f2(n,e,t,i,a,l,c)}function Ty(n){const e=Ke(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>xg(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Qh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Bl(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Bl(i)).join(",")),e.le=t}return e.le}function by(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!n2(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!YS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!xT(n.startAt,e.startAt)&&xT(n.endAt,e.endAt)}function Ng(n){return Pe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,t=null,i=[],a=[],l=null,c="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=h,this.endAt=f,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function h2(n,e,t,i,a,l,c,h){return new Nc(n,e,t,i,a,l,c,h)}function wy(n){return new Nc(n)}function DT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function ZS(n){return n.collectionGroup!==null}function ac(n){const e=Ke(n);if(e.he===null){e.he=[];const t=new Set;for(const l of e.explicitOrderBy)e.he.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new dn(Dn.comparator);return c.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(h=h.add(p.field))})}),h})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.he.push(new wh(l,i))}),t.has(Dn.keyField().canonicalString())||e.he.push(new wh(Dn.keyField(),i))}return e.he}function Gi(n){const e=Ke(n);return e.Pe||(e.Pe=d2(e,ac(n))),e.Pe}function d2(n,e){if(n.limitType==="F")return NT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new wh(a.field,l)});const t=n.endAt?new bh(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new bh(n.startAt.position,n.startAt.inclusive):null;return NT(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Dg(n,e){const t=n.filters.concat([e]);return new Nc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Sh(n,e,t){return new Nc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Wh(n,e){return by(Gi(n),Gi(e))&&n.limitType===e.limitType}function JS(n){return`${Ty(Gi(n))}|lt:${n.limitType}`}function Il(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(a=>WS(a)).join(", ")}]`),Qh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>Bl(a)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>Bl(a)).join(",")),`Target(${i})`}(Gi(n))}; limitType=${n.limitType})`}function Xh(n,e){return e.isFoundDocument()&&function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Pe.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,a){for(const l of ac(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(n,e)&&function(i,a){return!(i.startAt&&!function(c,h,f){const p=OT(c,h,f);return c.inclusive?p<=0:p<0}(i.startAt,ac(i),a)||i.endAt&&!function(c,h,f){const p=OT(c,h,f);return c.inclusive?p>=0:p>0}(i.endAt,ac(i),a))}(n,e)}function m2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function eR(n){return(e,t)=>{let i=!1;for(const a of ac(n)){const l=p2(a,e,t);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function p2(n,e,t){const i=n.field.isKeyField()?Pe.comparator(e.key,t.key):function(l,c,h){const f=c.data.field(l),p=h.data.field(l);return f!==null&&p!==null?jl(f,p):je()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return je()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ha(this.inner,(t,i)=>{for(const[a,l]of i)e(a,l)})}isEmpty(){return US(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=new zt(Pe.comparator);function js(){return g2}const tR=new zt(Pe.comparator);function ec(...n){let e=tR;for(const t of n)e=e.insert(t.key,t);return e}function nR(n){let e=tR;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Io(){return oc()}function rR(){return oc()}function oc(){return new zo(n=>n.toString(),(n,e)=>n.isEqual(e))}const y2=new zt(Pe.comparator),v2=new dn(Pe.comparator);function nt(...n){let e=v2;for(const t of n)e=e.add(t);return e}const _2=new dn(at);function E2(){return _2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_h(e)?"-0":e}}function iR(n){return{integerValue:""+n}}function T2(n,e){return Qk(e)?iR(e):Sy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(){this._=void 0}}function b2(n,e,t){return n instanceof Rh?function(a,l){const c={fields:{[BS]:{stringValue:jS},[qS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&_y(l)&&(l=Yh(l)),l&&(c.fields[zS]=l),{mapValue:c}}(t,e):n instanceof vc?aR(n,e):n instanceof _c?oR(n,e):function(a,l){const c=sR(a,l),h=kT(c)+kT(a.Ie);return Og(c)&&Og(a.Ie)?iR(h):Sy(a.serializer,h)}(n,e)}function w2(n,e,t){return n instanceof vc?aR(n,e):n instanceof _c?oR(n,e):t}function sR(n,e){return n instanceof Ah?function(i){return Og(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class Rh extends Zh{}class vc extends Zh{constructor(e){super(),this.elements=e}}function aR(n,e){const t=lR(e);for(const i of n.elements)t.some(a=>Yi(a,i))||t.push(i);return{arrayValue:{values:t}}}class _c extends Zh{constructor(e){super(),this.elements=e}}function oR(n,e){let t=lR(e);for(const i of n.elements)t=t.filter(a=>!Yi(a,i));return{arrayValue:{values:t}}}class Ah extends Zh{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function kT(n){return Wt(n.integerValue||n.doubleValue)}function lR(n){return Ey(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function S2(n,e){return n.field.isEqual(e.field)&&function(i,a){return i instanceof vc&&a instanceof vc||i instanceof _c&&a instanceof _c?Vl(i.elements,a.elements,Yi):i instanceof Ah&&a instanceof Ah?Yi(i.Ie,a.Ie):i instanceof Rh&&a instanceof Rh}(n.transform,e.transform)}class R2{constructor(e,t){this.version=e,this.transformResults=t}}class fi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new fi}static exists(e){return new fi(void 0,e)}static updateTime(e){return new fi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function oh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Jh{}function uR(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Ry(n.key,fi.none()):new Dc(n.key,n.data,fi.none());{const t=n.data,i=fr.empty();let a=new dn(Dn.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new $a(n.key,i,new Rr(a.toArray()),fi.none())}}function A2(n,e,t){n instanceof Dc?function(a,l,c){const h=a.value.clone(),f=MT(a.fieldTransforms,l,c.transformResults);h.setAll(f),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(n,e,t):n instanceof $a?function(a,l,c){if(!oh(a.precondition,l))return void l.convertToUnknownDocument(c.version);const h=MT(a.fieldTransforms,l,c.transformResults),f=l.data;f.setAll(cR(a)),f.setAll(h),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(n,e,t):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function lc(n,e,t,i){return n instanceof Dc?function(l,c,h,f){if(!oh(l.precondition,c))return h;const p=l.value.clone(),y=LT(l.fieldTransforms,f,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(n,e,t,i):n instanceof $a?function(l,c,h,f){if(!oh(l.precondition,c))return h;const p=LT(l.fieldTransforms,f,c),y=c.data;return y.setAll(cR(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(_=>_.field))}(n,e,t,i):function(l,c,h){return oh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h}(n,e,t)}function C2(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),l=sR(i.transform,a||null);l!=null&&(t===null&&(t=fr.empty()),t.set(i.field,l))}return t||null}function PT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Vl(i,a,(l,c)=>S2(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Dc extends Jh{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class $a extends Jh{constructor(e,t,i,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function cR(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function MT(n,e,t){const i=new Map;vt(n.length===t.length);for(let a=0;a<t.length;a++){const l=n[a],c=l.transform,h=e.data.field(l.field);i.set(l.field,w2(c,h,t[a]))}return i}function LT(n,e,t){const i=new Map;for(const a of n){const l=a.transform,c=t.data.field(a.field);i.set(a.field,b2(l,c,e))}return i}class Ry extends Jh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class I2 extends Jh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&A2(l,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=lc(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=lc(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=rR();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let h=this.applyToLocalView(c,l.mutatedFields);h=t.has(a.key)?null:h;const f=uR(c,h);f!==null&&i.set(a.key,f),c.isValidDocument()||c.convertToNoDocument(He.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),nt())}isEqual(e){return this.batchId===e.batchId&&Vl(this.mutations,e.mutations,(t,i)=>PT(t,i))&&Vl(this.baseMutations,e.baseMutations,(t,i)=>PT(t,i))}}class Ay{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){vt(e.mutations.length===i.length);let a=function(){return y2}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new Ay(e,t,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sn,ct;function D2(n){switch(n){case ce.OK:return je();case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return je()}}function fR(n){if(n===void 0)return Vs("GRPC error has no .code"),ce.UNKNOWN;switch(n){case sn.OK:return ce.OK;case sn.CANCELLED:return ce.CANCELLED;case sn.UNKNOWN:return ce.UNKNOWN;case sn.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case sn.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case sn.INTERNAL:return ce.INTERNAL;case sn.UNAVAILABLE:return ce.UNAVAILABLE;case sn.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case sn.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case sn.NOT_FOUND:return ce.NOT_FOUND;case sn.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case sn.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case sn.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case sn.ABORTED:return ce.ABORTED;case sn.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case sn.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case sn.DATA_LOSS:return ce.DATA_LOSS;default:return je()}}(ct=sn||(sn={}))[ct.OK=0]="OK",ct[ct.CANCELLED=1]="CANCELLED",ct[ct.UNKNOWN=2]="UNKNOWN",ct[ct.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ct[ct.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ct[ct.NOT_FOUND=5]="NOT_FOUND",ct[ct.ALREADY_EXISTS=6]="ALREADY_EXISTS",ct[ct.PERMISSION_DENIED=7]="PERMISSION_DENIED",ct[ct.UNAUTHENTICATED=16]="UNAUTHENTICATED",ct[ct.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ct[ct.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ct[ct.ABORTED=10]="ABORTED",ct[ct.OUT_OF_RANGE=11]="OUT_OF_RANGE",ct[ct.UNIMPLEMENTED=12]="UNIMPLEMENTED",ct[ct.INTERNAL=13]="INTERNAL",ct[ct.UNAVAILABLE=14]="UNAVAILABLE",ct[ct.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=new Da([4294967295,4294967295],0);function UT(n){const e=k2().encode(n),t=new IS;return t.update(e),new Uint8Array(t.digest())}function VT(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Da([t,i],0),new Da([a,l],0)]}class Cy{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new tc(`Invalid padding: ${t}`);if(i<0)throw new tc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new tc(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new tc(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Da.fromNumber(this.Ee)}Ae(e,t,i){let a=e.add(t.multiply(Da.fromNumber(i)));return a.compare(P2)===1&&(a=new Da([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=UT(e),[i,a]=VT(t);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,a,l);if(!this.Re(c))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Cy(l,a,t);return i.forEach(h=>c.insert(h)),c}insert(e){if(this.Ee===0)return;const t=UT(e),[i,a]=VT(t);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,a,l);this.Ve(c)}}Ve(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class tc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,t,i,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,kc.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new ed(He.min(),a,new zt(at),js(),nt())}}class kc{constructor(e,t,i,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new kc(i,t,nt(),nt(),nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,t,i,a){this.me=e,this.removedTargetIds=t,this.key=i,this.fe=a}}class hR{constructor(e,t){this.targetId=e,this.ge=t}}class dR{constructor(e,t,i=kn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class jT{constructor(){this.pe=0,this.ye=BT(),this.we=kn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=nt(),t=nt(),i=nt();return this.ye.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:je()}}),new kc(this.we,this.Se,e,t,i)}Me(){this.be=!1,this.ye=BT()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,vt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class M2{constructor(e){this.ke=e,this.qe=new Map,this.Qe=js(),this.$e=Ff(),this.Ke=Ff(),this.Ue=new zt(at)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const i=this.He(t);switch(e.state){case 0:this.Je(t)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(t);break;case 3:this.Je(t)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),i.Ce(e.resumeToken));break;default:je()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((i,a)=>{this.Je(a)&&t(a)})}Ze(e){const t=e.targetId,i=e.ge.count,a=this.Xe(t);if(a){const l=a.target;if(Ng(l))if(i===0){const c=new Pe(l.path);this.ze(t,c,zn.newNoDocument(c,He.min()))}else vt(i===1);else{const c=this.et(t);if(c!==i){const h=this.tt(e),f=h?this.nt(h,e,c):1;if(f!==0){this.Ye(t);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,p)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=t;let c,h;try{c=Va(i).toUint8Array()}catch(f){if(f instanceof VS)return Ul("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new Cy(c,a,l)}catch(f){return Ul(f instanceof tc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.Ee===0?null:h}nt(e,t,i){return t.ge.count===i-this.st(e,t.targetId)?0:2}st(e,t){const i=this.ke.getRemoteKeysForTarget(t);let a=0;return i.forEach(l=>{const c=this.ke.it(),h=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.ze(t,l,null),a++)}),a}ot(e){const t=new Map;this.qe.forEach((l,c)=>{const h=this.Xe(c);if(h){if(l.current&&Ng(h.target)){const f=new Pe(h.target.path);this._t(f).has(c)||this.ut(c,f)||this.ze(c,f,zn.newNoDocument(f,e))}l.ve&&(t.set(c,l.Fe()),l.Me())}});let i=nt();this.Ke.forEach((l,c)=>{let h=!0;c.forEachWhile(f=>{const p=this.Xe(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(l))}),this.Qe.forEach((l,c)=>c.setReadTime(e));const a=new ed(e,t,this.Ue,this.Qe,i);return this.Qe=js(),this.$e=Ff(),this.Ke=Ff(),this.Ue=new zt(at),a}Ge(e,t){if(!this.Je(e))return;const i=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,i),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,i){if(!this.Je(e))return;const a=this.He(e);this.ut(e,t)?a.xe(t,1):a.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),i&&(this.Qe=this.Qe.insert(t,i))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new jT,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new dn(at),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new dn(at),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||we("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new jT),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Ff(){return new zt(Pe.comparator)}function BT(){return new zt(Pe.comparator)}const L2={asc:"ASCENDING",desc:"DESCENDING"},U2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},V2={and:"AND",or:"OR"};class j2{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function kg(n,e){return n.useProto3Json||Qh(e)?e:{value:e}}function Ch(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mR(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function B2(n,e){return Ch(n,e.toTimestamp())}function Ki(n){return vt(!!n),He.fromTimestamp(function(t){const i=Ua(t);return new hn(i.seconds,i.nanos)}(n))}function Iy(n,e){return Pg(n,e).canonicalString()}function Pg(n,e){const t=function(a){return new Mt(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function pR(n){const e=Mt.fromString(n);return vt(ER(e)),e}function Mg(n,e){return Iy(n.databaseId,e.path)}function Ap(n,e){const t=pR(e);if(t.get(1)!==n.databaseId.projectId)throw new Se(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Se(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Pe(yR(t))}function gR(n,e){return Iy(n.databaseId,e)}function z2(n){const e=pR(n);return e.length===4?Mt.emptyPath():yR(e)}function Lg(n){return new Mt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function yR(n){return vt(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function zT(n,e,t){return{name:Mg(n,e),fields:t.value.mapValue.fields}}function q2(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:je()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(p,y){return p.useProto3Json?(vt(y===void 0||typeof y=="string"),kn.fromBase64String(y||"")):(vt(y===void 0||y instanceof Buffer||y instanceof Uint8Array),kn.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&function(p){const y=p.code===void 0?ce.UNKNOWN:fR(p.code);return new Se(y,p.message||"")}(c);t=new dR(i,a,l,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=Ap(n,i.document.name),l=Ki(i.document.updateTime),c=i.document.createTime?Ki(i.document.createTime):He.min(),h=new fr({mapValue:{fields:i.document.fields}}),f=zn.newFoundDocument(a,l,c,h),p=i.targetIds||[],y=i.removedTargetIds||[];t=new lh(p,y,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=Ap(n,i.document),l=i.readTime?Ki(i.readTime):He.min(),c=zn.newNoDocument(a,l),h=i.removedTargetIds||[];t=new lh([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=Ap(n,i.document),l=i.removedTargetIds||[];t=new lh([],l,a,null)}else{if(!("filter"in e))return je();{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new N2(a,l),h=i.targetId;t=new hR(h,c)}}return t}function F2(n,e){let t;if(e instanceof Dc)t={update:zT(n,e.key,e.value)};else if(e instanceof Ry)t={delete:Mg(n,e.key)};else if(e instanceof $a)t={update:zT(n,e.key,e.data),updateMask:Z2(e.fieldMask)};else{if(!(e instanceof I2))return je();t={verify:Mg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const h=c.transform;if(h instanceof Rh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof vc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof _c)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Ah)return{fieldPath:c.field.canonicalString(),increment:h.Ie};throw je()}(0,i))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:B2(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:je()}(n,e.precondition)),t}function H2(n,e){return n&&n.length>0?(vt(e!==void 0),n.map(t=>function(a,l){let c=a.updateTime?Ki(a.updateTime):Ki(l);return c.isEqual(He.min())&&(c=Ki(l)),new R2(c,a.transformResults||[])}(t,e))):[]}function $2(n,e){return{documents:[gR(n,e.path)]}}function G2(n,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=gR(n,a);const l=function(p){if(p.length!==0)return _R(di.create(p,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(p){if(p.length!==0)return p.map(y=>function(E){return{field:Ol(E.field),direction:Y2(E.dir)}}(y))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=kg(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ht:t,parent:a}}function K2(n){let e=z2(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){vt(i===1);const y=t.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];t.where&&(l=function(_){const E=vR(_);return E instanceof di&&QS(E)?E.getFilters():[E]}(t.where));let c=[];t.orderBy&&(c=function(_){return _.map(E=>function(P){return new wh(xl(P.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(E))}(t.orderBy));let h=null;t.limit&&(h=function(_){let E;return E=typeof _=="object"?_.value:_,Qh(E)?null:E}(t.limit));let f=null;t.startAt&&(f=function(_){const E=!!_.before,C=_.values||[];return new bh(C,E)}(t.startAt));let p=null;return t.endAt&&(p=function(_){const E=!_.before,C=_.values||[];return new bh(C,E)}(t.endAt)),h2(e,a,c,l,h,"F",f,p)}function Q2(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return je()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function vR(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=xl(t.unaryFilter.field);return an.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=xl(t.unaryFilter.field);return an.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=xl(t.unaryFilter.field);return an.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=xl(t.unaryFilter.field);return an.create(c,"!=",{nullValue:"NULL_VALUE"});default:return je()}}(n):n.fieldFilter!==void 0?function(t){return an.create(xl(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return je()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return di.create(t.compositeFilter.filters.map(i=>vR(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return je()}}(t.compositeFilter.op))}(n):je()}function Y2(n){return L2[n]}function W2(n){return U2[n]}function X2(n){return V2[n]}function Ol(n){return{fieldPath:n.canonicalString()}}function xl(n){return Dn.fromServerFormat(n.fieldPath)}function _R(n){return n instanceof an?function(t){if(t.op==="=="){if(IT(t.value))return{unaryFilter:{field:Ol(t.field),op:"IS_NAN"}};if(CT(t.value))return{unaryFilter:{field:Ol(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(IT(t.value))return{unaryFilter:{field:Ol(t.field),op:"IS_NOT_NAN"}};if(CT(t.value))return{unaryFilter:{field:Ol(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ol(t.field),op:W2(t.op),value:t.value}}}(n):n instanceof di?function(t){const i=t.getFilters().map(a=>_R(a));return i.length===1?i[0]:{compositeFilter:{op:X2(t.op),filters:i}}}(n):je()}function Z2(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function ER(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,t,i,a,l=He.min(),c=He.min(),h=kn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new Oa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Oa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Oa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Oa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e){this.Tt=e}}function eP(n){const e=K2({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Sh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(){this.Tn=new nP}addToCollectionParentIndex(e,t){return this.Tn.add(t),ue.resolve()}getCollectionParents(e,t){return ue.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ue.resolve()}deleteFieldIndex(e,t){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,t){return ue.resolve()}getDocumentsMatchingTarget(e,t){return ue.resolve(null)}getIndexType(e,t){return ue.resolve(0)}getFieldIndexes(e,t){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,t){return ue.resolve(La.min())}getMinOffsetFromCollectionGroup(e,t){return ue.resolve(La.min())}updateCollectionGroup(e,t,i){return ue.resolve()}updateIndexEntries(e,t){return ue.resolve()}}class nP{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new dn(Mt.comparator),l=!a.has(i);return this.index[t]=a.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new dn(Mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},TR=41943040;class cr{static withCacheSize(e){return new cr(e,cr.DEFAULT_COLLECTION_PERCENTILE,cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cr.DEFAULT_COLLECTION_PERCENTILE=10,cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cr.DEFAULT=new cr(TR,cr.DEFAULT_COLLECTION_PERCENTILE,cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cr.DISABLED=new cr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new zl(0)}static Un(){return new zl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="LruGarbageCollector",rP=1048576;function HT([n,e],[t,i]){const a=at(n,t);return a===0?at(e,i):a}class iP{constructor(e){this.Hn=e,this.buffer=new dn(HT),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();HT(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class sP{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){we(FT,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Yl(t)?we(FT,"Ignoring IndexedDB error during garbage collection: ",t):await Ql(t)}await this.er(3e5)})}}class aP{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return ue.resolve(Kh.ae);const i=new iP(t);return this.tr.forEachTarget(e,a=>i.Zn(a.sequenceNumber)).next(()=>this.tr.rr(e,a=>i.Zn(a))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.tr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(qT)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qT):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let i,a,l,c,h,f,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(e,a))).next(_=>(i=_,h=Date.now(),this.removeTargets(e,i,t))).next(_=>(l=_,f=Date.now(),this.removeOrphanedDocuments(e,i))).next(_=>(p=Date.now(),Cl()<=tt.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${l} targets in `+(f-h)+`ms
	Removed ${_} documents in `+(p-f)+`ms
Total Duration: ${p-y}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_})))}}function oP(n,e){return new aP(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(){this.changes=new zo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,zn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ue.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(i!==null&&lc(i.mutation,a,Rr.empty(),hn.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,nt()).next(()=>i))}getLocalViewOfDocuments(e,t,i=nt()){const a=Io();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,i).next(l=>{let c=ec();return l.forEach((h,f)=>{c=c.insert(h,f.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=Io();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,nt()))}populateOverlays(e,t,i){const a=[];return i.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,h)=>{t.set(c,h)})})}computeViews(e,t,i,a){let l=js();const c=oc(),h=function(){return oc()}();return t.forEach((f,p)=>{const y=i.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof $a)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),lc(y.mutation,p,y.mutation.getFieldMask(),hn.now())):c.set(p.key,Rr.empty())}),this.recalculateAndSaveOverlays(e,l).next(f=>(f.forEach((p,y)=>c.set(p,y)),t.forEach((p,y)=>{var _;return h.set(p,new uP(y,(_=c.get(p))!==null&&_!==void 0?_:null))}),h))}recalculateAndSaveOverlays(e,t){const i=oc();let a=new zt((c,h)=>c-h),l=nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const h of c)h.keys().forEach(f=>{const p=t.get(f);if(p===null)return;let y=i.get(f)||Rr.empty();y=h.applyToLocalView(p,y),i.set(f,y);const _=(a.get(h.batchId)||nt()).add(f);a=a.insert(h.batchId,_)})}).next(()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),p=f.key,y=f.value,_=rR();y.forEach(E=>{if(!l.has(E)){const C=uR(t.get(E),i.get(E));C!==null&&_.set(E,C),l=l.add(E)}}),c.push(this.documentOverlayCache.saveOverlays(e,p,_))}return ue.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,a){return function(c){return Pe.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ZS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-l.size):ue.resolve(Io());let h=mc,f=l;return c.next(p=>ue.forEach(p,(y,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),l.get(y)?ue.resolve():this.remoteDocumentCache.getEntry(e,y).next(E=>{f=f.insert(y,E)}))).next(()=>this.populateOverlays(e,p,l)).next(()=>this.computeViews(e,f,p,nt())).next(y=>({batchId:h,changes:nR(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Pe(t)).next(i=>{let a=ec();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const l=t.collectionGroup;let c=ec();return this.indexManager.getCollectionParents(e,l).next(h=>ue.forEach(h,f=>{const p=function(_,E){return new Nc(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,f.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,i,a).next(y=>{y.forEach((_,E)=>{c=c.insert(_,E)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,a))).next(c=>{l.forEach((f,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,zn.newInvalidDocument(y)))});let h=ec();return c.forEach((f,p)=>{const y=l.get(f);y!==void 0&&lc(y.mutation,p,Rr.empty(),hn.now()),Xh(t,p)&&(h=h.insert(f,p))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ue.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Ki(a.createTime)}}(t)),ue.resolve()}getNamedQuery(e,t){return ue.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(a){return{name:a.name,query:eP(a.bundledQuery),readTime:Ki(a.readTime)}}(t)),ue.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(){this.overlays=new zt(Pe.comparator),this.Rr=new Map}getOverlay(e,t){return ue.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Io();return ue.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&i.set(a,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((a,l)=>{this.Et(e,t,l)}),ue.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.Rr.get(i);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(i)),ue.resolve()}getOverlaysForCollection(e,t,i){const a=Io(),l=t.length+1,c=new Pe(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,p=f.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===l&&f.largestBatchId>i&&a.set(f.getKey(),f)}return ue.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let l=new zt((p,y)=>p-y);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>i){let y=l.get(p.largestBatchId);y===null&&(y=Io(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const h=Io(),f=l.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,y)=>h.set(p,y)),!(h.size()>=a)););return ue.resolve(h)}Et(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Rr.get(a.largestBatchId).delete(i.key);this.Rr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new x2(t,i));let l=this.Rr.get(t);l===void 0&&(l=nt(),this.Rr.set(t,l)),this.Rr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(){this.sessionToken=kn.EMPTY_BYTE_STRING}getSessionToken(e){return ue.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ue.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(){this.Vr=new dn(Sn.mr),this.gr=new dn(Sn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const i=new Sn(e,t);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.wr(new Sn(e,t))}Sr(e,t){e.forEach(i=>this.removeReference(i,t))}br(e){const t=new Pe(new Mt([])),i=new Sn(t,e),a=new Sn(t,e+1),l=[];return this.gr.forEachInRange([i,a],c=>{this.wr(c),l.push(c.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Pe(new Mt([])),i=new Sn(t,e),a=new Sn(t,e+1);let l=nt();return this.gr.forEachInRange([i,a],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new Sn(e,0),i=this.Vr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Sn{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Pe.comparator(e.key,t.key)||at(e.Cr,t.Cr)}static pr(e,t){return at(e.Cr,t.Cr)||Pe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new dn(Sn.mr)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new O2(l,t,i,a);this.mutationQueue.push(c);for(const h of a)this.Mr=this.Mr.add(new Sn(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ue.resolve(c)}lookupMutationBatch(e,t){return ue.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.Nr(i),l=a<0?0:a;return ue.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?vy:this.Fr-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Sn(t,0),a=new Sn(t,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([i,a],c=>{const h=this.Or(c.Cr);l.push(h)}),ue.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new dn(at);return t.forEach(a=>{const l=new Sn(a,0),c=new Sn(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,c],h=>{i=i.add(h.Cr)})}),ue.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let l=i;Pe.isDocumentKey(l)||(l=l.child(""));const c=new Sn(new Pe(l),0);let h=new dn(at);return this.Mr.forEachWhile(f=>{const p=f.key.path;return!!i.isPrefixOf(p)&&(p.length===a&&(h=h.add(f.Cr)),!0)},c),ue.resolve(this.Br(h))}Br(e){const t=[];return e.forEach(i=>{const a=this.Or(i);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){vt(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return ue.forEach(t.mutations,a=>{const l=new Sn(a.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,t){const i=new Sn(t,0),a=this.Mr.firstAfterOrEqual(i);return ue.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e){this.kr=e,this.docs=function(){return new zt(Pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),l=a?a.size:0,c=this.kr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ue.resolve(i?i.document.mutableCopy():zn.newInvalidDocument(t))}getEntries(e,t){let i=js();return t.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():zn.newInvalidDocument(a))}),ue.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let l=js();const c=t.path,h=new Pe(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:p,value:{document:y}}=f.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||Hk(Fk(y),i)<=0||(a.has(y.key)||Xh(t,y))&&(l=l.insert(y.key,y.mutableCopy()))}return ue.resolve(l)}getAllFromCollectionGroup(e,t,i,a){je()}qr(e,t){return ue.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new gP(this)}getSize(e){return ue.resolve(this.size)}}class gP extends lP{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?t.push(this.Ir.addEntry(e,a)):this.Ir.removeEntry(i)}),ue.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e){this.persistence=e,this.Qr=new zo(t=>Ty(t),by),this.lastRemoteSnapshotVersion=He.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Oy,this.targetCount=0,this.Ur=zl.Kn()}forEachTarget(e,t){return this.Qr.forEach((i,a)=>t(a)),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.$r&&(this.$r=t),ue.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new zl(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ue.resolve()}updateTargetData(e,t){return this.zn(t),ue.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,t,i){let a=0;const l=[];return this.Qr.forEach((c,h)=>{h.sequenceNumber<=t&&i.get(h.targetId)===null&&(this.Qr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)}),ue.waitFor(l).next(()=>a)}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,t){const i=this.Qr.get(t)||null;return ue.resolve(i)}addMatchingKeys(e,t,i){return this.Kr.yr(t,i),ue.resolve()}removeMatchingKeys(e,t,i){this.Kr.Sr(t,i);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),ue.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),ue.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Kr.vr(t);return ue.resolve(i)}containsKey(e,t){return ue.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Kh(0),this.zr=!1,this.zr=!0,this.jr=new dP,this.referenceDelegate=e(this),this.Hr=new yP(this),this.indexManager=new tP,this.remoteDocumentCache=function(a){return new pP(a)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new J2(t),this.Yr=new fP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new hP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Wr[e.toKey()];return i||(i=new mP(t,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,i){we("MemoryPersistence","Starting transaction:",e);const a=new vP(this.Gr.next());return this.referenceDelegate.Zr(),i(a).next(l=>this.referenceDelegate.Xr(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}ei(e,t){return ue.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,t)))}}class vP extends Gk{constructor(e){super(),this.currentSequenceNumber=e}}class xy{constructor(e){this.persistence=e,this.ti=new Oy,this.ni=null}static ri(e){return new xy(e)}get ii(){if(this.ni)return this.ni;throw je()}addReference(e,t,i){return this.ti.addReference(i,t),this.ii.delete(i.toString()),ue.resolve()}removeReference(e,t,i){return this.ti.removeReference(i,t),this.ii.add(i.toString()),ue.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ue.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(a=>this.ii.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.ii.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.ii,i=>{const a=Pe.fromPath(i);return this.si(e,a).next(l=>{l||t.removeEntry(a,He.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(i=>{i?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return ue.or([()=>ue.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Ih{constructor(e,t){this.persistence=e,this.oi=new zo(i=>Yk(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=oP(this,t)}static ri(e,t){return new Ih(e,t)}Zr(){}Xr(e){return ue.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(a=>i+a))}sr(e){let t=0;return this.rr(e,i=>{t++}).next(()=>t)}rr(e,t){return ue.forEach(this.oi,(i,a)=>this.ar(e,i,a).next(l=>l?ue.resolve():t(a)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.qr(e,c=>this.ar(e,c,t).next(h=>{h||(i++,l.removeEntry(c,He.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ue.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),ue.resolve()}removeReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),ue.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ue.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=sh(e.data.value)),t}ar(e,t,i){return ue.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.oi.get(t);return ue.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.Hi=i,this.Ji=a}static Yi(e,t){let i=nt(),a=nt();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Ny(e,t.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return tx()?8:Kk(qn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,i,a){const l={result:null};return this.rs(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ss(e,t,a,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new _P;return this._s(e,t,c).next(h=>{if(l.result=h,this.Xi)return this.us(e,t,c,h.size)})}).next(()=>l.result)}us(e,t,i,a){return i.documentReadCount<this.es?(Cl()<=tt.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",Il(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ue.resolve()):(Cl()<=tt.DEBUG&&we("QueryEngine","Query:",Il(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ts*a?(Cl()<=tt.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",Il(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gi(t))):ue.resolve())}rs(e,t){if(DT(t))return ue.resolve(null);let i=Gi(t);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=Sh(t,null,"F"),i=Gi(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=nt(...l);return this.ns.getDocuments(e,c).next(h=>this.indexManager.getMinOffset(e,i).next(f=>{const p=this.cs(t,h);return this.ls(t,p,c,f.readTime)?this.rs(e,Sh(t,null,"F")):this.hs(e,p,t,f)}))})))}ss(e,t,i,a){return DT(t)||a.isEqual(He.min())?ue.resolve(null):this.ns.getDocuments(e,i).next(l=>{const c=this.cs(t,l);return this.ls(t,c,i,a)?ue.resolve(null):(Cl()<=tt.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Il(t)),this.hs(e,c,t,qk(a,mc)).next(h=>h))})}cs(e,t){let i=new dn(eR(e));return t.forEach((a,l)=>{Xh(e,l)&&(i=i.add(l))}),i}ls(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}_s(e,t,i){return Cl()<=tt.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",Il(t)),this.ns.getDocumentsMatchingQuery(e,t,La.min(),i)}hs(e,t,i,a){return this.ns.getDocumentsMatchingQuery(e,i,a).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy="LocalStore",TP=3e8;class bP{constructor(e,t,i,a){this.persistence=e,this.Ps=t,this.serializer=a,this.Ts=new zt(at),this.Is=new zo(l=>Ty(l),by),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cP(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function wP(n,e,t,i){return new bP(n,e,t,i)}async function wR(n,e){const t=Ke(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next(l=>(a=l,t.As(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],h=[];let f=nt();for(const p of a){c.push(p.batchId);for(const y of p.mutations)f=f.add(y.key)}for(const p of l){h.push(p.batchId);for(const y of p.mutations)f=f.add(y.key)}return t.localDocuments.getDocuments(i,f).next(p=>({Rs:p,removedBatchIds:c,addedBatchIds:h}))})})}function SP(n,e){const t=Ke(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),l=t.ds.newChangeBuffer({trackRemovals:!0});return function(h,f,p,y){const _=p.batch,E=_.keys();let C=ue.resolve();return E.forEach(P=>{C=C.next(()=>y.getEntry(f,P)).next($=>{const j=p.docVersions.get(P);vt(j!==null),$.version.compareTo(j)<0&&(_.applyToRemoteDocument($,p),$.isValidDocument()&&($.setReadTime(p.commitVersion),y.addEntry($)))})}),C.next(()=>h.mutationQueue.removeMutationBatch(f,_))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let f=nt();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(f=f.add(h.batch.mutations[p].key));return f}(e))).next(()=>t.localDocuments.getDocuments(i,a))})}function SR(n){const e=Ke(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function RP(n,e){const t=Ke(n),i=e.snapshotVersion;let a=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.ds.newChangeBuffer({trackRemovals:!0});a=t.Ts;const h=[];e.targetChanges.forEach((y,_)=>{const E=a.get(_);if(!E)return;h.push(t.Hr.removeMatchingKeys(l,y.removedDocuments,_).next(()=>t.Hr.addMatchingKeys(l,y.addedDocuments,_)));let C=E.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?C=C.withResumeToken(kn.EMPTY_BYTE_STRING,He.min()).withLastLimboFreeSnapshotVersion(He.min()):y.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(y.resumeToken,i)),a=a.insert(_,C),function($,j,H){return $.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=TP?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(E,C,y)&&h.push(t.Hr.updateTargetData(l,C))});let f=js(),p=nt();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(l,y))}),h.push(AP(l,c,e.documentUpdates).next(y=>{f=y.Vs,p=y.fs})),!i.isEqual(He.min())){const y=t.Hr.getLastRemoteSnapshotVersion(l).next(_=>t.Hr.setTargetsMetadata(l,l.currentSequenceNumber,i));h.push(y)}return ue.waitFor(h).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,f,p)).next(()=>f)}).then(l=>(t.Ts=a,l))}function AP(n,e,t){let i=nt(),a=nt();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=js();return t.forEach((h,f)=>{const p=l.get(h);f.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(h)),f.isNoDocument()&&f.version.isEqual(He.min())?(e.removeEntry(h,f.readTime),c=c.insert(h,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),c=c.insert(h,f)):we(Dy,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",f.version)}),{Vs:c,fs:a}})}function CP(n,e){const t=Ke(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=vy),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function IP(n,e){const t=Ke(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return t.Hr.getTargetData(i,e).next(l=>l?(a=l,ue.resolve(a)):t.Hr.allocateTargetId(i).next(c=>(a=new Oa(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Hr.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=t.Ts.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(i.targetId,i),t.Is.set(e,i.targetId)),i})}async function Ug(n,e,t){const i=Ke(n),a=i.Ts.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!Yl(c))throw c;we(Dy,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ts=i.Ts.remove(e),i.Is.delete(a.target)}function $T(n,e,t){const i=Ke(n);let a=He.min(),l=nt();return i.persistence.runTransaction("Execute query","readwrite",c=>function(f,p,y){const _=Ke(f),E=_.Is.get(y);return E!==void 0?ue.resolve(_.Ts.get(E)):_.Hr.getTargetData(p,y)}(i,c,Gi(e)).next(h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(c,h.targetId).next(f=>{l=f})}).next(()=>i.Ps.getDocumentsMatchingQuery(c,e,t?a:He.min(),t?l:nt())).next(h=>(OP(i,m2(e),h),{documents:h,gs:l})))}function OP(n,e,t){let i=n.Es.get(e)||He.min();t.forEach((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.Es.set(e,i)}class GT{constructor(){this.activeTargetIds=E2()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xP{constructor(){this.ho=new GT,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,i){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new GT,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="ConnectivityMonitor";class QT{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){we(KT,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){we(KT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hf=null;function Vg(){return Hf===null?Hf=function(){return 268435456+Math.round(2147483648*Math.random())}():Hf++,"0x"+Hf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp="RestConnection",DP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kP{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${i}/databases/${a}`,this.wo=this.databaseId.database===Eh?`project_id=${i}`:`project_id=${i}&database_id=${a}`}So(e,t,i,a,l){const c=Vg(),h=this.bo(e,t.toUriEncodedString());we(Cp,`Sending RPC '${e}' ${c}:`,h,i);const f={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(f,a,l),this.vo(e,h,f,i).then(p=>(we(Cp,`Received RPC '${e}' ${c}: `,p),p),p=>{throw Ul(Cp,`RPC '${e}' ${c} failed with error: `,p,"url: ",h,"request:",i),p})}Co(e,t,i,a,l,c){return this.So(e,t,i,a,l)}Do(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Kl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),i&&i.headers.forEach((a,l)=>e[l]=a)}bo(e,t){const i=DP[e];return`${this.po}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jn="WebChannelConnection";class MP extends kP{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,i,a){const l=Vg();return new Promise((c,h)=>{const f=new OS;f.setWithCredentials(!0),f.listenOnce(xS.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case ih.NO_ERROR:const y=f.getResponseJson();we(jn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),c(y);break;case ih.TIMEOUT:we(jn,`RPC '${e}' ${l} timed out`),h(new Se(ce.DEADLINE_EXCEEDED,"Request time out"));break;case ih.HTTP_ERROR:const _=f.getStatus();if(we(jn,`RPC '${e}' ${l} failed with status:`,_,"response text:",f.getResponseText()),_>0){let E=f.getResponseJson();Array.isArray(E)&&(E=E[0]);const C=E==null?void 0:E.error;if(C&&C.status&&C.message){const P=function(j){const H=j.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(H)>=0?H:ce.UNKNOWN}(C.status);h(new Se(P,C.message))}else h(new Se(ce.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new Se(ce.UNAVAILABLE,"Connection failed."));break;default:je()}}finally{we(jn,`RPC '${e}' ${l} completed.`)}});const p=JSON.stringify(a);we(jn,`RPC '${e}' ${l} sending request:`,a),f.send(t,"POST",p,i,15)})}Wo(e,t,i){const a=Vg(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=kS(),h=DS(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Do(f.initMessageHeaders,t,i),f.encodeInitMessageHeaders=!0;const y=l.join("");we(jn,`Creating RPC '${e}' stream ${a}: ${y}`,f);const _=c.createWebChannel(y,f);let E=!1,C=!1;const P=new PP({Fo:j=>{C?we(jn,`Not sending because RPC '${e}' stream ${a} is closed:`,j):(E||(we(jn,`Opening RPC '${e}' stream ${a} transport.`),_.open(),E=!0),we(jn,`RPC '${e}' stream ${a} sending:`,j),_.send(j))},Mo:()=>_.close()}),$=(j,H,Y)=>{j.listen(H,z=>{try{Y(z)}catch(re){setTimeout(()=>{throw re},0)}})};return $(_,Ju.EventType.OPEN,()=>{C||(we(jn,`RPC '${e}' stream ${a} transport opened.`),P.Qo())}),$(_,Ju.EventType.CLOSE,()=>{C||(C=!0,we(jn,`RPC '${e}' stream ${a} transport closed`),P.Ko())}),$(_,Ju.EventType.ERROR,j=>{C||(C=!0,Ul(jn,`RPC '${e}' stream ${a} transport errored:`,j),P.Ko(new Se(ce.UNAVAILABLE,"The operation could not be completed")))}),$(_,Ju.EventType.MESSAGE,j=>{var H;if(!C){const Y=j.data[0];vt(!!Y);const z=Y,re=(z==null?void 0:z.error)||((H=z[0])===null||H===void 0?void 0:H.error);if(re){we(jn,`RPC '${e}' stream ${a} received error:`,re);const se=re.status;let fe=function(R){const M=sn[R];if(M!==void 0)return fR(M)}(se),U=re.message;fe===void 0&&(fe=ce.INTERNAL,U="Unknown error status: "+se+" with message "+re.message),C=!0,P.Ko(new Se(fe,U)),_.close()}else we(jn,`RPC '${e}' stream ${a} received:`,Y),P.Uo(Y)}}),$(h,NS.STAT_EVENT,j=>{j.stat===Cg.PROXY?we(jn,`RPC '${e}' stream ${a} detected buffering proxy`):j.stat===Cg.NOPROXY&&we(jn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{P.$o()},0),P}}function Ip(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function td(n){return new j2(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e,t,i=1e3,a=1.5,l=6e4){this.Ti=e,this.timerId=t,this.Go=i,this.zo=a,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),a=Math.max(0,t-i);a>0&&we("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT="PersistentStream";class AR{constructor(e,t,i,a,l,c,h,f){this.Ti=e,this.n_=i,this.r_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new RR(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===ce.RESOURCE_EXHAUSTED?(Vs(t.toString()),Vs("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.i_===t&&this.V_(i,a)},i=>{e(()=>{const a=new Se(ce.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(a)})})}V_(e,t){const i=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{i(()=>this.m_(a))}),this.stream.onMessage(a=>{i(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return we(YT,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(we(YT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class LP extends AR{constructor(e,t,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=q2(this.serializer,e),i=function(l){if(!("targetChange"in l))return He.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?He.min():c.readTime?Ki(c.readTime):He.min()}(e);return this.listener.p_(t,i)}y_(e){const t={};t.database=Lg(this.serializer),t.addTarget=function(l,c){let h;const f=c.target;if(h=Ng(f)?{documents:$2(l,f)}:{query:G2(l,f).ht},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=mR(l,c.resumeToken);const p=kg(l,c.expectedCount);p!==null&&(h.expectedCount=p)}else if(c.snapshotVersion.compareTo(He.min())>0){h.readTime=Ch(l,c.snapshotVersion.toTimestamp());const p=kg(l,c.expectedCount);p!==null&&(h.expectedCount=p)}return h}(this.serializer,e);const i=Q2(this.serializer,e);i&&(t.labels=i),this.I_(t)}w_(e){const t={};t.database=Lg(this.serializer),t.removeTarget=e,this.I_(t)}}class UP extends AR{constructor(e,t,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return vt(!!e.streamToken),this.lastStreamToken=e.streamToken,vt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){vt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=H2(e.writeResults,e.commitTime),i=Ki(e.commitTime);return this.listener.v_(i,t)}C_(){const e={};e.database=Lg(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>F2(this.serializer,i))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{}class jP extends VP{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new Se(ce.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,i,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.So(e,Pg(t,i),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Se(ce.UNKNOWN,l.toString())})}Co(e,t,i,a,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.Co(e,Pg(t,i),a,c,h,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Se(ce.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class BP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Vs(t),this.N_=!1):we("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo="RemoteStore";class zP{constructor(e,t,i,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(c=>{i.enqueueAndForget(async()=>{qo(this)&&(we(Mo,"Restarting streams for network reachability change."),await async function(f){const p=Ke(f);p.W_.add(4),await Pc(p),p.j_.set("Unknown"),p.W_.delete(4),await nd(p)}(this))})}),this.j_=new BP(i,a)}}async function nd(n){if(qo(n))for(const e of n.G_)await e(!0)}async function Pc(n){for(const e of n.G_)await e(!1)}function CR(n,e){const t=Ke(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),Ly(t)?My(t):Wl(t).c_()&&Py(t,e))}function ky(n,e){const t=Ke(n),i=Wl(t);t.U_.delete(e),i.c_()&&IR(t,e),t.U_.size===0&&(i.c_()?i.P_():qo(t)&&t.j_.set("Unknown"))}function Py(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(He.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Wl(n).y_(e)}function IR(n,e){n.H_.Ne(e),Wl(n).w_(e)}function My(n){n.H_=new M2({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),Wl(n).start(),n.j_.B_()}function Ly(n){return qo(n)&&!Wl(n).u_()&&n.U_.size>0}function qo(n){return Ke(n).W_.size===0}function OR(n){n.H_=void 0}async function qP(n){n.j_.set("Online")}async function FP(n){n.U_.forEach((e,t)=>{Py(n,e)})}async function HP(n,e){OR(n),Ly(n)?(n.j_.q_(e),My(n)):n.j_.set("Unknown")}async function $P(n,e,t){if(n.j_.set("Online"),e instanceof dR&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const h of l.targetIds)a.U_.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a.U_.delete(h),a.H_.removeTarget(h))}(n,e)}catch(i){we(Mo,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Oh(n,i)}else if(e instanceof lh?n.H_.We(e):e instanceof hR?n.H_.Ze(e):n.H_.je(e),!t.isEqual(He.min()))try{const i=await SR(n.localStore);t.compareTo(i)>=0&&await function(l,c){const h=l.H_.ot(c);return h.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const y=l.U_.get(p);y&&l.U_.set(p,y.withResumeToken(f.resumeToken,c))}}),h.targetMismatches.forEach((f,p)=>{const y=l.U_.get(f);if(!y)return;l.U_.set(f,y.withResumeToken(kn.EMPTY_BYTE_STRING,y.snapshotVersion)),IR(l,f);const _=new Oa(y.target,f,p,y.sequenceNumber);Py(l,_)}),l.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(i){we(Mo,"Failed to raise snapshot:",i),await Oh(n,i)}}async function Oh(n,e,t){if(!Yl(e))throw e;n.W_.add(1),await Pc(n),n.j_.set("Offline"),t||(t=()=>SR(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{we(Mo,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await nd(n)})}function xR(n,e){return e().catch(t=>Oh(n,t,e))}async function rd(n){const e=Ke(n),t=Ba(e);let i=e.K_.length>0?e.K_[e.K_.length-1].batchId:vy;for(;GP(e);)try{const a=await CP(e.localStore,i);if(a===null){e.K_.length===0&&t.P_();break}i=a.batchId,KP(e,a)}catch(a){await Oh(e,a)}NR(e)&&DR(e)}function GP(n){return qo(n)&&n.K_.length<10}function KP(n,e){n.K_.push(e);const t=Ba(n);t.c_()&&t.S_&&t.b_(e.mutations)}function NR(n){return qo(n)&&!Ba(n).u_()&&n.K_.length>0}function DR(n){Ba(n).start()}async function QP(n){Ba(n).C_()}async function YP(n){const e=Ba(n);for(const t of n.K_)e.b_(t.mutations)}async function WP(n,e,t){const i=n.K_.shift(),a=Ay.from(i,e,t);await xR(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await rd(n)}async function XP(n,e){e&&Ba(n).S_&&await async function(i,a){if(function(c){return D2(c)&&c!==ce.ABORTED}(a.code)){const l=i.K_.shift();Ba(i).h_(),await xR(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a)),await rd(i)}}(n,e),NR(n)&&DR(n)}async function WT(n,e){const t=Ke(n);t.asyncQueue.verifyOperationInProgress(),we(Mo,"RemoteStore received new credentials");const i=qo(t);t.W_.add(3),await Pc(t),i&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await nd(t)}async function ZP(n,e){const t=Ke(n);e?(t.W_.delete(2),await nd(t)):e||(t.W_.add(2),await Pc(t),t.j_.set("Unknown"))}function Wl(n){return n.J_||(n.J_=function(t,i,a){const l=Ke(t);return l.M_(),new LP(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{xo:qP.bind(null,n),No:FP.bind(null,n),Lo:HP.bind(null,n),p_:$P.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),Ly(n)?My(n):n.j_.set("Unknown")):(await n.J_.stop(),OR(n))})),n.J_}function Ba(n){return n.Y_||(n.Y_=function(t,i,a){const l=Ke(t);return l.M_(),new UP(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:QP.bind(null,n),Lo:XP.bind(null,n),D_:YP.bind(null,n),v_:WP.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await rd(n)):(await n.Y_.stop(),n.K_.length>0&&(we(Mo,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e,t,i,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new ks,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,l){const c=Date.now()+i,h=new Uy(e,t,c,a,l);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vy(n,e){if(Vs("AsyncQueue",`${e}: ${n}`),Yl(n))return new Se(ce.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{static emptySet(e){return new Ll(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Pe.comparator(t.key,i.key):(t,i)=>Pe.comparator(t.key,i.key),this.keyedMap=ec(),this.sortedSet=new zt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ll)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Ll;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(){this.Z_=new zt(Pe.comparator)}track(e){const t=e.doc.key,i=this.Z_.get(t);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(t):e.type===1&&i.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):je():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class ql{constructor(e,t,i,a,l,c,h,f,p){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,t,i,a,l){const c=[];return t.forEach(h=>{c.push({type:0,doc:h})}),new ql(e,t,Ll.emptySet(t),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class eM{constructor(){this.queries=ZT(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,i){const a=Ke(t),l=a.queries;a.queries=ZT(),l.forEach((c,h)=>{for(const f of h.ta)f.onError(i)})})(this,new Se(ce.ABORTED,"Firestore shutting down"))}}function ZT(){return new zo(n=>JS(n),Wh)}async function kR(n,e){const t=Ke(n);let i=3;const a=e.query;let l=t.queries.get(a);l?!l.na()&&e.ra()&&(i=2):(l=new JP,i=e.ra()?0:1);try{switch(i){case 0:l.ea=await t.onListen(a,!0);break;case 1:l.ea=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const h=Vy(c,`Initialization of query '${Il(e.query)}' failed`);return void e.onError(h)}t.queries.set(a,l),l.ta.push(e),e.sa(t.onlineState),l.ea&&e.oa(l.ea)&&jy(t)}async function PR(n,e){const t=Ke(n),i=e.query;let a=3;const l=t.queries.get(i);if(l){const c=l.ta.indexOf(e);c>=0&&(l.ta.splice(c,1),l.ta.length===0?a=e.ra()?0:1:!l.na()&&e.ra()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function tM(n,e){const t=Ke(n);let i=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const h of c.ta)h.oa(a)&&(i=!0);c.ea=a}}i&&jy(t)}function nM(n,e,t){const i=Ke(n),a=i.queries.get(e);if(a)for(const l of a.ta)l.onError(t);i.queries.delete(e)}function jy(n){n.ia.forEach(e=>{e.next()})}var jg,JT;(JT=jg||(jg={}))._a="default",JT.Cache="cache";class MR{constructor(e,t,i){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new ql(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const i=t!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=ql.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==jg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e){this.key=e}}class UR{constructor(e){this.key=e}}class rM{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=nt(),this.mutatedKeys=nt(),this.ya=eR(e),this.wa=new Ll(this.ya)}get Sa(){return this.fa}ba(e,t){const i=t?t.Da:new XT,a=t?t.wa:this.wa;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,h=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((y,_)=>{const E=a.get(y),C=Xh(this.query,_)?_:null,P=!!E&&this.mutatedKeys.has(E.key),$=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let j=!1;E&&C?E.data.isEqual(C.data)?P!==$&&(i.track({type:3,doc:C}),j=!0):this.va(E,C)||(i.track({type:2,doc:C}),j=!0,(f&&this.ya(C,f)>0||p&&this.ya(C,p)<0)&&(h=!0)):!E&&C?(i.track({type:0,doc:C}),j=!0):E&&!C&&(i.track({type:1,doc:E}),j=!0,(f||p)&&(h=!0)),j&&(C?(c=c.add(C),l=$?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),i.track({type:1,doc:y})}return{wa:c,Da:i,ls:h,mutatedKeys:l}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const c=e.Da.X_();c.sort((y,_)=>function(C,P){const $=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return je()}};return $(C)-$(P)}(y.type,_.type)||this.ya(y.doc,_.doc)),this.Ca(i),a=a!=null&&a;const h=t&&!a?this.Fa():[],f=this.pa.size===0&&this.current&&!a?1:0,p=f!==this.ga;return this.ga=f,c.length!==0||p?{snapshot:new ql(this.query,e.wa,l,c,e.mutatedKeys,f===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:h}:{Ma:h}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new XT,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=nt(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const t=[];return e.forEach(i=>{this.pa.has(i)||t.push(new UR(i))}),this.pa.forEach(i=>{e.has(i)||t.push(new LR(i))}),t}Oa(e){this.fa=e.gs,this.pa=nt();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return ql.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const By="SyncEngine";class iM{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class sM{constructor(e){this.key=e,this.Ba=!1}}class aM{constructor(e,t,i,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new zo(h=>JS(h),Wh),this.qa=new Map,this.Qa=new Set,this.$a=new zt(Pe.comparator),this.Ka=new Map,this.Ua=new Oy,this.Wa={},this.Ga=new Map,this.za=zl.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function oM(n,e,t=!0){const i=FR(n);let a;const l=i.ka.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.Na()):a=await VR(i,e,t,!0),a}async function lM(n,e){const t=FR(n);await VR(t,e,!0,!1)}async function VR(n,e,t,i){const a=await IP(n.localStore,Gi(e)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let h;return i&&(h=await uM(n,e,l,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&CR(n.remoteStore,a),h}async function uM(n,e,t,i,a){n.Ha=(_,E,C)=>async function($,j,H,Y){let z=j.view.ba(H);z.ls&&(z=await $T($.localStore,j.query,!1).then(({documents:U})=>j.view.ba(U,z)));const re=Y&&Y.targetChanges.get(j.targetId),se=Y&&Y.targetMismatches.get(j.targetId)!=null,fe=j.view.applyChanges(z,$.isPrimaryClient,re,se);return tb($,j.targetId,fe.Ma),fe.snapshot}(n,_,E,C);const l=await $T(n.localStore,e,!0),c=new rM(e,l.gs),h=c.ba(l.documents),f=kc.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",a),p=c.applyChanges(h,n.isPrimaryClient,f);tb(n,t,p.Ma);const y=new iM(e,t,c);return n.ka.set(e,y),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),p.snapshot}async function cM(n,e,t){const i=Ke(n),a=i.ka.get(e),l=i.qa.get(a.targetId);if(l.length>1)return i.qa.set(a.targetId,l.filter(c=>!Wh(c,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Ug(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),t&&ky(i.remoteStore,a.targetId),Bg(i,a.targetId)}).catch(Ql)):(Bg(i,a.targetId),await Ug(i.localStore,a.targetId,!0))}async function fM(n,e){const t=Ke(n),i=t.ka.get(e),a=t.qa.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),ky(t.remoteStore,i.targetId))}async function hM(n,e,t){const i=_M(n);try{const a=await function(c,h){const f=Ke(c),p=hn.now(),y=h.reduce((C,P)=>C.add(P.key),nt());let _,E;return f.persistence.runTransaction("Locally write mutations","readwrite",C=>{let P=js(),$=nt();return f.ds.getEntries(C,y).next(j=>{P=j,P.forEach((H,Y)=>{Y.isValidDocument()||($=$.add(H))})}).next(()=>f.localDocuments.getOverlayedDocuments(C,P)).next(j=>{_=j;const H=[];for(const Y of h){const z=C2(Y,_.get(Y.key).overlayedDocument);z!=null&&H.push(new $a(Y.key,z,$S(z.value.mapValue),fi.exists(!0)))}return f.mutationQueue.addMutationBatch(C,p,H,h)}).next(j=>{E=j;const H=j.applyToLocalDocumentSet(_,$);return f.documentOverlayCache.saveOverlays(C,j.batchId,H)})}).then(()=>({batchId:E.batchId,changes:nR(_)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(c,h,f){let p=c.Wa[c.currentUser.toKey()];p||(p=new zt(at)),p=p.insert(h,f),c.Wa[c.currentUser.toKey()]=p}(i,a.batchId,t),await Mc(i,a.changes),await rd(i.remoteStore)}catch(a){const l=Vy(a,"Failed to persist write");t.reject(l)}}async function jR(n,e){const t=Ke(n);try{const i=await RP(t.localStore,e);e.targetChanges.forEach((a,l)=>{const c=t.Ka.get(l);c&&(vt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?c.Ba=!0:a.modifiedDocuments.size>0?vt(c.Ba):a.removedDocuments.size>0&&(vt(c.Ba),c.Ba=!1))}),await Mc(t,i,e)}catch(i){await Ql(i)}}function eb(n,e,t){const i=Ke(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.ka.forEach((l,c)=>{const h=c.view.sa(e);h.snapshot&&a.push(h.snapshot)}),function(c,h){const f=Ke(c);f.onlineState=h;let p=!1;f.queries.forEach((y,_)=>{for(const E of _.ta)E.sa(h)&&(p=!0)}),p&&jy(f)}(i.eventManager,e),a.length&&i.La.p_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function dM(n,e,t){const i=Ke(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Ka.get(e),l=a&&a.key;if(l){let c=new zt(Pe.comparator);c=c.insert(l,zn.newNoDocument(l,He.min()));const h=nt().add(l),f=new ed(He.min(),new Map,new zt(at),c,h);await jR(i,f),i.$a=i.$a.remove(l),i.Ka.delete(e),zy(i)}else await Ug(i.localStore,e,!1).then(()=>Bg(i,e,t)).catch(Ql)}async function mM(n,e){const t=Ke(n),i=e.batch.batchId;try{const a=await SP(t.localStore,e);zR(t,i,null),BR(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Mc(t,a)}catch(a){await Ql(a)}}async function pM(n,e,t){const i=Ke(n);try{const a=await function(c,h){const f=Ke(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return f.mutationQueue.lookupMutationBatch(p,h).next(_=>(vt(_!==null),y=_.keys(),f.mutationQueue.removeMutationBatch(p,_))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,y,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>f.localDocuments.getDocuments(p,y))})}(i.localStore,e);zR(i,e,t),BR(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Mc(i,a)}catch(a){await Ql(a)}}function BR(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function zR(n,e,t){const i=Ke(n);let a=i.Wa[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),i.Wa[i.currentUser.toKey()]=a}}function Bg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.qa.get(e))n.ka.delete(i),t&&n.La.Ja(i,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.br(e).forEach(i=>{n.Ua.containsKey(i)||qR(n,i)})}function qR(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(ky(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),zy(n))}function tb(n,e,t){for(const i of t)i instanceof LR?(n.Ua.addReference(i.key,e),gM(n,i)):i instanceof UR?(we(By,"Document no longer in limbo: "+i.key),n.Ua.removeReference(i.key,e),n.Ua.containsKey(i.key)||qR(n,i.key)):je()}function gM(n,e){const t=e.key,i=t.path.canonicalString();n.$a.get(t)||n.Qa.has(i)||(we(By,"New document in limbo: "+t),n.Qa.add(i),zy(n))}function zy(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new Pe(Mt.fromString(e)),i=n.za.next();n.Ka.set(i,new sM(t)),n.$a=n.$a.insert(t,i),CR(n.remoteStore,new Oa(Gi(wy(t.path)),i,"TargetPurposeLimboResolution",Kh.ae))}}async function Mc(n,e,t){const i=Ke(n),a=[],l=[],c=[];i.ka.isEmpty()||(i.ka.forEach((h,f)=>{c.push(i.Ha(f,e,t).then(p=>{var y;if((p||t)&&i.isPrimaryClient){const _=p?!p.fromCache:(y=t==null?void 0:t.targetChanges.get(f.targetId))===null||y===void 0?void 0:y.current;i.sharedClientState.updateQueryState(f.targetId,_?"current":"not-current")}if(p){a.push(p);const _=Ny.Yi(f.targetId,p);l.push(_)}}))}),await Promise.all(c),i.La.p_(a),await async function(f,p){const y=Ke(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>ue.forEach(p,E=>ue.forEach(E.Hi,C=>y.persistence.referenceDelegate.addReference(_,E.targetId,C)).next(()=>ue.forEach(E.Ji,C=>y.persistence.referenceDelegate.removeReference(_,E.targetId,C)))))}catch(_){if(!Yl(_))throw _;we(Dy,"Failed to update sequence numbers: "+_)}for(const _ of p){const E=_.targetId;if(!_.fromCache){const C=y.Ts.get(E),P=C.snapshotVersion,$=C.withLastLimboFreeSnapshotVersion(P);y.Ts=y.Ts.insert(E,$)}}}(i.localStore,l))}async function yM(n,e){const t=Ke(n);if(!t.currentUser.isEqual(e)){we(By,"User change. New user:",e.toKey());const i=await wR(t.localStore,e);t.currentUser=e,function(l,c){l.Ga.forEach(h=>{h.forEach(f=>{f.reject(new Se(ce.CANCELLED,c))})}),l.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Mc(t,i.Rs)}}function vM(n,e){const t=Ke(n),i=t.Ka.get(e);if(i&&i.Ba)return nt().add(i.key);{let a=nt();const l=t.qa.get(e);if(!l)return a;for(const c of l){const h=t.ka.get(c);a=a.unionWith(h.view.Sa)}return a}}function FR(n){const e=Ke(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=jR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dM.bind(null,e),e.La.p_=tM.bind(null,e.eventManager),e.La.Ja=nM.bind(null,e.eventManager),e}function _M(n){const e=Ke(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pM.bind(null,e),e}class xh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=td(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return wP(this.persistence,new EP,e.initialUser,this.serializer)}Xa(e){return new bR(xy.ri,this.serializer)}Za(e){return new xP}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xh.provider={build:()=>new xh};class EM extends xh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){vt(this.persistence.referenceDelegate instanceof Ih);const i=this.persistence.referenceDelegate.garbageCollector;return new sP(i,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?cr.withCacheSize(this.cacheSizeBytes):cr.DEFAULT;return new bR(i=>Ih.ri(i,t),this.serializer)}}class zg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>eb(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=yM.bind(null,this.syncEngine),await ZP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new eM}()}createDatastore(e){const t=td(e.databaseInfo.databaseId),i=function(l){return new MP(l)}(e.databaseInfo);return function(l,c,h,f){return new jP(l,c,h,f)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,a,l,c,h){return new zP(i,a,l,c,h)}(this.localStore,this.datastore,e.asyncQueue,t=>eb(this.syncEngine,t,0),function(){return QT.D()?new QT:new NP}())}createSyncEngine(e,t){return function(a,l,c,h,f,p,y){const _=new aM(a,l,c,h,f,p);return y&&(_.ja=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const l=Ke(a);we(Mo,"RemoteStore shutting down."),l.W_.add(5),await Pc(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}zg.provider={build:()=>new zg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Vs("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za="FirestoreClient";class TM{constructor(e,t,i,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=Bn.UNAUTHENTICATED,this.clientId=MS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{we(za,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(we(za,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ks;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Vy(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Op(n,e){n.asyncQueue.verifyOperationInProgress(),we(za,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async a=>{i.isEqual(a)||(await wR(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function nb(n,e){n.asyncQueue.verifyOperationInProgress();const t=await bM(n);we(za,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>WT(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>WT(e.remoteStore,a)),n._onlineComponents=e}async function bM(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){we(za,"Using user provided OfflineComponentProvider");try{await Op(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===ce.FAILED_PRECONDITION||a.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;Ul("Error using user provided cache. Falling back to memory cache: "+t),await Op(n,new xh)}}else we(za,"Using default OfflineComponentProvider"),await Op(n,new EM(void 0));return n._offlineComponents}async function $R(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(we(za,"Using user provided OnlineComponentProvider"),await nb(n,n._uninitializedComponentsProvider._online)):(we(za,"Using default OnlineComponentProvider"),await nb(n,new zg))),n._onlineComponents}function wM(n){return $R(n).then(e=>e.syncEngine)}async function GR(n){const e=await $R(n),t=e.eventManager;return t.onListen=oM.bind(null,e.syncEngine),t.onUnlisten=cM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=lM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=fM.bind(null,e.syncEngine),t}function SM(n,e,t={}){const i=new ks;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,h,f,p){const y=new HR({next:E=>{y.su(),c.enqueueAndForget(()=>PR(l,_));const C=E.docs.has(h);!C&&E.fromCache?p.reject(new Se(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&E.fromCache&&f&&f.source==="server"?p.reject(new Se(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new MR(wy(h.path),y,{includeMetadataChanges:!0,Ta:!0});return kR(l,_)}(await GR(n),n.asyncQueue,e,t,i)),i.promise}function RM(n,e,t={}){const i=new ks;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,h,f,p){const y=new HR({next:E=>{y.su(),c.enqueueAndForget(()=>PR(l,_)),E.fromCache&&f.source==="server"?p.reject(new Se(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new MR(h,y,{includeMetadataChanges:!0,Ta:!0});return kR(l,_)}(await GR(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(n,e,t){if(!t)throw new Se(ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function AM(n,e,t,i){if(e===!0&&i===!0)throw new Se(ce.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function ib(n){if(!Pe.isDocumentKey(n))throw new Se(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function sb(n){if(Pe.isDocumentKey(n))throw new Se(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function id(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":je()}function Bs(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Se(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=id(n);throw new Se(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR="firestore.googleapis.com",ab=!0;class ob{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Se(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=YR,this.ssl=ab}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:ab;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=TR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<rP)throw new Se(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}AM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KR((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Se(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Se(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Se(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sd{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ob({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ob(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Pk;switch(i.type){case"firstParty":return new Vk(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Se(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=rb.get(t);i&&(we("ComponentProvider","Removing Datastore"),rb.delete(t),i.terminate())}(this),Promise.resolve()}}function CM(n,e,t,i={}){var a;const l=(n=Bs(n,sd))._getSettings(),c=`${e}:${t}`;if(l.host!==YR&&l.host!==c&&Ul("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},l),{host:c,ssl:!1})),i.mockUserToken){let h,f;if(typeof i.mockUserToken=="string")h=i.mockUserToken,f=Bn.MOCK_USER;else{h=zw(i.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new Se(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Bn(p)}n._authCredentials=new Mk(new PS(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Fo(this.firestore,e,this._query)}}class hr{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ka(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hr(this.firestore,e,this._key)}}class ka extends Fo{constructor(e,t,i){super(e,t,wy(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hr(this.firestore,null,new Pe(e))}withConverter(e){return new ka(this.firestore,e,this._path)}}function ji(n,e,...t){if(n=Xt(n),QR("collection","path",e),n instanceof sd){const i=Mt.fromString(e,...t);return sb(i),new ka(n,null,i)}{if(!(n instanceof hr||n instanceof ka))throw new Se(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Mt.fromString(e,...t));return sb(i),new ka(n.firestore,null,i)}}function Ss(n,e,...t){if(n=Xt(n),arguments.length===1&&(e=MS.newId()),QR("doc","path",e),n instanceof sd){const i=Mt.fromString(e,...t);return ib(i),new hr(n,null,new Pe(i))}{if(!(n instanceof hr||n instanceof ka))throw new Se(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Mt.fromString(e,...t));return ib(i),new hr(n.firestore,n instanceof ka?n.converter:null,new Pe(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb="AsyncQueue";class ub{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new RR(this,"async_queue_retry"),this.Su=()=>{const i=Ip();i&&we(lb,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=e;const t=Ip();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Ip();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new ks;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Yl(e))throw e;we(lb,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const a=function(c){let h=c.message||"";return c.stack&&(h=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),h}(i);throw Vs("INTERNAL UNHANDLED ERROR: ",a),i}).then(i=>(this.pu=!1,i))));return this.bu=t,t}enqueueAfterDelay(e,t,i){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const a=Uy.createAndSchedule(this,e,t,i,l=>this.Fu(l));return this.fu.push(a),a}Du(){this.gu&&je()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class Xl extends sd{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new ub,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ub(e),this._firestoreClient=void 0,await e}}}function IM(n,e){const t=typeof n=="object"?n:oy(),i=typeof n=="string"?n:Eh,a=Fh(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=Vw("firestore");l&&CM(a,...l)}return a}function qy(n){if(n._terminated)throw new Se(ce.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||OM(n),n._firestoreClient}function OM(n){var e,t,i;const a=n._freezeSettings(),l=function(h,f,p,y){return new Zk(h,f,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,KR(y.experimentalLongPollingOptions),y.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new TM(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fl(kn.fromBase64String(e))}catch(t){throw new Se(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Fl(kn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Se(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Se(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Se(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return at(this._lat,e._lat)||at(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM=/^__.*__$/;class NM{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new $a(e,this.data,this.fieldMask,t,this.fieldTransforms):new Dc(e,this.data,t,this.fieldTransforms)}}class WR{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new $a(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function XR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw je()}}class Gy{constructor(e,t,i,a,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Gy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:i,Qu:!1});return a.$u(e),a}Ku(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:i,Qu:!1});return a.Bu(),a}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Nh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(XR(this.Lu)&&xM.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class DM{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||td(e)}ju(e,t,i,a=!1){return new Gy({Lu:e,methodName:t,zu:i,path:Dn.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ky(n){const e=n._freezeSettings(),t=td(n._databaseId);return new DM(n._databaseId,!!e.ignoreUndefinedProperties,t)}function kM(n,e,t,i,a,l={}){const c=n.ju(l.merge||l.mergeFields?2:0,e,t,a);Qy("Data must be an object, but it was:",c,i);const h=ZR(i,c);let f,p;if(l.merge)f=new Rr(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const E=qg(e,_,t);if(!c.contains(E))throw new Se(ce.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);eA(y,E)||y.push(E)}f=new Rr(y),p=c.fieldTransforms.filter(_=>f.covers(_.field))}else f=null,p=c.fieldTransforms;return new NM(new fr(h),f,p)}class od extends Fy{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof od}}function PM(n,e,t,i){const a=n.ju(1,e,t);Qy("Data must be an object, but it was:",a,i);const l=[],c=fr.empty();Ha(i,(f,p)=>{const y=Yy(e,f,t);p=Xt(p);const _=a.Ku(y);if(p instanceof od)l.push(y);else{const E=Lc(p,_);E!=null&&(l.push(y),c.set(y,E))}});const h=new Rr(l);return new WR(c,h,a.fieldTransforms)}function MM(n,e,t,i,a,l){const c=n.ju(1,e,t),h=[qg(e,i,t)],f=[a];if(l.length%2!=0)throw new Se(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<l.length;E+=2)h.push(qg(e,l[E])),f.push(l[E+1]);const p=[],y=fr.empty();for(let E=h.length-1;E>=0;--E)if(!eA(p,h[E])){const C=h[E];let P=f[E];P=Xt(P);const $=c.Ku(C);if(P instanceof od)p.push(C);else{const j=Lc(P,$);j!=null&&(p.push(C),y.set(C,j))}}const _=new Rr(p);return new WR(y,_,c.fieldTransforms)}function LM(n,e,t,i=!1){return Lc(t,n.ju(i?4:3,e))}function Lc(n,e){if(JR(n=Xt(n)))return Qy("Unsupported field value:",e,n),ZR(n,e);if(n instanceof Fy)return function(i,a){if(!XR(a.Lu))throw a.Wu(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,a){const l=[];let c=0;for(const h of i){let f=Lc(h,a.Uu(c));f==null&&(f={nullValue:"NULL_VALUE"}),l.push(f),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,a){if((i=Xt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return T2(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=hn.fromDate(i);return{timestampValue:Ch(a.serializer,l)}}if(i instanceof hn){const l=new hn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Ch(a.serializer,l)}}if(i instanceof Hy)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Fl)return{bytesValue:mR(a.serializer,i._byteString)};if(i instanceof hr){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Iy(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof $y)return function(c,h){return{mapValue:{fields:{[FS]:{stringValue:HS},[Th]:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw h.Wu("VectorValues must only contain numeric values.");return Sy(h.serializer,p)})}}}}}}(i,a);throw a.Wu(`Unsupported field value: ${id(i)}`)}(n,e)}function ZR(n,e){const t={};return US(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ha(n,(i,a)=>{const l=Lc(a,e.qu(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function JR(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof hn||n instanceof Hy||n instanceof Fl||n instanceof hr||n instanceof Fy||n instanceof $y)}function Qy(n,e,t){if(!JR(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const i=id(t);throw i==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+i)}}function qg(n,e,t){if((e=Xt(e))instanceof ad)return e._internalPath;if(typeof e=="string")return Yy(n,e);throw Nh("Field path arguments must be of type string or ",n,!1,void 0,t)}const UM=new RegExp("[~\\*/\\[\\]]");function Yy(n,e,t){if(e.search(UM)>=0)throw Nh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ad(...e.split("."))._internalPath}catch{throw Nh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Nh(n,e,t,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(l||c)&&(f+=" (found",l&&(f+=` in field ${i}`),c&&(f+=` in document ${a}`),f+=")"),new Se(ce.INVALID_ARGUMENT,h+n+f)}function eA(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e,t,i,a,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new hr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new VM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Wy("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class VM extends tA{data(){return super.data()}}function Wy(n,e){return typeof e=="string"?Yy(n,e):e instanceof ad?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Se(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xy{}class nA extends Xy{}function $f(n,e,...t){let i=[];e instanceof Xy&&i.push(e),i=i.concat(t),function(l){const c=l.filter(f=>f instanceof Zy).length,h=l.filter(f=>f instanceof ld).length;if(c>1||c>0&&h>0)throw new Se(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const a of i)n=a._apply(n);return n}class ld extends nA{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new ld(e,t,i)}_apply(e){const t=this._parse(e);return rA(e._query,t),new Fo(e.firestore,e.converter,Dg(e._query,t))}_parse(e){const t=Ky(e.firestore);return function(l,c,h,f,p,y,_){let E;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new Se(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){hb(_,y);const P=[];for(const $ of _)P.push(fb(f,l,$));E={arrayValue:{values:P}}}else E=fb(f,l,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||hb(_,y),E=LM(h,c,_,y==="in"||y==="not-in");return an.create(p,y,E)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Gf(n,e,t){const i=e,a=Wy("where",n);return ld._create(a,i,t)}class Zy extends Xy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Zy(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:di.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,l){let c=a;const h=l.getFlattenedFilters();for(const f of h)rA(c,f),c=Dg(c,f)}(e._query,t),new Fo(e.firestore,e.converter,Dg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Jy extends nA{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new Jy(e,t,i)}_apply(e){return new Fo(e.firestore,e.converter,Sh(e._query,this._limit,this._limitType))}}function cb(n){return Jy._create("limit",n,"F")}function fb(n,e,t){if(typeof(t=Xt(t))=="string"){if(t==="")throw new Se(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ZS(e)&&t.indexOf("/")!==-1)throw new Se(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Mt.fromString(t));if(!Pe.isDocumentKey(i))throw new Se(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return AT(n,new Pe(i))}if(t instanceof hr)return AT(n,t._key);throw new Se(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${id(t)}.`)}function hb(n,e){if(!Array.isArray(n)||n.length===0)throw new Se(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function rA(n,e){const t=function(a,l){for(const c of a)for(const h of c.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Se(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Se(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class BM{convertValue(e,t="none"){switch(ja(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Va(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw je()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Ha(e,(a,l)=>{i[a]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,a;const l=(a=(i=(t=e.fields)===null||t===void 0?void 0:t[Th].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(c=>Wt(c.doubleValue));return new $y(l)}convertGeoPoint(e){return new Hy(Wt(e.latitude),Wt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Yh(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(pc(e));default:return null}}convertTimestamp(e){const t=Ua(e);return new hn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Mt.fromString(e);vt(ER(i));const a=new gc(i.get(1),i.get(3)),l=new Pe(i.popFirst(5));return a.isEqual(t)||Vs(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zM(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class iA extends tA{constructor(e,t,i,a,l,c){super(e,t,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new uh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Wy("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class uh extends iA{data(e={}){return super.data(e)}}class qM{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new nc(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new uh(this._firestore,this._userDataWriter,i.key,i,new nc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Se(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(h=>{const f=new uh(a._firestore,a._userDataWriter,h.doc.key,h.doc,new nc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(h=>l||h.type!==3).map(h=>{const f=new uh(a._firestore,a._userDataWriter,h.doc.key,h.doc,new nc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return h.type!==0&&(p=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),y=c.indexOf(h.doc.key)),{type:FM(h.type),doc:f,oldIndex:p,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function FM(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return je()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sl(n){n=Bs(n,hr);const e=Bs(n.firestore,Xl);return SM(qy(e),n._key).then(t=>GM(e,n,t))}class sA extends BM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new hr(this.firestore,null,t)}}function ba(n){n=Bs(n,Fo);const e=Bs(n.firestore,Xl),t=qy(e),i=new sA(e);return jM(n._query),RM(t,n._query).then(a=>new qM(e,i,n,a))}function HM(n,e,t,...i){n=Bs(n,hr);const a=Bs(n.firestore,Xl),l=Ky(a);let c;return c=typeof(e=Xt(e))=="string"||e instanceof ad?MM(l,"updateDoc",n._key,e,t,i):PM(l,"updateDoc",n._key,e),ev(a,[c.toMutation(n._key,fi.exists(!0))])}function $M(n){return ev(Bs(n.firestore,Xl),[new Ry(n._key,fi.none())])}function db(n,e){const t=Bs(n.firestore,Xl),i=Ss(n),a=zM(n.converter,e);return ev(t,[kM(Ky(n.firestore),"addDoc",i._key,a,n.converter!==null,{}).toMutation(i._key,fi.exists(!1))]).then(()=>i)}function ev(n,e){return function(i,a){const l=new ks;return i.asyncQueue.enqueueAndForget(async()=>hM(await wM(i),a,l)),l.promise}(qy(n),e)}function GM(n,e,t){const i=t.docs.get(e._key),a=new sA(n);return new iA(n,a,e._key,i,new nc(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(a){Kl=a})(jo),No(new Ma("firestore",(i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),h=new Xl(new Lk(i.getProvider("auth-internal")),new jk(c,i.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Se(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gc(p.options.projectId,y)}(c,a),c);return l=Object.assign({useFetchStreams:t},l),h._setSettings(l),h},"PUBLIC").setMultipleInstances(!0)),Fi(pT,gT,e),Fi(pT,gT,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA="firebasestorage.googleapis.com",oA="storageBucket",KM=2*60*1e3,QM=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt extends Ji{constructor(e,t,i=0){super(xp(e),`Firebase Storage: ${t} (${xp(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Kt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return xp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Gt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Gt||(Gt={}));function xp(n){return"storage/"+n}function tv(){const n="An unknown error occurred, please check the error payload for server response.";return new Kt(Gt.UNKNOWN,n)}function YM(n){return new Kt(Gt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function WM(n){return new Kt(Gt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function XM(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Kt(Gt.UNAUTHENTICATED,n)}function ZM(){return new Kt(Gt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function JM(n){return new Kt(Gt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function eL(){return new Kt(Gt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function tL(){return new Kt(Gt.CANCELED,"User canceled the upload/download.")}function nL(n){return new Kt(Gt.INVALID_URL,"Invalid URL '"+n+"'.")}function rL(n){return new Kt(Gt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function iL(){return new Kt(Gt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+oA+"' property when initializing the app?")}function sL(){return new Kt(Gt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function aL(){return new Kt(Gt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function oL(n){return new Kt(Gt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Fg(n){return new Kt(Gt.INVALID_ARGUMENT,n)}function lA(){return new Kt(Gt.APP_DELETED,"The Firebase app was deleted.")}function lL(n){return new Kt(Gt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function uc(n,e){return new Kt(Gt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Yu(n){throw new Kt(Gt.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Ar.makeFromUrl(e,t)}catch{return new Ar(e,"")}if(i.path==="")return i;throw rL(e)}static makeFromUrl(e,t){let i=null;const a="([A-Za-z0-9.\\-_]+)";function l(re){re.path.charAt(re.path.length-1)==="/"&&(re.path_=re.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+a+c,"i"),f={bucket:1,path:3};function p(re){re.path_=decodeURIComponent(re.path)}const y="v[A-Za-z0-9_]+",_=t.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",C=new RegExp(`^https?://${_}/${y}/b/${a}/o${E}`,"i"),P={bucket:1,path:3},$=t===aA?"(?:storage.googleapis.com|storage.cloud.google.com)":t,j="([^?#]*)",H=new RegExp(`^https?://${$}/${a}/${j}`,"i"),z=[{regex:h,indices:f,postModify:l},{regex:C,indices:P,postModify:p},{regex:H,indices:{bucket:1,path:2},postModify:p}];for(let re=0;re<z.length;re++){const se=z[re],fe=se.regex.exec(e);if(fe){const U=fe[se.indices.bucket];let k=fe[se.indices.path];k||(k=""),i=new Ar(U,k),se.postModify(i);break}}if(i==null)throw nL(e);return i}}class uL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cL(n,e,t){let i=1,a=null,l=null,c=!1,h=0;function f(){return h===2}let p=!1;function y(...j){p||(p=!0,e.apply(null,j))}function _(j){a=setTimeout(()=>{a=null,n(C,f())},j)}function E(){l&&clearTimeout(l)}function C(j,...H){if(p){E();return}if(j){E(),y.call(null,j,...H);return}if(f()||c){E(),y.call(null,j,...H);return}i<64&&(i*=2);let z;h===1?(h=2,z=0):z=(i+Math.random())*1e3,_(z)}let P=!1;function $(j){P||(P=!0,E(),!p&&(a!==null?(j||(h=2),clearTimeout(a),_(0)):j||(h=1)))}return _(0),l=setTimeout(()=>{c=!0,$(!0)},t),$}function fL(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hL(n){return n!==void 0}function dL(n){return typeof n=="object"&&!Array.isArray(n)}function nv(n){return typeof n=="string"||n instanceof String}function mb(n){return rv()&&n instanceof Blob}function rv(){return typeof Blob<"u"}function pb(n,e,t,i){if(i<e)throw Fg(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw Fg(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(n,e,t){let i=e;return t==null&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function uA(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const a=e(i)+"="+e(n[i]);t=t+a+"&"}return t=t.slice(0,-1),t}var Oo;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Oo||(Oo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mL(n,e){const t=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e,t,i,a,l,c,h,f,p,y,_,E=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=f,this.timeout_=p,this.progressCallback_=y,this.connectionFactory_=_,this.retry=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,P)=>{this.resolve_=C,this.reject_=P,this.start_()})}start_(){const e=(i,a)=>{if(a){i(!1,new Kf(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=h=>{const f=h.loaded,p=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,p)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const h=l.getErrorCode()===Oo.NO_ERROR,f=l.getStatus();if(!h||mL(f,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===Oo.ABORT;i(!1,new Kf(!1,null,y));return}const p=this.successCodes_.indexOf(f)!==-1;i(!0,new Kf(p,l))})},t=(i,a)=>{const l=this.resolve_,c=this.reject_,h=a.connection;if(a.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());hL(f)?l(f):l()}catch(f){c(f)}else if(h!==null){const f=tv();f.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,f)):c(f)}else if(a.canceled){const f=this.appDelete_?lA():tL();c(f)}else{const f=eL();c(f)}};this.canceled_?t(!1,new Kf(!1,null,!0)):this.backoffId_=cL(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&fL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Kf{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function gL(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function yL(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function vL(n,e){e&&(n["X-Firebase-GMPID"]=e)}function _L(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function EL(n,e,t,i,a,l,c=!0){const h=uA(n.urlParams),f=n.url+h,p=Object.assign({},n.headers);return vL(p,e),gL(p,t),yL(p,l),_L(p,i),new pL(f,n.method,p,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TL(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function bL(...n){const e=TL();if(e!==void 0){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}else{if(rv())return new Blob(n);throw new Kt(Gt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function wL(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SL(n){if(typeof atob>"u")throw oL("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Np{constructor(e,t){this.data=e,this.contentType=t||null}}function RL(n,e){switch(n){case qi.RAW:return new Np(cA(e));case qi.BASE64:case qi.BASE64URL:return new Np(fA(n,e));case qi.DATA_URL:return new Np(CL(e),IL(e))}throw tv()}function cA(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=i,c=n.charCodeAt(++t);i=65536|(l&1023)<<10|c&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function AL(n){let e;try{e=decodeURIComponent(n)}catch{throw uc(qi.DATA_URL,"Malformed data URL.")}return cA(e)}function fA(n,e){switch(n){case qi.BASE64:{const a=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(a||l)throw uc(n,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case qi.BASE64URL:{const a=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(a||l)throw uc(n,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=SL(e)}catch(a){throw a.message.includes("polyfill")?a:uc(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}class hA{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw uc(qi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;i!=null&&(this.base64=OL(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function CL(n){const e=new hA(n);return e.base64?fA(qi.BASE64,e.rest):AL(e.rest)}function IL(n){return new hA(n).contentType}function OL(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,t){let i=0,a="";mb(e)?(this.data_=e,i=e.size,a=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,t){if(mb(this.data_)){const i=this.data_,a=wL(i,e,t);return a===null?null:new Ia(a)}else{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Ia(i,!0)}}static getBlob(...e){if(rv()){const t=e.map(i=>i instanceof Ia?i.data_:i);return new Ia(bL.apply(null,t))}else{const t=e.map(c=>nv(c)?RL(qi.RAW,c).data:c.data_);let i=0;t.forEach(c=>{i+=c.byteLength});const a=new Uint8Array(i);let l=0;return t.forEach(c=>{for(let h=0;h<c.length;h++)a[l++]=c[h]}),new Ia(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(n){let e;try{e=JSON.parse(n)}catch{return null}return dL(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xL(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function NL(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return n.length===0?t:n+"/"+t}function mA(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DL(n,e){return e}class Xn{constructor(e,t,i,a){this.server=e,this.local=t||e,this.writable=!!i,this.xform=a||DL}}let Qf=null;function kL(n){return!nv(n)||n.length<2?n:mA(n)}function pA(){if(Qf)return Qf;const n=[];n.push(new Xn("bucket")),n.push(new Xn("generation")),n.push(new Xn("metageneration")),n.push(new Xn("name","fullPath",!0));function e(l,c){return kL(c)}const t=new Xn("name");t.xform=e,n.push(t);function i(l,c){return c!==void 0?Number(c):c}const a=new Xn("size");return a.xform=i,n.push(a),n.push(new Xn("timeCreated")),n.push(new Xn("updated")),n.push(new Xn("md5Hash",null,!0)),n.push(new Xn("cacheControl",null,!0)),n.push(new Xn("contentDisposition",null,!0)),n.push(new Xn("contentEncoding",null,!0)),n.push(new Xn("contentLanguage",null,!0)),n.push(new Xn("contentType",null,!0)),n.push(new Xn("metadata","customMetadata",!0)),Qf=n,Qf}function PL(n,e){function t(){const i=n.bucket,a=n.fullPath,l=new Ar(i,a);return e._makeStorageReference(l)}Object.defineProperty(n,"ref",{get:t})}function ML(n,e,t){const i={};i.type="file";const a=t.length;for(let l=0;l<a;l++){const c=t[l];i[c.local]=c.xform(i,e[c.server])}return PL(i,n),i}function gA(n,e,t){const i=dA(e);return i===null?null:ML(n,i,t)}function LL(n,e,t,i){const a=dA(e);if(a===null||!nv(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(p=>{const y=n.bucket,_=n.fullPath,E="/b/"+c(y)+"/o/"+c(_),C=iv(E,t,i),P=uA({alt:"media",token:p});return C+P})[0]}function UL(n,e){const t={},i=e.length;for(let a=0;a<i;a++){const l=e[a];l.writable&&(t[l.server]=n[l.local])}return JSON.stringify(t)}class yA{constructor(e,t,i,a){this.url=e,this.method=t,this.handler=i,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(n){if(!n)throw tv()}function VL(n,e){function t(i,a){const l=gA(n,a,e);return vA(l!==null),l}return t}function jL(n,e){function t(i,a){const l=gA(n,a,e);return vA(l!==null),LL(l,a,n.host,n._protocol)}return t}function _A(n){function e(t,i){let a;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?a=ZM():a=XM():t.getStatus()===402?a=WM(n.bucket):t.getStatus()===403?a=JM(n.path):a=i,a.status=t.getStatus(),a.serverResponse=i.serverResponse,a}return e}function BL(n){const e=_A(n);function t(i,a){let l=e(i,a);return i.getStatus()===404&&(l=YM(n.path)),l.serverResponse=a.serverResponse,l}return t}function zL(n,e,t){const i=e.fullServerUrl(),a=iv(i,n.host,n._protocol),l="GET",c=n.maxOperationRetryTime,h=new yA(a,l,jL(n,t),c);return h.errorHandler=BL(e),h}function qL(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function FL(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=qL(null,e)),i}function HL(n,e,t,i,a){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function h(){let z="";for(let re=0;re<2;re++)z=z+Math.random().toString().slice(2);return z}const f=h();c["Content-Type"]="multipart/related; boundary="+f;const p=FL(e,i,a),y=UL(p,t),_="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+f+`\r
Content-Type: `+p.contentType+`\r
\r
`,E=`\r
--`+f+"--",C=Ia.getBlob(_,i,E);if(C===null)throw sL();const P={name:p.fullPath},$=iv(l,n.host,n._protocol),j="POST",H=n.maxUploadRetryTime,Y=new yA($,j,VL(n,t),H);return Y.urlParams=P,Y.headers=c,Y.body=C.uploadData(),Y.errorHandler=_A(e),Y}class $L{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Oo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Oo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Oo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,a){if(this.sent_)throw Yu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),a!==void 0)for(const l in a)a.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,a[l].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Yu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Yu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Yu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Yu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class GL extends $L{initXhr(){this.xhr_.responseType="text"}}function EA(){return new GL}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,t){this._service=e,t instanceof Ar?this._location=t:this._location=Ar.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Lo(e,t)}get root(){const e=new Ar(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return mA(this._location.path)}get storage(){return this._service}get parent(){const e=xL(this._location.path);if(e===null)return null;const t=new Ar(this._location.bucket,e);return new Lo(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw lL(e)}}function KL(n,e,t){n._throwIfRoot("uploadBytes");const i=HL(n.storage,n._location,pA(),new Ia(e,!0),t);return n.storage.makeRequestWithTokens(i,EA).then(a=>({metadata:a,ref:n}))}function QL(n){n._throwIfRoot("getDownloadURL");const e=zL(n.storage,n._location,pA());return n.storage.makeRequestWithTokens(e,EA).then(t=>{if(t===null)throw aL();return t})}function YL(n,e){const t=NL(n._location.path,e),i=new Ar(n._location.bucket,t);return new Lo(n.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WL(n){return/^[A-Za-z]+:\/\//.test(n)}function XL(n,e){return new Lo(n,e)}function TA(n,e){if(n instanceof sv){const t=n;if(t._bucket==null)throw iL();const i=new Lo(t,t._bucket);return e!=null?TA(i,e):i}else return e!==void 0?YL(n,e):n}function ZL(n,e){if(e&&WL(e)){if(n instanceof sv)return XL(n,e);throw Fg("To use ref(service, url), the first argument must be a Storage instance.")}else return TA(n,e)}function gb(n,e){const t=e==null?void 0:e[oA];return t==null?null:Ar.makeFromBucketSpec(t,n)}function JL(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:a}=i;a&&(n._overrideAuthToken=typeof a=="string"?a:zw(a,n.app.options.projectId))}class sv{constructor(e,t,i,a,l){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=a,this._firebaseVersion=l,this._bucket=null,this._host=aA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=KM,this._maxUploadRetryTime=QM,this._requests=new Set,a!=null?this._bucket=Ar.makeFromBucketSpec(a,this._host):this._bucket=gb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ar.makeFromBucketSpec(this._url,e):this._bucket=gb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){pb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){pb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Sr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Lo(this,e)}_makeRequest(e,t,i,a,l=!0){if(this._deleted)return new uL(lA());{const c=EL(e,this._appId,i,a,t,this._firebaseVersion,l);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[i,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,a).getPromise()}}const yb="@firebase/storage",vb="0.13.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA="storage";function eU(n,e,t){return n=Xt(n),KL(n,e,t)}function tU(n){return n=Xt(n),QL(n)}function _b(n,e){return n=Xt(n),ZL(n,e)}function nU(n=oy(),e){n=Xt(n);const i=Fh(n,bA).getImmediate({identifier:e}),a=Vw("storage");return a&&rU(i,...a),i}function rU(n,e,t,i={}){JL(n,e,t,i)}function iU(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new sv(t,i,a,e,jo)}function sU(){No(new Ma(bA,iU,"PUBLIC").setMultipleInstances(!0)),Fi(yb,vb,""),Fi(yb,vb,"esm2017")}sU();var Dp,Eb;function aU(){if(Eb)return Dp;Eb=1;function n(w,S){return function(){return w.apply(S,arguments)}}const{toString:e}=Object.prototype,{getPrototypeOf:t}=Object,i=(w=>S=>{const N=e.call(S);return w[N]||(w[N]=N.slice(8,-1).toLowerCase())})(Object.create(null)),a=w=>(w=w.toLowerCase(),S=>i(S)===w),l=w=>S=>typeof S===w,{isArray:c}=Array,h=l("undefined");function f(w){return w!==null&&!h(w)&&w.constructor!==null&&!h(w.constructor)&&E(w.constructor.isBuffer)&&w.constructor.isBuffer(w)}const p=a("ArrayBuffer");function y(w){let S;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?S=ArrayBuffer.isView(w):S=w&&w.buffer&&p(w.buffer),S}const _=l("string"),E=l("function"),C=l("number"),P=w=>w!==null&&typeof w=="object",$=w=>w===!0||w===!1,j=w=>{if(i(w)!=="object")return!1;const S=t(w);return(S===null||S===Object.prototype||Object.getPrototypeOf(S)===null)&&!(Symbol.toStringTag in w)&&!(Symbol.iterator in w)},H=a("Date"),Y=a("File"),z=a("Blob"),re=a("FileList"),se=w=>P(w)&&E(w.pipe),fe=w=>{let S;return w&&(typeof FormData=="function"&&w instanceof FormData||E(w.append)&&((S=i(w))==="formdata"||S==="object"&&E(w.toString)&&w.toString()==="[object FormData]"))},U=a("URLSearchParams"),[k,R,M,B]=["ReadableStream","Request","Response","Headers"].map(a),G=w=>w.trim?w.trim():w.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function L(w,S,{allOwnKeys:N=!1}={}){if(w===null||typeof w>"u")return;let D,q;if(typeof w!="object"&&(w=[w]),c(w))for(D=0,q=w.length;D<q;D++)S.call(null,w[D],D,w);else{const W=N?Object.getOwnPropertyNames(w):Object.keys(w),Z=W.length;let me;for(D=0;D<Z;D++)me=W[D],S.call(null,w[me],me,w)}}function Qe(w,S){S=S.toLowerCase();const N=Object.keys(w);let D=N.length,q;for(;D-- >0;)if(q=N[D],S===q.toLowerCase())return q;return null}const Be=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:eI,pe=w=>!h(w)&&w!==Be;function Te(){const{caseless:w}=pe(this)&&this||{},S={},N=(D,q)=>{const W=w&&Qe(S,q)||q;j(S[W])&&j(D)?S[W]=Te(S[W],D):j(D)?S[W]=Te({},D):c(D)?S[W]=D.slice():S[W]=D};for(let D=0,q=arguments.length;D<q;D++)arguments[D]&&L(arguments[D],N);return S}const ge=(w,S,N,{allOwnKeys:D}={})=>(L(S,(q,W)=>{N&&E(q)?w[W]=n(q,N):w[W]=q},{allOwnKeys:D}),w),qe=w=>(w.charCodeAt(0)===65279&&(w=w.slice(1)),w),F=(w,S,N,D)=>{w.prototype=Object.create(S.prototype,D),w.prototype.constructor=w,Object.defineProperty(w,"super",{value:S.prototype}),N&&Object.assign(w.prototype,N)},he=(w,S,N,D)=>{let q,W,Z;const me={};if(S=S||{},w==null)return S;do{for(q=Object.getOwnPropertyNames(w),W=q.length;W-- >0;)Z=q[W],(!D||D(Z,w,S))&&!me[Z]&&(S[Z]=w[Z],me[Z]=!0);w=N!==!1&&t(w)}while(w&&(!N||N(w,S))&&w!==Object.prototype);return S},Re=(w,S,N)=>{w=String(w),(N===void 0||N>w.length)&&(N=w.length),N-=S.length;const D=w.indexOf(S,N);return D!==-1&&D===N},be=w=>{if(!w)return null;if(c(w))return w;let S=w.length;if(!C(S))return null;const N=new Array(S);for(;S-- >0;)N[S]=w[S];return N},ve=(w=>S=>w&&S instanceof w)(typeof Uint8Array<"u"&&t(Uint8Array)),Me=(w,S)=>{const D=(w&&w[Symbol.iterator]).call(w);let q;for(;(q=D.next())&&!q.done;){const W=q.value;S.call(w,W[0],W[1])}},Fe=(w,S)=>{let N;const D=[];for(;(N=w.exec(S))!==null;)D.push(N);return D},Lt=a("HTMLFormElement"),et=w=>w.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(N,D,q){return D.toUpperCase()+q}),_t=(({hasOwnProperty:w})=>(S,N)=>w.call(S,N))(Object.prototype),rt=a("RegExp"),Zt=(w,S)=>{const N=Object.getOwnPropertyDescriptors(w),D={};L(N,(q,W)=>{let Z;(Z=S(q,W,w))!==!1&&(D[W]=Z||q)}),Object.defineProperties(w,D)},er=w=>{Zt(w,(S,N)=>{if(E(w)&&["arguments","caller","callee"].indexOf(N)!==-1)return!1;const D=w[N];if(E(D)){if(S.enumerable=!1,"writable"in S){S.writable=!1;return}S.set||(S.set=()=>{throw Error("Can not rewrite read-only method '"+N+"'")})}})},mn=(w,S)=>{const N={},D=q=>{q.forEach(W=>{N[W]=!0})};return c(w)?D(w):D(String(w).split(S)),N},Fn=()=>{},dt=(w,S)=>w!=null&&Number.isFinite(w=+w)?w:S,Pn="abcdefghijklmnopqrstuvwxyz",Cr="0123456789",es={DIGIT:Cr,ALPHA:Pn,ALPHA_DIGIT:Pn+Pn.toUpperCase()+Cr},Hs=(w=16,S=es.ALPHA_DIGIT)=>{let N="";const{length:D}=S;for(;w--;)N+=S[Math.random()*D|0];return N};function ts(w){return!!(w&&E(w.append)&&w[Symbol.toStringTag]==="FormData"&&w[Symbol.iterator])}const $s=w=>{const S=new Array(10),N=(D,q)=>{if(P(D)){if(S.indexOf(D)>=0)return;if(!("toJSON"in D)){S[q]=D;const W=c(D)?[]:{};return L(D,(Z,me)=>{const Ce=N(Z,q+1);!h(Ce)&&(W[me]=Ce)}),S[q]=void 0,W}}return D};return N(w,0)},nu=a("AsyncFunction"),Ga=w=>w&&(P(w)||E(w))&&E(w.then)&&E(w.catch),Rn=((w,S)=>w?setImmediate:S?((N,D)=>(Be.addEventListener("message",({source:q,data:W})=>{q===Be&&W===N&&D.length&&D.shift()()},!1),q=>{D.push(q),Be.postMessage(N,"*")}))(`axios@${Math.random()}`,[]):N=>setTimeout(N))(typeof setImmediate=="function",E(Be.postMessage)),Ho=typeof queueMicrotask<"u"?queueMicrotask.bind(Be):typeof process<"u"&&process.nextTick||Rn;var te={isArray:c,isArrayBuffer:p,isBuffer:f,isFormData:fe,isArrayBufferView:y,isString:_,isNumber:C,isBoolean:$,isObject:P,isPlainObject:j,isReadableStream:k,isRequest:R,isResponse:M,isHeaders:B,isUndefined:h,isDate:H,isFile:Y,isBlob:z,isRegExp:rt,isFunction:E,isStream:se,isURLSearchParams:U,isTypedArray:ve,isFileList:re,forEach:L,merge:Te,extend:ge,trim:G,stripBOM:qe,inherits:F,toFlatObject:he,kindOf:i,kindOfTest:a,endsWith:Re,toArray:be,forEachEntry:Me,matchAll:Fe,isHTMLForm:Lt,hasOwnProperty:_t,hasOwnProp:_t,reduceDescriptors:Zt,freezeMethods:er,toObjectSet:mn,toCamelCase:et,noop:Fn,toFiniteNumber:dt,findKey:Qe,global:Be,isContextDefined:pe,ALPHABET:es,generateString:Hs,isSpecCompliantForm:ts,toJSONObject:$s,isAsyncFn:nu,isThenable:Ga,setImmediate:Rn,asap:Ho};function Ie(w,S,N,D,q){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=w,this.name="AxiosError",S&&(this.code=S),N&&(this.config=N),D&&(this.request=D),q&&(this.response=q,this.status=q.status?q.status:null)}te.inherits(Ie,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:te.toJSONObject(this.config),code:this.code,status:this.status}}});const Ir=Ie.prototype,Ka={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(w=>{Ka[w]={value:w}}),Object.defineProperties(Ie,Ka),Object.defineProperty(Ir,"isAxiosError",{value:!0}),Ie.from=(w,S,N,D,q,W)=>{const Z=Object.create(Ir);return te.toFlatObject(w,Z,function(Ce){return Ce!==Error.prototype},me=>me!=="isAxiosError"),Ie.call(Z,w.message,S,N,D,q),Z.cause=w,Z.name=w.name,W&&Object.assign(Z,W),Z};var Qa=null;function Ya(w){return te.isPlainObject(w)||te.isArray(w)}function mi(w){return te.endsWith(w,"[]")?w.slice(0,-2):w}function Kr(w,S,N){return w?w.concat(S).map(function(q,W){return q=mi(q),!N&&W?"["+q+"]":q}).join(N?".":""):S}function pn(w){return te.isArray(w)&&!w.some(Ya)}const Wa=te.toFlatObject(te,{},null,function(S){return/^is[A-Z]/.test(S)});function Hn(w,S,N){if(!te.isObject(w))throw new TypeError("target must be an object");S=S||new FormData,N=te.toFlatObject(N,{metaTokens:!0,dots:!1,indexes:!1},!1,function(ze,De){return!te.isUndefined(De[ze])});const D=N.metaTokens,q=N.visitor||Ee,W=N.dots,Z=N.indexes,Ce=(N.Blob||typeof Blob<"u"&&Blob)&&te.isSpecCompliantForm(S);if(!te.isFunction(q))throw new TypeError("visitor must be a function");function ye(Ne){if(Ne===null)return"";if(te.isDate(Ne))return Ne.toISOString();if(!Ce&&te.isBlob(Ne))throw new Ie("Blob is not supported. Use a Buffer instead.");return te.isArrayBuffer(Ne)||te.isTypedArray(Ne)?Ce&&typeof Blob=="function"?new Blob([Ne]):Buffer.from(Ne):Ne}function Ee(Ne,ze,De){let Ct=Ne;if(Ne&&!De&&typeof Ne=="object"){if(te.endsWith(ze,"{}"))ze=D?ze:ze.slice(0,-2),Ne=JSON.stringify(Ne);else if(te.isArray(Ne)&&pn(Ne)||(te.isFileList(Ne)||te.endsWith(ze,"[]"))&&(Ct=te.toArray(Ne)))return ze=mi(ze),Ct.forEach(function(Ut,or){!(te.isUndefined(Ut)||Ut===null)&&S.append(Z===!0?Kr([ze],or,W):Z===null?ze:ze+"[]",ye(Ut))}),!1}return Ya(Ne)?!0:(S.append(Kr(De,ze,W),ye(Ne)),!1)}const Oe=[],mt=Object.assign(Wa,{defaultVisitor:Ee,convertValue:ye,isVisitable:Ya});function At(Ne,ze){if(!te.isUndefined(Ne)){if(Oe.indexOf(Ne)!==-1)throw Error("Circular reference detected in "+ze.join("."));Oe.push(Ne),te.forEach(Ne,function(Ct,Tt){(!(te.isUndefined(Ct)||Ct===null)&&q.call(S,Ct,te.isString(Tt)?Tt.trim():Tt,ze,mt))===!0&&At(Ct,ze?ze.concat(Tt):[Tt])}),Oe.pop()}}if(!te.isObject(w))throw new TypeError("data must be an object");return At(w),S}function gn(w){const S={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(w).replace(/[!'()~]|%20|%00/g,function(D){return S[D]})}function ns(w,S){this._pairs=[],w&&Hn(w,this,S)}const Xa=ns.prototype;Xa.append=function(S,N){this._pairs.push([S,N])},Xa.toString=function(S){const N=S?function(D){return S.call(this,D,gn)}:gn;return this._pairs.map(function(q){return N(q[0])+"="+N(q[1])},"").join("&")};function $o(w){return encodeURIComponent(w).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function mr(w,S,N){if(!S)return w;const D=N&&N.encode||$o;te.isFunction(N)&&(N={serialize:N});const q=N&&N.serialize;let W;if(q?W=q(S,N):W=te.isURLSearchParams(S)?S.toString():new ns(S,N).toString(D),W){const Z=w.indexOf("#");Z!==-1&&(w=w.slice(0,Z)),w+=(w.indexOf("?")===-1?"?":"&")+W}return w}class pi{constructor(){this.handlers=[]}use(S,N,D){return this.handlers.push({fulfilled:S,rejected:N,synchronous:D?D.synchronous:!1,runWhen:D?D.runWhen:null}),this.handlers.length-1}eject(S){this.handlers[S]&&(this.handlers[S]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(S){te.forEach(this.handlers,function(D){D!==null&&S(D)})}}var tr=pi,$n={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},gi=typeof URLSearchParams<"u"?URLSearchParams:ns,Gs=typeof FormData<"u"?FormData:null,Za=typeof Blob<"u"?Blob:null,yi={isBrowser:!0,classes:{URLSearchParams:gi,FormData:Gs,Blob:Za},protocols:["http","https","file","blob","url","data"]};const vi=typeof window<"u"&&typeof document<"u",Nt=typeof navigator=="object"&&navigator||void 0,Go=vi&&(!Nt||["ReactNative","NativeScript","NS"].indexOf(Nt.product)<0),_i=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Ei=vi&&window.location.href||"http://localhost";var Ko=Object.freeze({__proto__:null,hasBrowserEnv:vi,hasStandardBrowserWebWorkerEnv:_i,hasStandardBrowserEnv:Go,navigator:Nt,origin:Ei}),Qt={...Ko,...yi};function Ti(w,S){return Hn(w,new Qt.classes.URLSearchParams,Object.assign({visitor:function(N,D,q,W){return Qt.isNode&&te.isBuffer(N)?(this.append(D,N.toString("base64")),!1):W.defaultVisitor.apply(this,arguments)}},S))}function Or(w){return te.matchAll(/\w+|\[(\w*)]/g,w).map(S=>S[0]==="[]"?"":S[1]||S[0])}function Jt(w){const S={},N=Object.keys(w);let D;const q=N.length;let W;for(D=0;D<q;D++)W=N[D],S[W]=w[W];return S}function qt(w){function S(N,D,q,W){let Z=N[W++];if(Z==="__proto__")return!0;const me=Number.isFinite(+Z),Ce=W>=N.length;return Z=!Z&&te.isArray(q)?q.length:Z,Ce?(te.hasOwnProp(q,Z)?q[Z]=[q[Z],D]:q[Z]=D,!me):((!q[Z]||!te.isObject(q[Z]))&&(q[Z]=[]),S(N,D,q[Z],W)&&te.isArray(q[Z])&&(q[Z]=Jt(q[Z])),!me)}if(te.isFormData(w)&&te.isFunction(w.entries)){const N={};return te.forEachEntry(w,(D,q)=>{S(Or(D),q,N,0)}),N}return null}function Qr(w,S,N){if(te.isString(w))try{return(S||JSON.parse)(w),te.trim(w)}catch(D){if(D.name!=="SyntaxError")throw D}return(N||JSON.stringify)(w)}const Yr={transitional:$n,adapter:["xhr","http","fetch"],transformRequest:[function(S,N){const D=N.getContentType()||"",q=D.indexOf("application/json")>-1,W=te.isObject(S);if(W&&te.isHTMLForm(S)&&(S=new FormData(S)),te.isFormData(S))return q?JSON.stringify(qt(S)):S;if(te.isArrayBuffer(S)||te.isBuffer(S)||te.isStream(S)||te.isFile(S)||te.isBlob(S)||te.isReadableStream(S))return S;if(te.isArrayBufferView(S))return S.buffer;if(te.isURLSearchParams(S))return N.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),S.toString();let me;if(W){if(D.indexOf("application/x-www-form-urlencoded")>-1)return Ti(S,this.formSerializer).toString();if((me=te.isFileList(S))||D.indexOf("multipart/form-data")>-1){const Ce=this.env&&this.env.FormData;return Hn(me?{"files[]":S}:S,Ce&&new Ce,this.formSerializer)}}return W||q?(N.setContentType("application/json",!1),Qr(S)):S}],transformResponse:[function(S){const N=this.transitional||Yr.transitional,D=N&&N.forcedJSONParsing,q=this.responseType==="json";if(te.isResponse(S)||te.isReadableStream(S))return S;if(S&&te.isString(S)&&(D&&!this.responseType||q)){const Z=!(N&&N.silentJSONParsing)&&q;try{return JSON.parse(S)}catch(me){if(Z)throw me.name==="SyntaxError"?Ie.from(me,Ie.ERR_BAD_RESPONSE,this,null,this.response):me}}return S}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Qt.classes.FormData,Blob:Qt.classes.Blob},validateStatus:function(S){return S>=200&&S<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};te.forEach(["delete","get","head","post","put","patch"],w=>{Yr.headers[w]={}});var bi=Yr;const xr=te.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var Ja=w=>{const S={};let N,D,q;return w&&w.split(`
`).forEach(function(Z){q=Z.indexOf(":"),N=Z.substring(0,q).trim().toLowerCase(),D=Z.substring(q+1).trim(),!(!N||S[N]&&xr[N])&&(N==="set-cookie"?S[N]?S[N].push(D):S[N]=[D]:S[N]=S[N]?S[N]+", "+D:D)}),S};const Wr=Symbol("internals");function pr(w){return w&&String(w).trim().toLowerCase()}function Mn(w){return w===!1||w==null?w:te.isArray(w)?w.map(Mn):String(w)}function Xr(w){const S=Object.create(null),N=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let D;for(;D=N.exec(w);)S[D[1]]=D[2];return S}const wi=w=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(w.trim());function Nr(w,S,N,D,q){if(te.isFunction(D))return D.call(this,S,N);if(q&&(S=N),!!te.isString(S)){if(te.isString(D))return S.indexOf(D)!==-1;if(te.isRegExp(D))return D.test(S)}}function Dt(w){return w.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(S,N,D)=>N.toUpperCase()+D)}function eo(w,S){const N=te.toCamelCase(" "+S);["get","set","has"].forEach(D=>{Object.defineProperty(w,D+N,{value:function(q,W,Z){return this[D].call(this,S,q,W,Z)},configurable:!0})})}class Zr{constructor(S){S&&this.set(S)}set(S,N,D){const q=this;function W(me,Ce,ye){const Ee=pr(Ce);if(!Ee)throw new Error("header name must be a non-empty string");const Oe=te.findKey(q,Ee);(!Oe||q[Oe]===void 0||ye===!0||ye===void 0&&q[Oe]!==!1)&&(q[Oe||Ce]=Mn(me))}const Z=(me,Ce)=>te.forEach(me,(ye,Ee)=>W(ye,Ee,Ce));if(te.isPlainObject(S)||S instanceof this.constructor)Z(S,N);else if(te.isString(S)&&(S=S.trim())&&!wi(S))Z(Ja(S),N);else if(te.isHeaders(S))for(const[me,Ce]of S.entries())W(Ce,me,D);else S!=null&&W(N,S,D);return this}get(S,N){if(S=pr(S),S){const D=te.findKey(this,S);if(D){const q=this[D];if(!N)return q;if(N===!0)return Xr(q);if(te.isFunction(N))return N.call(this,q,D);if(te.isRegExp(N))return N.exec(q);throw new TypeError("parser must be boolean|regexp|function")}}}has(S,N){if(S=pr(S),S){const D=te.findKey(this,S);return!!(D&&this[D]!==void 0&&(!N||Nr(this,this[D],D,N)))}return!1}delete(S,N){const D=this;let q=!1;function W(Z){if(Z=pr(Z),Z){const me=te.findKey(D,Z);me&&(!N||Nr(D,D[me],me,N))&&(delete D[me],q=!0)}}return te.isArray(S)?S.forEach(W):W(S),q}clear(S){const N=Object.keys(this);let D=N.length,q=!1;for(;D--;){const W=N[D];(!S||Nr(this,this[W],W,S,!0))&&(delete this[W],q=!0)}return q}normalize(S){const N=this,D={};return te.forEach(this,(q,W)=>{const Z=te.findKey(D,W);if(Z){N[Z]=Mn(q),delete N[W];return}const me=S?Dt(W):String(W).trim();me!==W&&delete N[W],N[me]=Mn(q),D[me]=!0}),this}concat(...S){return this.constructor.concat(this,...S)}toJSON(S){const N=Object.create(null);return te.forEach(this,(D,q)=>{D!=null&&D!==!1&&(N[q]=S&&te.isArray(D)?D.join(", "):D)}),N}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([S,N])=>S+": "+N).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(S){return S instanceof this?S:new this(S)}static concat(S,...N){const D=new this(S);return N.forEach(q=>D.set(q)),D}static accessor(S){const D=(this[Wr]=this[Wr]={accessors:{}}).accessors,q=this.prototype;function W(Z){const me=pr(Z);D[me]||(eo(q,Z),D[me]=!0)}return te.isArray(S)?S.forEach(W):W(S),this}}Zr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),te.reduceDescriptors(Zr.prototype,({value:w},S)=>{let N=S[0].toUpperCase()+S.slice(1);return{get:()=>w,set(D){this[N]=D}}}),te.freezeMethods(Zr);var kt=Zr;function yn(w,S){const N=this||bi,D=S||N,q=kt.from(D.headers);let W=D.data;return te.forEach(w,function(me){W=me.call(N,W,q.normalize(),S?S.status:void 0)}),q.normalize(),W}function Ln(w){return!!(w&&w.__CANCEL__)}function Si(w,S,N){Ie.call(this,w??"canceled",Ie.ERR_CANCELED,S,N),this.name="CanceledError"}te.inherits(Si,Ie,{__CANCEL__:!0});function Ks(w,S,N){const D=N.config.validateStatus;!N.status||!D||D(N.status)?w(N):S(new Ie("Request failed with status code "+N.status,[Ie.ERR_BAD_REQUEST,Ie.ERR_BAD_RESPONSE][Math.floor(N.status/100)-4],N.config,N.request,N))}function to(w){const S=/^([-+\w]{1,25})(:?\/\/|:)/.exec(w);return S&&S[1]||""}function Qo(w,S){w=w||10;const N=new Array(w),D=new Array(w);let q=0,W=0,Z;return S=S!==void 0?S:1e3,function(Ce){const ye=Date.now(),Ee=D[W];Z||(Z=ye),N[q]=Ce,D[q]=ye;let Oe=W,mt=0;for(;Oe!==q;)mt+=N[Oe++],Oe=Oe%w;if(q=(q+1)%w,q===W&&(W=(W+1)%w),ye-Z<S)return;const At=Ee&&ye-Ee;return At?Math.round(mt*1e3/At):void 0}}function Ri(w,S){let N=0,D=1e3/S,q,W;const Z=(ye,Ee=Date.now())=>{N=Ee,q=null,W&&(clearTimeout(W),W=null),w.apply(null,ye)};return[(...ye)=>{const Ee=Date.now(),Oe=Ee-N;Oe>=D?Z(ye,Ee):(q=ye,W||(W=setTimeout(()=>{W=null,Z(q)},D-Oe)))},()=>q&&Z(q)]}const gr=(w,S,N=3)=>{let D=0;const q=Qo(50,250);return Ri(W=>{const Z=W.loaded,me=W.lengthComputable?W.total:void 0,Ce=Z-D,ye=q(Ce),Ee=Z<=me;D=Z;const Oe={loaded:Z,total:me,progress:me?Z/me:void 0,bytes:Ce,rate:ye||void 0,estimated:ye&&me&&Ee?(me-Z)/ye:void 0,event:W,lengthComputable:me!=null,[S?"download":"upload"]:!0};w(Oe)},N)},Gn=(w,S)=>{const N=w!=null;return[D=>S[0]({lengthComputable:N,total:w,loaded:D}),S[1]]},vn=w=>(...S)=>te.asap(()=>w(...S));var Yo=Qt.hasStandardBrowserEnv?((w,S)=>N=>(N=new URL(N,Qt.origin),w.protocol===N.protocol&&w.host===N.host&&(S||w.port===N.port)))(new URL(Qt.origin),Qt.navigator&&/(msie|trident)/i.test(Qt.navigator.userAgent)):()=>!0,ru=Qt.hasStandardBrowserEnv?{write(w,S,N,D,q,W){const Z=[w+"="+encodeURIComponent(S)];te.isNumber(N)&&Z.push("expires="+new Date(N).toGMTString()),te.isString(D)&&Z.push("path="+D),te.isString(q)&&Z.push("domain="+q),W===!0&&Z.push("secure"),document.cookie=Z.join("; ")},read(w){const S=document.cookie.match(new RegExp("(^|;\\s*)("+w+")=([^;]*)"));return S?decodeURIComponent(S[3]):null},remove(w){this.write(w,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function rs(w){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(w)}function no(w,S){return S?w.replace(/\/?\/$/,"")+"/"+S.replace(/^\/+/,""):w}function is(w,S){return w&&!rs(S)?no(w,S):S}const Dr=w=>w instanceof kt?{...w}:w;function yt(w,S){S=S||{};const N={};function D(ye,Ee,Oe,mt){return te.isPlainObject(ye)&&te.isPlainObject(Ee)?te.merge.call({caseless:mt},ye,Ee):te.isPlainObject(Ee)?te.merge({},Ee):te.isArray(Ee)?Ee.slice():Ee}function q(ye,Ee,Oe,mt){if(te.isUndefined(Ee)){if(!te.isUndefined(ye))return D(void 0,ye,Oe,mt)}else return D(ye,Ee,Oe,mt)}function W(ye,Ee){if(!te.isUndefined(Ee))return D(void 0,Ee)}function Z(ye,Ee){if(te.isUndefined(Ee)){if(!te.isUndefined(ye))return D(void 0,ye)}else return D(void 0,Ee)}function me(ye,Ee,Oe){if(Oe in S)return D(ye,Ee);if(Oe in w)return D(void 0,ye)}const Ce={url:W,method:W,data:W,baseURL:Z,transformRequest:Z,transformResponse:Z,paramsSerializer:Z,timeout:Z,timeoutMessage:Z,withCredentials:Z,withXSRFToken:Z,adapter:Z,responseType:Z,xsrfCookieName:Z,xsrfHeaderName:Z,onUploadProgress:Z,onDownloadProgress:Z,decompress:Z,maxContentLength:Z,maxBodyLength:Z,beforeRedirect:Z,transport:Z,httpAgent:Z,httpsAgent:Z,cancelToken:Z,socketPath:Z,responseEncoding:Z,validateStatus:me,headers:(ye,Ee,Oe)=>q(Dr(ye),Dr(Ee),Oe,!0)};return te.forEach(Object.keys(Object.assign({},w,S)),function(Ee){const Oe=Ce[Ee]||q,mt=Oe(w[Ee],S[Ee],Ee);te.isUndefined(mt)&&Oe!==me||(N[Ee]=mt)}),N}var Jr=w=>{const S=yt({},w);let{data:N,withXSRFToken:D,xsrfHeaderName:q,xsrfCookieName:W,headers:Z,auth:me}=S;S.headers=Z=kt.from(Z),S.url=mr(is(S.baseURL,S.url),w.params,w.paramsSerializer),me&&Z.set("Authorization","Basic "+btoa((me.username||"")+":"+(me.password?unescape(encodeURIComponent(me.password)):"")));let Ce;if(te.isFormData(N)){if(Qt.hasStandardBrowserEnv||Qt.hasStandardBrowserWebWorkerEnv)Z.setContentType(void 0);else if((Ce=Z.getContentType())!==!1){const[ye,...Ee]=Ce?Ce.split(";").map(Oe=>Oe.trim()).filter(Boolean):[];Z.setContentType([ye||"multipart/form-data",...Ee].join("; "))}}if(Qt.hasStandardBrowserEnv&&(D&&te.isFunction(D)&&(D=D(S)),D||D!==!1&&Yo(S.url))){const ye=q&&W&&ru.read(W);ye&&Z.set(q,ye)}return S},Ys=typeof XMLHttpRequest<"u"&&function(w){return new Promise(function(N,D){const q=Jr(w);let W=q.data;const Z=kt.from(q.headers).normalize();let{responseType:me,onUploadProgress:Ce,onDownloadProgress:ye}=q,Ee,Oe,mt,At,Ne;function ze(){At&&At(),Ne&&Ne(),q.cancelToken&&q.cancelToken.unsubscribe(Ee),q.signal&&q.signal.removeEventListener("abort",Ee)}let De=new XMLHttpRequest;De.open(q.method.toUpperCase(),q.url,!0),De.timeout=q.timeout;function Ct(){if(!De)return;const Ut=kt.from("getAllResponseHeaders"in De&&De.getAllResponseHeaders()),on={data:!me||me==="text"||me==="json"?De.responseText:De.response,status:De.status,statusText:De.statusText,headers:Ut,config:w,request:De};Ks(function(lr){N(lr),ze()},function(lr){D(lr),ze()},on),De=null}"onloadend"in De?De.onloadend=Ct:De.onreadystatechange=function(){!De||De.readyState!==4||De.status===0&&!(De.responseURL&&De.responseURL.indexOf("file:")===0)||setTimeout(Ct)},De.onabort=function(){De&&(D(new Ie("Request aborted",Ie.ECONNABORTED,w,De)),De=null)},De.onerror=function(){D(new Ie("Network Error",Ie.ERR_NETWORK,w,De)),De=null},De.ontimeout=function(){let or=q.timeout?"timeout of "+q.timeout+"ms exceeded":"timeout exceeded";const on=q.transitional||$n;q.timeoutErrorMessage&&(or=q.timeoutErrorMessage),D(new Ie(or,on.clarifyTimeoutError?Ie.ETIMEDOUT:Ie.ECONNABORTED,w,De)),De=null},W===void 0&&Z.setContentType(null),"setRequestHeader"in De&&te.forEach(Z.toJSON(),function(or,on){De.setRequestHeader(on,or)}),te.isUndefined(q.withCredentials)||(De.withCredentials=!!q.withCredentials),me&&me!=="json"&&(De.responseType=q.responseType),ye&&([mt,Ne]=gr(ye,!0),De.addEventListener("progress",mt)),Ce&&De.upload&&([Oe,At]=gr(Ce),De.upload.addEventListener("progress",Oe),De.upload.addEventListener("loadend",At)),(q.cancelToken||q.signal)&&(Ee=Ut=>{De&&(D(!Ut||Ut.type?new Si(null,w,De):Ut),De.abort(),De=null)},q.cancelToken&&q.cancelToken.subscribe(Ee),q.signal&&(q.signal.aborted?Ee():q.signal.addEventListener("abort",Ee)));const Tt=to(q.url);if(Tt&&Qt.protocols.indexOf(Tt)===-1){D(new Ie("Unsupported protocol "+Tt+":",Ie.ERR_BAD_REQUEST,w));return}De.send(W||null)})},ss=(w,S)=>{const{length:N}=w=w?w.filter(Boolean):[];if(S||N){let D=new AbortController,q;const W=function(ye){if(!q){q=!0,me();const Ee=ye instanceof Error?ye:this.reason;D.abort(Ee instanceof Ie?Ee:new Si(Ee instanceof Error?Ee.message:Ee))}};let Z=S&&setTimeout(()=>{Z=null,W(new Ie(`timeout ${S} of ms exceeded`,Ie.ETIMEDOUT))},S);const me=()=>{w&&(Z&&clearTimeout(Z),Z=null,w.forEach(ye=>{ye.unsubscribe?ye.unsubscribe(W):ye.removeEventListener("abort",W)}),w=null)};w.forEach(ye=>ye.addEventListener("abort",W));const{signal:Ce}=D;return Ce.unsubscribe=()=>te.asap(me),Ce}};const Ai=function*(w,S){let N=w.byteLength;if(N<S){yield w;return}let D=0,q;for(;D<N;)q=D+S,yield w.slice(D,q),D=q},nr=async function*(w,S){for await(const N of iu(w))yield*Ai(N,S)},iu=async function*(w){if(w[Symbol.asyncIterator]){yield*w;return}const S=w.getReader();try{for(;;){const{done:N,value:D}=await S.read();if(N)break;yield D}}finally{await S.cancel()}},Ws=(w,S,N,D)=>{const q=nr(w,S);let W=0,Z,me=Ce=>{Z||(Z=!0,D&&D(Ce))};return new ReadableStream({async pull(Ce){try{const{done:ye,value:Ee}=await q.next();if(ye){me(),Ce.close();return}let Oe=Ee.byteLength;if(N){let mt=W+=Oe;N(mt)}Ce.enqueue(new Uint8Array(Ee))}catch(ye){throw me(ye),ye}},cancel(Ce){return me(Ce),q.return()}},{highWaterMark:2})},as=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Xs=as&&typeof ReadableStream=="function",su=as&&(typeof TextEncoder=="function"?(w=>S=>w.encode(S))(new TextEncoder):async w=>new Uint8Array(await new Response(w).arrayBuffer())),Wo=(w,...S)=>{try{return!!w(...S)}catch{return!1}},kr=Xs&&Wo(()=>{let w=!1;const S=new Request(Qt.origin,{body:new ReadableStream,method:"POST",get duplex(){return w=!0,"half"}}).headers.has("Content-Type");return w&&!S}),Kn=64*1024,Ci=Xs&&Wo(()=>te.isReadableStream(new Response("").body)),rr={stream:Ci&&(w=>w.body)};as&&(w=>{["text","arrayBuffer","blob","formData","stream"].forEach(S=>{!rr[S]&&(rr[S]=te.isFunction(w[S])?N=>N[S]():(N,D)=>{throw new Ie(`Response type '${S}' is not supported`,Ie.ERR_NOT_SUPPORT,D)})})})(new Response);const ei=async w=>{if(w==null)return 0;if(te.isBlob(w))return w.size;if(te.isSpecCompliantForm(w))return(await new Request(Qt.origin,{method:"POST",body:w}).arrayBuffer()).byteLength;if(te.isArrayBufferView(w)||te.isArrayBuffer(w))return w.byteLength;if(te.isURLSearchParams(w)&&(w=w+""),te.isString(w))return(await su(w)).byteLength},ti=async(w,S)=>{const N=te.toFiniteNumber(w.getContentLength());return N??ei(S)};var ro=as&&(async w=>{let{url:S,method:N,data:D,signal:q,cancelToken:W,timeout:Z,onDownloadProgress:me,onUploadProgress:Ce,responseType:ye,headers:Ee,withCredentials:Oe="same-origin",fetchOptions:mt}=Jr(w);ye=ye?(ye+"").toLowerCase():"text";let At=ss([q,W&&W.toAbortSignal()],Z),Ne;const ze=At&&At.unsubscribe&&(()=>{At.unsubscribe()});let De;try{if(Ce&&kr&&N!=="get"&&N!=="head"&&(De=await ti(Ee,D))!==0){let on=new Request(S,{method:"POST",body:D,duplex:"half"}),vr;if(te.isFormData(D)&&(vr=on.headers.get("content-type"))&&Ee.setContentType(vr),on.body){const[lr,en]=Gn(De,gr(vn(Ce)));D=Ws(on.body,Kn,lr,en)}}te.isString(Oe)||(Oe=Oe?"include":"omit");const Ct="credentials"in Request.prototype;Ne=new Request(S,{...mt,signal:At,method:N.toUpperCase(),headers:Ee.normalize().toJSON(),body:D,duplex:"half",credentials:Ct?Oe:void 0});let Tt=await fetch(Ne);const Ut=Ci&&(ye==="stream"||ye==="response");if(Ci&&(me||Ut&&ze)){const on={};["status","statusText","headers"].forEach(io=>{on[io]=Tt[io]});const vr=te.toFiniteNumber(Tt.headers.get("content-length")),[lr,en]=me&&Gn(vr,gr(vn(me),!0))||[];Tt=new Response(Ws(Tt.body,Kn,lr,()=>{en&&en(),ze&&ze()}),on)}ye=ye||"text";let or=await rr[te.findKey(rr,ye)||"text"](Tt,w);return!Ut&&ze&&ze(),await new Promise((on,vr)=>{Ks(on,vr,{data:or,headers:kt.from(Tt.headers),status:Tt.status,statusText:Tt.statusText,config:w,request:Ne})})}catch(Ct){throw ze&&ze(),Ct&&Ct.name==="TypeError"&&/fetch/i.test(Ct.message)?Object.assign(new Ie("Network Error",Ie.ERR_NETWORK,w,Ne),{cause:Ct.cause||Ct}):Ie.from(Ct,Ct&&Ct.code,w,Ne)}});const Zs={http:Qa,xhr:Ys,fetch:ro};te.forEach(Zs,(w,S)=>{if(w){try{Object.defineProperty(w,"name",{value:S})}catch{}Object.defineProperty(w,"adapterName",{value:S})}});const Ii=w=>`- ${w}`,ir=w=>te.isFunction(w)||w===null||w===!1;var Oi={getAdapter:w=>{w=te.isArray(w)?w:[w];const{length:S}=w;let N,D;const q={};for(let W=0;W<S;W++){N=w[W];let Z;if(D=N,!ir(N)&&(D=Zs[(Z=String(N)).toLowerCase()],D===void 0))throw new Ie(`Unknown adapter '${Z}'`);if(D)break;q[Z||"#"+W]=D}if(!D){const W=Object.entries(q).map(([me,Ce])=>`adapter ${me} `+(Ce===!1?"is not supported by the environment":"is not available in the build"));let Z=S?W.length>1?`since :
`+W.map(Ii).join(`
`):" "+Ii(W[0]):"as no adapter specified";throw new Ie("There is no suitable adapter to dispatch the request "+Z,"ERR_NOT_SUPPORT")}return D},adapters:Zs};function sr(w){if(w.cancelToken&&w.cancelToken.throwIfRequested(),w.signal&&w.signal.aborted)throw new Si(null,w)}function ni(w){return sr(w),w.headers=kt.from(w.headers),w.data=yn.call(w,w.transformRequest),["post","put","patch"].indexOf(w.method)!==-1&&w.headers.setContentType("application/x-www-form-urlencoded",!1),Oi.getAdapter(w.adapter||bi.adapter)(w).then(function(D){return sr(w),D.data=yn.call(w,w.transformResponse,D),D.headers=kt.from(D.headers),D},function(D){return Ln(D)||(sr(w),D&&D.response&&(D.response.data=yn.call(w,w.transformResponse,D.response),D.response.headers=kt.from(D.response.headers))),Promise.reject(D)})}const Pr="1.7.9",xi={};["object","boolean","number","function","string","symbol"].forEach((w,S)=>{xi[w]=function(D){return typeof D===w||"a"+(S<1?"n ":" ")+w}});const yr={};xi.transitional=function(S,N,D){function q(W,Z){return"[Axios v"+Pr+"] Transitional option '"+W+"'"+Z+(D?". "+D:"")}return(W,Z,me)=>{if(S===!1)throw new Ie(q(Z," has been removed"+(N?" in "+N:"")),Ie.ERR_DEPRECATED);return N&&!yr[Z]&&(yr[Z]=!0,console.warn(q(Z," has been deprecated since v"+N+" and will be removed in the near future"))),S?S(W,Z,me):!0}},xi.spelling=function(S){return(N,D)=>(console.warn(`${D} is likely a misspelling of ${S}`),!0)};function Mr(w,S,N){if(typeof w!="object")throw new Ie("options must be an object",Ie.ERR_BAD_OPTION_VALUE);const D=Object.keys(w);let q=D.length;for(;q-- >0;){const W=D[q],Z=S[W];if(Z){const me=w[W],Ce=me===void 0||Z(me,W,w);if(Ce!==!0)throw new Ie("option "+W+" must be "+Ce,Ie.ERR_BAD_OPTION_VALUE);continue}if(N!==!0)throw new Ie("Unknown option "+W,Ie.ERR_BAD_OPTION)}}var Ni={assertOptions:Mr,validators:xi};const Et=Ni.validators;class it{constructor(S){this.defaults=S,this.interceptors={request:new tr,response:new tr}}async request(S,N){try{return await this._request(S,N)}catch(D){if(D instanceof Error){let q={};Error.captureStackTrace?Error.captureStackTrace(q):q=new Error;const W=q.stack?q.stack.replace(/^.+\n/,""):"";try{D.stack?W&&!String(D.stack).endsWith(W.replace(/^.+\n.+\n/,""))&&(D.stack+=`
`+W):D.stack=W}catch{}}throw D}}_request(S,N){typeof S=="string"?(N=N||{},N.url=S):N=S||{},N=yt(this.defaults,N);const{transitional:D,paramsSerializer:q,headers:W}=N;D!==void 0&&Ni.assertOptions(D,{silentJSONParsing:Et.transitional(Et.boolean),forcedJSONParsing:Et.transitional(Et.boolean),clarifyTimeoutError:Et.transitional(Et.boolean)},!1),q!=null&&(te.isFunction(q)?N.paramsSerializer={serialize:q}:Ni.assertOptions(q,{encode:Et.function,serialize:Et.function},!0)),Ni.assertOptions(N,{baseUrl:Et.spelling("baseURL"),withXsrfToken:Et.spelling("withXSRFToken")},!0),N.method=(N.method||this.defaults.method||"get").toLowerCase();let Z=W&&te.merge(W.common,W[N.method]);W&&te.forEach(["delete","get","head","post","put","patch","common"],Ne=>{delete W[Ne]}),N.headers=kt.concat(Z,W);const me=[];let Ce=!0;this.interceptors.request.forEach(function(ze){typeof ze.runWhen=="function"&&ze.runWhen(N)===!1||(Ce=Ce&&ze.synchronous,me.unshift(ze.fulfilled,ze.rejected))});const ye=[];this.interceptors.response.forEach(function(ze){ye.push(ze.fulfilled,ze.rejected)});let Ee,Oe=0,mt;if(!Ce){const Ne=[ni.bind(this),void 0];for(Ne.unshift.apply(Ne,me),Ne.push.apply(Ne,ye),mt=Ne.length,Ee=Promise.resolve(N);Oe<mt;)Ee=Ee.then(Ne[Oe++],Ne[Oe++]);return Ee}mt=me.length;let At=N;for(Oe=0;Oe<mt;){const Ne=me[Oe++],ze=me[Oe++];try{At=Ne(At)}catch(De){ze.call(this,De);break}}try{Ee=ni.call(this,At)}catch(Ne){return Promise.reject(Ne)}for(Oe=0,mt=ye.length;Oe<mt;)Ee=Ee.then(ye[Oe++],ye[Oe++]);return Ee}getUri(S){S=yt(this.defaults,S);const N=is(S.baseURL,S.url);return mr(N,S.params,S.paramsSerializer)}}te.forEach(["delete","get","head","options"],function(S){it.prototype[S]=function(N,D){return this.request(yt(D||{},{method:S,url:N,data:(D||{}).data}))}}),te.forEach(["post","put","patch"],function(S){function N(D){return function(W,Z,me){return this.request(yt(me||{},{method:S,headers:D?{"Content-Type":"multipart/form-data"}:{},url:W,data:Z}))}}it.prototype[S]=N(),it.prototype[S+"Form"]=N(!0)});var ri=it;class ii{constructor(S){if(typeof S!="function")throw new TypeError("executor must be a function.");let N;this.promise=new Promise(function(W){N=W});const D=this;this.promise.then(q=>{if(!D._listeners)return;let W=D._listeners.length;for(;W-- >0;)D._listeners[W](q);D._listeners=null}),this.promise.then=q=>{let W;const Z=new Promise(me=>{D.subscribe(me),W=me}).then(q);return Z.cancel=function(){D.unsubscribe(W)},Z},S(function(W,Z,me){D.reason||(D.reason=new Si(W,Z,me),N(D.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(S){if(this.reason){S(this.reason);return}this._listeners?this._listeners.push(S):this._listeners=[S]}unsubscribe(S){if(!this._listeners)return;const N=this._listeners.indexOf(S);N!==-1&&this._listeners.splice(N,1)}toAbortSignal(){const S=new AbortController,N=D=>{S.abort(D)};return this.subscribe(N),S.signal.unsubscribe=()=>this.unsubscribe(N),S.signal}static source(){let S;return{token:new ii(function(q){S=q}),cancel:S}}}var Xo=ii;function Js(w){return function(N){return w.apply(null,N)}}function ea(w){return te.isObject(w)&&w.isAxiosError===!0}const ar={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ar).forEach(([w,S])=>{ar[S]=w});var os=ar;function Qn(w){const S=new ri(w),N=n(ri.prototype.request,S);return te.extend(N,ri.prototype,S,{allOwnKeys:!0}),te.extend(N,S,null,{allOwnKeys:!0}),N.create=function(q){return Qn(yt(w,q))},N}const Pt=Qn(bi);return Pt.Axios=ri,Pt.CanceledError=Si,Pt.CancelToken=Xo,Pt.isCancel=Ln,Pt.VERSION=Pr,Pt.toFormData=Hn,Pt.AxiosError=Ie,Pt.Cancel=Pt.CanceledError,Pt.all=function(S){return Promise.all(S)},Pt.spread=Js,Pt.isAxiosError=ea,Pt.mergeConfig=yt,Pt.AxiosHeaders=kt,Pt.formToJSON=w=>qt(te.isHTMLForm(w)?new FormData(w):w),Pt.getAdapter=Oi.getAdapter,Pt.HttpStatusCode=os,Pt.default=Pt,Dp=Pt,Dp}var kp,Tb;function oU(){if(Tb)return kp;Tb=1;var n=function(t,i){return i?t.then(function(a){i(null,a.data)}).catch(function(a){i(a,null)}):t.then(function(a){return a.data})};return kp=n,kp}const lU={},uU=Object.freeze(Object.defineProperty({__proto__:null,default:lU},Symbol.toStringTag,{value:"Module"})),cU=tI(uU);var Pp,bb;function Jn(){if(bb)return Pp;bb=1;var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E};function e(E){return+new Date(E)/1e3}function t(E){return i(E)?E:e(E)}function i(E){return!isNaN(Number(E))}function a(E){return!!E&&(typeof E>"u"?"undefined":n(E))==="object"&&!Array.isArray(E)}function l(E){return E===void 0?E:E?1:0}function c(E){return typeof E<"u"}function h(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},C={};for(var P in E)C["notes["+P+"]"]=E[P];return C}function f(E){return JSON.stringify(E,null,2)}function p(E,C,P){return new Error(`
`+E+`
`+("Expected("+(typeof C>"u"?"undefined":n(C))+`)
`+f(C)+`

`)+("Got("+(typeof P>"u"?"undefined":n(P))+`)
`+f(P)))}function y(E,C,P){var $=cU;if(!c(E)||!c(C)||!c(P))throw Error("Invalid Parameters: Please give request body,signature sent in X-Razorpay-Signature header and webhook secret from dashboard as parameters");E=E.toString();var j=$.createHmac("sha256",P).update(E).digest("hex");return j===C}function _(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},C=arguments[1],P=arguments[2],$=E.payment_id;if(!P)throw new Error("secret is mandatory");if(c(E.order_id)===!0)var j=E.order_id,H=j+"|"+$;else if(c(E.subscription_id)===!0)var Y=E.subscription_id,H=$+"|"+Y;else if(c(E.payment_link_id)===!0)var z=E.payment_link_id,re=E.payment_link_reference_id,se=E.payment_link_status,H=z+"|"+re+"|"+se+"|"+$;else throw new Error("Either order_id or subscription_id is mandatory");return y(H,C,P)}return Pp={normalizeNotes:h,normalizeDate:t,normalizeBoolean:l,isNumber:i,getDateInSecs:e,prettify:f,isDefined:c,isNonNullObject:a,getTestError:p,validateWebhookSignature:y,validatePaymentVerification:_},Pp}var Mp,wb;function fU(){if(wb)return Mp;wb=1;var n=function(){function y(_,E){for(var C=0;C<E.length;C++){var P=E[C];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(_,P.key,P)}}return function(_,E,C){return E&&y(_.prototype,E),C&&y(_,C),_}}();function e(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")}var t=aU().default,i=oU(),a=Jn(),l=a.isNonNullObject,c={"X-Razorpay-Account":"","Content-Type":"application/json"};function h(y){var _={};return l(y)?Object.keys(y).reduce(function(E,C){return c.hasOwnProperty(C)&&(E[C]=y[C]),E},_):_}function f(y){throw{statusCode:y.response.status,error:y.response.data.error}}var p=function(){function y(_){e(this,y),this.version="v1",this.rq=t.create({baseURL:_.hostUrl,auth:{username:_.key_id,password:_.key_secret},headers:Object.assign({"User-Agent":_.ua},h(_.headers))})}return n(y,[{key:"getEntityUrl",value:function(E){return E.hasOwnProperty("version")?"/"+E.version+E.url:"/"+this.version+E.url}},{key:"get",value:function(E,C){return i(this.rq.get(this.getEntityUrl(E),{params:E.data}).catch(f),C)}},{key:"post",value:function(E,C){return i(this.rq.post(this.getEntityUrl(E),E.data).catch(f),C)}},{key:"postFormData",value:function(E,C){return i(this.rq.post(this.getEntityUrl(E),E.formData,{headers:{"Content-Type":"multipart/form-data"}}).catch(f),C)}},{key:"put",value:function(E,C){return i(this.rq.put(this.getEntityUrl(E),E.data).catch(f),C)}},{key:"patch",value:function(E,C){return i(this.rq.patch(this.getEntityUrl(E),E.data).catch(f),C)}},{key:"delete",value:function(E,C){return i(this.rq.delete(this.getEntityUrl(E)).catch(f),C)}}]),y}();return Mp=p,Mp}const hU="2.9.5",dU={version:hU};var Lp,Sb;function mU(){if(Sb)return Lp;Sb=1;var n=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(t[l]=a[l])}return t};function e(t,i){var a={};for(var l in t)i.indexOf(l)>=0||Object.prototype.hasOwnProperty.call(t,l)&&(a[l]=t[l]);return a}return Lp=function(t){var i="/accounts";return{create:function(l,c){return t.post({version:"v2",url:""+i,data:l},c)},edit:function(l,c,h){return t.patch({version:"v2",url:i+"/"+l,data:c},h)},fetch:function(l,c){return t.get({version:"v2",url:i+"/"+l},c)},delete:function(l,c){return t.delete({version:"v2",url:i+"/"+l},c)},uploadAccountDoc:function(l,c,h){var f=c.file,p=e(c,["file"]);return t.postFormData({version:"v2",url:i+"/"+l+"/documents",formData:n({file:f.value},p)},h)},fetchAccountDoc:function(l,c){return t.get({version:"v2",url:i+"/"+l+"/documents"},c)}}},Lp}var Up,Rb;function pU(){if(Rb)return Up;Rb=1;var n=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(t[l]=a[l])}return t};function e(t,i){var a={};for(var l in t)i.indexOf(l)>=0||Object.prototype.hasOwnProperty.call(t,l)&&(a[l]=t[l]);return a}return Up=function(t){var i="/accounts";return{create:function(l,c,h){return t.post({version:"v2",url:i+"/"+l+"/stakeholders",data:c},h)},edit:function(l,c,h,f){return t.patch({version:"v2",url:i+"/"+l+"/stakeholders/"+c,data:h},f)},fetch:function(l,c,h){return t.get({version:"v2",url:i+"/"+l+"/stakeholders/"+c},h)},all:function(l,c){return t.get({version:"v2",url:i+"/"+l+"/stakeholders"},c)},uploadStakeholderDoc:function(l,c,h,f){var p=h.file,y=e(h,["file"]);return t.postFormData({version:"v2",url:i+"/"+l+"/stakeholders/"+c+"/documents",formData:n({file:p.value},y)},f)},fetchStakeholderDoc:function(l,c,h){return t.get({version:"v2",url:i+"/"+l+"/stakeholders/"+c+"/documents"},h)}}},Up}var Vp,Ab;function gU(){if(Ab)return Vp;Ab=1;var n=Object.assign||function(c){for(var h=1;h<arguments.length;h++){var f=arguments[h];for(var p in f)Object.prototype.hasOwnProperty.call(f,p)&&(c[p]=f[p])}return c};function e(c,h){var f={};for(var p in c)h.indexOf(p)>=0||Object.prototype.hasOwnProperty.call(c,p)&&(f[p]=c[p]);return f}var t=Jn(),i=t.normalizeDate,a="`payment_id` is mandatory",l="/payments";return Vp=function(c){return{all:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=arguments[1],y=f.from,_=f.to,E=f.count,C=f.skip,P=void 0;return y&&(y=i(y)),_&&(_=i(_)),f.hasOwnProperty("expand[]")&&(P={"expand[]":f["expand[]"]}),E=Number(E)||10,C=Number(C)||0,c.get({url:""+l,data:{from:y,to:_,count:E,skip:C,expand:P}},p)},fetch:function(f){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=arguments[2],_=void 0;if(!f)throw new Error("`payment_id` is mandatory");return p.hasOwnProperty("expand[]")&&(_={"expand[]":p["expand[]"]}),c.get({url:l+"/"+f,data:{expand:_}},y)},capture:function(f,p,y,_){if(!f)throw new Error("`payment_id` is mandatory");if(!p)throw new Error("`amount` is mandatory");var E={amount:p};return typeof y=="function"&&!_?(_=y,y=void 0):typeof y=="string"&&(E.currency=y),c.post({url:l+"/"+f+"/capture",data:E},_)},createPaymentJson:function(f,p){var y=l+"/create/json",_=e(f,[]),E=Object.assign(_);return c.post({url:y,data:E},p)},createRecurringPayment:function(f,p){return c.post({url:l+"/create/recurring",data:f},p)},edit:function(f){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=arguments[2];if(!f)throw new Error("`payment_id` is mandatory");return c.patch({url:l+"/"+f,data:p},y)},refund:function(f){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=arguments[2];if(!f)throw new Error("`payment_id` is mandatory");return c.post({url:l+"/"+f+"/refund",data:p},y)},fetchMultipleRefund:function(f){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=arguments[2],_=p.from,E=p.to,C=p.count,P=p.skip,$=l+"/"+f+"/refunds";return c.get({url:$,data:n({},p,{from:_,to:E,count:C,skip:P})},y)},fetchRefund:function(f,p,y){if(!f)throw new Error("payment Id` is mandatory");if(!p)throw new Error("refund Id` is mandatory");return c.get({url:l+"/"+f+"/refunds/"+p},y)},fetchTransfer:function(f,p){if(!f)throw new Error("payment Id` is mandatory");return c.get({url:l+"/"+f+"/transfers"},p)},transfer:function(f){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=arguments[2];if(!f)throw new Error("`payment_id` is mandatory");return c.post({url:l+"/"+f+"/transfers",data:p},y)},bankTransfer:function(f,p){return f?c.get({url:l+"/"+f+"/bank_transfer"},p):Promise.reject(a)},fetchCardDetails:function(f,p){return f?c.get({url:l+"/"+f+"/card"},p):Promise.reject(a)},fetchPaymentDowntime:function(f){return c.get({url:l+"/downtimes"},f)},fetchPaymentDowntimeById:function(f,p){return f?c.get({url:l+"/downtimes/"+f},p):Promise.reject("Downtime Id is mandatory")},otpGenerate:function(f,p){return f?c.post({url:l+"/"+f+"/otp_generate"},p):Promise.reject("payment Id is mandatory")},otpSubmit:function(f){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=arguments[2];return f?c.post({url:l+"/"+f+"/otp/submit",data:p},y):Promise.reject("payment Id is mandatory")},otpResend:function(f,p){return f?c.post({url:l+"/"+f+"/otp/resend"},p):Promise.reject("payment Id is mandatory")},createUpi:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=arguments[1],y=l+"/create/upi",_=e(f,[]),E=Object.assign(_);return c.post({url:y,data:E},p)},validateVpa:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=arguments[1],y=l+"/validate/vpa",_=e(f,[]),E=Object.assign(_);return c.post({url:y,data:E},p)},fetchPaymentMethods:function(f){var p="/methods";return c.get({url:p},f)}}},Vp}var jp,Cb;function yU(){if(Cb)return jp;Cb=1;var n=Jn(),e=n.normalizeDate;return n.normalizeNotes,jp=function(t){return{all:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments[1],c=a.from,h=a.to,f=a.count,p=a.skip,y=a.payment_id,_="/refunds";return y&&(_="/payments/"+y+"/refunds"),c&&(c=e(c)),h&&(h=e(h)),f=Number(f)||10,p=Number(p)||0,t.get({url:_,data:{from:c,to:h,count:f,skip:p}},l)},edit:function(a,l,c){if(!a)throw new Error("refund Id is mandatory");return t.patch({url:"/refunds/"+a,data:l},c)},fetch:function(a){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=arguments[2],h=l.payment_id;if(!a)throw new Error("`refund_id` is mandatory");var f="/refunds/"+a;return h&&(f="/payments/"+h+f),t.get({url:f},c)}}},jp}var Bp,Ib;function vU(){if(Ib)return Bp;Ib=1;var n=Object.assign||function(a){for(var l=1;l<arguments.length;l++){var c=arguments[l];for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(a[h]=c[h])}return a};function e(a,l){var c={};for(var h in a)l.indexOf(h)>=0||Object.prototype.hasOwnProperty.call(a,h)&&(c[h]=a[h]);return c}var t=Jn(),i=t.normalizeDate;return Bp=function(a){return{all:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=arguments[1],f=c.from,p=c.to,y=c.count,_=c.skip,E=c.authorized,C=c.receipt,P=void 0;return f&&(f=i(f)),p&&(p=i(p)),c.hasOwnProperty("expand[]")&&(P={"expand[]":c["expand[]"]}),y=Number(y)||10,_=Number(_)||0,E=E,a.get({url:"/orders",data:{from:f,to:p,count:y,skip:_,authorized:E,receipt:C,expand:P}},h)},fetch:function(c,h){if(!c)throw new Error("`order_id` is mandatory");return a.get({url:"/orders/"+c},h)},create:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=arguments[1],f=c.currency,p=e(c,["currency"]);f=f||"INR";var y=Object.assign(n({currency:f},p));return a.post({url:"/orders",data:y},h)},edit:function(c){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=arguments[2];if(!c)throw new Error("`order_id` is mandatory");return a.patch({url:"/orders/"+c,data:h},f)},fetchPayments:function(c,h){if(!c)throw new Error("`order_id` is mandatory");return a.get({url:"/orders/"+c+"/payments"},h)},fetchTransferOrder:function(c,h){if(!c)throw new Error("`order_id` is mandatory");return a.get({url:"/orders/"+c+"/?expand[]=transfers&status"},h)},viewRtoReview:function(c,h){return a.post({url:"/orders/"+c+"/rto_review"},h)},editFulfillment:function(c){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return a.post({url:"/orders/"+c+"/fulfillment",data:h})}}},Bp}var zp,Ob;function _U(){return Ob||(Ob=1,zp=function(n){return{create:function(t,i){return n.post({url:"/customers",data:t},i)},edit:function(t,i,a){return n.put({url:"/customers/"+t,data:i},a)},fetch:function(t,i){return n.get({url:"/customers/"+t},i)},all:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments[1],a=t.count,l=t.skip;return a=Number(a)||10,l=Number(l)||0,n.get({url:"/customers",data:{count:a,skip:l}},i)},fetchTokens:function(t,i){return n.get({url:"/customers/"+t+"/tokens"},i)},fetchToken:function(t,i,a){return n.get({url:"/customers/"+t+"/tokens/"+i},a)},deleteToken:function(t,i,a){return n.delete({url:"/customers/"+t+"/tokens/"+i},a)},addBankAccount:function(t,i,a){return n.post({url:"/customers/"+t+"/bank_account",data:i},a)},deleteBankAccount:function(t,i,a){return n.delete({url:"/customers/"+t+"/bank_account/"+i},a)},requestEligibilityCheck:function(t,i){return n.post({url:"/customers/eligibility",data:t},i)},fetchEligibility:function(t,i){return n.get({url:"/customers/eligibility/"+t},i)}}}),zp}var qp,xb;function EU(){if(xb)return qp;xb=1;var n=Jn(),e=n.normalizeDate;return qp=function(t){return{all:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments[1],c=a.from,h=a.to,f=a.count,p=a.skip,y=a.payment_id,_=a.recipient_settlement_id,E="/transfers";return y&&(E="/payments/"+y+"/transfers"),c&&(c=e(c)),h&&(h=e(h)),f=Number(f)||10,p=Number(p)||0,t.get({url:E,data:{from:c,to:h,count:f,skip:p,recipient_settlement_id:_}},l)},fetch:function(a){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=arguments[2];if(l.payment_id,!a)throw new Error("`transfer_id` is mandatory");var h="/transfers/"+a;return t.get({url:h},c)},create:function(a,l){return t.post({url:"/transfers",data:a},l)},edit:function(a,l,c){return t.patch({url:"/transfers/"+a,data:l},c)},reverse:function(a,l,c){if(!a)throw new Error("`transfer_id` is mandatory");var h="/transfers/"+a+"/reversals";return t.post({url:h,data:l},c)},fetchSettlements:function(a){return t.get({url:"/transfers?expand[]=recipient_settlement"},a)}}},qp}var Fp,Nb;function TU(){if(Nb)return Fp;Nb=1;var n=Jn();return n.normalizeNotes,Fp=function(e){var t="/tokens";return{create:function(a,l){return e.post({url:""+t,data:a},l)},fetch:function(a,l){return e.post({url:t+"/fetch",data:a},l)},delete:function(a,l){return e.post({url:t+"/delete",data:a},l)},processPaymentOnAlternatePAorPG:function(a,l){return e.post({url:t+"/service_provider_tokens/token_transactional_data",data:a},l)}}},Fp}var Hp,Db;function bU(){if(Db)return Hp;Db=1;var n=Object.assign||function(c){for(var h=1;h<arguments.length;h++){var f=arguments[h];for(var p in f)Object.prototype.hasOwnProperty.call(f,p)&&(c[p]=f[p])}return c};function e(c,h){var f={};for(var p in c)h.indexOf(p)>=0||Object.prototype.hasOwnProperty.call(c,p)&&(f[p]=c[p]);return f}var t=Jn(),i=t.normalizeDate;t.normalizeNotes;var a="/virtual_accounts",l="`virtual_account_id` is mandatory";return Hp=function(c){return{all:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=arguments[1],y=f.from,_=f.to,E=f.count,C=f.skip,P=e(f,["from","to","count","skip"]),$=a;return y&&(y=i(y)),_&&(_=i(_)),E=Number(E)||10,C=Number(C)||0,c.get({url:$,data:n({from:y,to:_,count:E,skip:C},P)},p)},fetch:function(f,p){if(!f)return Promise.reject(l);var y=a+"/"+f;return c.get({url:y},p)},create:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=arguments[1];return c.post({url:a,data:f},p)},close:function(f,p){return f?c.post({url:a+"/"+f+"/close"},p):Promise.reject(l)},fetchPayments:function(f,p){if(!f)return Promise.reject(l);var y=a+"/"+f+"/payments";return c.get({url:y},p)},addReceiver:function(f){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=arguments[2];return f?c.post({url:a+"/"+f+"/receivers",data:p},y):Promise.reject(l)},allowedPayer:function(f){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=arguments[2];return f?c.post({url:a+"/"+f+"/allowed_payers",data:p},y):Promise.reject(l)},deleteAllowedPayer:function(f,p,y){return f?p?c.delete({url:a+"/"+f+"/allowed_payers/"+p},y):Promise.reject("allowed payer id is mandatory"):Promise.reject(l)}}},Hp}var $p,kb;function wU(){if(kb)return $p;kb=1;var n=Object.assign||function(i){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(i[c]=l[c])}return i},e=Jn(),t=e.normalizeDate;return $p=function(a){var l="/invoices",c="Invoice ID is mandatory";return{create:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=arguments[1],y=l;return a.post({url:y,data:f},p)},edit:function(f){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=arguments[2],_=l+"/"+f;return f?a.patch({url:_,data:p},y):Promise.reject("Invoice ID is mandatory")},issue:function(f,p){if(!f)return Promise.reject(c);var y=l+"/"+f+"/issue";return a.post({url:y},p)},delete:function(f,p){if(!f)return Promise.reject(c);var y=l+"/"+f;return a.delete({url:y},p)},cancel:function(f,p){if(!f)return Promise.reject(c);var y=l+"/"+f+"/cancel";return a.post({url:y},p)},fetch:function(f,p){if(!f)return Promise.reject(c);var y=l+"/"+f;return a.get({url:y},p)},all:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=arguments[1],y=f.from,_=f.to,E=f.count,C=f.skip,P=l;return y&&(y=t(y)),_&&(_=t(_)),E=Number(E)||10,C=Number(C)||0,a.get({url:P,data:n({},f,{from:y,to:_,count:E,skip:C})},p)},notifyBy:function(f,p,y){if(!f)return Promise.reject(c);if(!p)return Promise.reject("`medium` is required");var _=l+"/"+f+"/notify_by/"+p;return a.post({url:_},y)}}},$p}var Gp,Pb;function SU(){return Pb||(Pb=1,Gp=function(n){var e="/iins";return{fetch:function(i,a){return n.get({url:e+"/"+i},a)},all:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments[1];return n.get({url:e+"/list",data:i},a)}}}),Gp}var Kp,Mb;function RU(){if(Mb)return Kp;Mb=1;var n=Object.assign||function(i){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(i[c]=l[c])}return i},e=Jn(),t=e.normalizeDate;return Kp=function(a){var l="/payment_links",c="Payment Link ID is mandatory";return{create:function(f,p){var y=l;return a.post({url:y,data:f},p)},cancel:function(f,p){if(!f)return Promise.reject(c);var y=l+"/"+f+"/cancel";return a.post({url:y},p)},fetch:function(f,p){if(!f)return Promise.reject(c);var y=l+"/"+f;return a.get({url:y},p)},all:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=arguments[1],y=f.from,_=f.to,E=f.count,C=f.skip,P=l;return y&&(y=t(y)),_&&(_=t(_)),E=Number(E)||10,C=Number(C)||0,a.get({url:P,data:n({},f,{from:y,to:_,count:E,skip:C})},p)},edit:function(f,p,y){return a.patch({url:l+"/"+f,data:p},y)},notifyBy:function(f,p,y){if(!f)return Promise.reject(c);if(!p)return Promise.reject("`medium` is required");var _=l+"/"+f+"/notify_by/"+p;return a.post({url:_},y)}}},Kp}var Qp,Lb;function AU(){if(Lb)return Qp;Lb=1;var n=Object.assign||function(i){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(i[c]=l[c])}return i},e=Jn(),t=e.normalizeDate;return Qp=function(a){var l="/plans",c="Plan ID is mandatory";return{create:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=arguments[1],y=l;return a.post({url:y,data:f},p)},fetch:function(f,p){if(!f)return Promise.reject(c);var y=l+"/"+f;return a.get({url:y},p)},all:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=arguments[1],y=f.from,_=f.to,E=f.count,C=f.skip,P=l;return y&&(y=t(y)),_&&(_=t(_)),E=Number(E)||10,C=Number(C)||0,a.get({url:P,data:n({},f,{from:y,to:_,count:E,skip:C})},p)}}},Qp}var Yp,Ub;function CU(){return Ub||(Ub=1,Yp=function(n){var e="/accounts";return{requestProductConfiguration:function(i,a,l){return n.post({version:"v2",url:e+"/"+i+"/products",data:a},l)},edit:function(i,a,l,c){return n.patch({version:"v2",url:e+"/"+i+"/products/"+a,data:l},c)},fetch:function(i,a,l){return n.get({version:"v2",url:e+"/"+i+"/products/"+a},l)},fetchTnc:function(i,a){return n.get({version:"v2",url:"/products/"+i+"/tnc"},a)}}}),Yp}var Wp,Vb;function IU(){if(Vb)return Wp;Vb=1;var n=Object.assign||function(i){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(i[c]=l[c])}return i},e=Jn(),t=e.normalizeDate;return Wp=function(a){var l="/subscriptions",c="Subscription ID is mandatory";return{create:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=arguments[1],y=l;return a.post({url:y,data:f},p)},fetch:function(f,p){if(!f)return Promise.reject(c);var y=l+"/"+f;return a.get({url:y},p)},update:function(f,p,y){var _=l+"/"+f;return f?a.patch({url:_,data:p},y):Promise.reject(c)},pendingUpdate:function(f,p){var y=l+"/"+f+"/retrieve_scheduled_changes";return f?a.get({url:y},p):Promise.reject(c)},cancelScheduledChanges:function(f,p){var y=l+"/"+f+"/cancel_scheduled_changes";return f?a.post({url:y},p):Promise.reject("Subscription Id is mandatory")},pause:function(f){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=arguments[2],_=l+"/"+f+"/pause";return f?a.post({url:_,data:p},y):Promise.reject("Subscription Id is mandatory")},resume:function(f){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=arguments[2],_=l+"/"+f+"/resume";return f?a.post({url:_,data:p},y):Promise.reject("Subscription Id is mandatory")},deleteOffer:function(f,p,y){var _=l+"/"+f+"/"+p;return f?a.delete({url:_},y):Promise.reject("Subscription Id is mandatory")},all:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=arguments[1],y=f.from,_=f.to,E=f.count,C=f.skip,P=l;return y&&(y=t(y)),_&&(_=t(_)),E=Number(E)||10,C=Number(C)||0,a.get({url:P,data:n({},f,{from:y,to:_,count:E,skip:C})},p)},cancel:function(f){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y=arguments[2],_=l+"/"+f+"/cancel";return f?a.post(n({url:_},p&&{data:{cancel_at_cycle_end:1}}),y):Promise.reject(c)},createAddon:function(f,p,y){var _=l+"/"+f+"/addons";return f?a.post({url:_,data:n({},p)},y):Promise.reject(c)},createRegistrationLink:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=arguments[1];return a.post({url:"/subscription_registration/auth_links",data:f},p)}}},Wp}var Xp,jb;function OU(){if(jb)return Xp;jb=1;var n=Object.assign||function(i){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(i[c]=l[c])}return i},e=Jn(),t=e.normalizeDate;return Xp=function(i){var a="/addons",l="Addon ID is mandatory";return{fetch:function(h,f){if(!h)return Promise.reject(l);var p=a+"/"+h;return i.get({url:p},f)},delete:function(h,f){if(!h)return Promise.reject(l);var p=a+"/"+h;return i.delete({url:p},f)},all:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=arguments[1],p=h.from,y=h.to,_=h.count,E=h.skip,C=a;return p&&(p=t(p)),y&&(y=t(y)),_=Number(_)||10,E=Number(E)||0,i.get({url:C,data:n({},h,{from:p,to:y,count:_,skip:E})},f)}}},Xp}var Zp,Bb;function xU(){if(Bb)return Zp;Bb=1;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e};return Zp=function(e){var t="/settlements";return{createOndemandSettlement:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments[1],c=t+"/ondemand";return e.post({url:c,data:a},l)},all:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments[1],c=a.from,h=a.to,f=a.count,p=a.skip,y=t;return e.get({url:y,data:n({},a,{from:c,to:h,count:f,skip:p})},l)},fetch:function(a,l){return a?e.get({url:t+"/"+a},l):Promise.reject("settlement Id is mandatroy")},fetchOndemandSettlementById:function(a){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=arguments[2],h=void 0;return a?(l.hasOwnProperty("expand[]")&&(h={"expand[]":l["expand[]"]}),e.get({url:t+"/ondemand/"+a,data:{expand:h}},c)):Promise.reject("settlment Id is mandatroy")},fetchAllOndemandSettlement:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments[1],c=void 0,h=a.from,f=a.to,p=a.count,y=a.skip,_=t+"/ondemand";return a.hasOwnProperty("expand[]")&&(c={"expand[]":a["expand[]"]}),e.get({url:_,data:n({},a,{from:h,to:f,count:p,skip:y,expand:c})},l)},reports:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments[1],c=a.day,h=a.count,f=a.skip,p=t+"/recon/combined";return e.get({url:p,data:n({},a,{day:c,count:h,skip:f})},l)}}},Zp}var Jp,zb;function NU(){if(zb)return Jp;zb=1;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e};return Jp=function(e){var t="/payments/qr_codes";return{create:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments[1],c=t;return e.post({url:c,data:a},l)},all:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments[1],c=a.from,h=a.to,f=a.count,p=a.skip,y=t;return e.get({url:y,data:n({},a,{from:c,to:h,count:f,skip:p})},l)},fetchAllPayments:function(a){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=arguments[2],h=l.from,f=l.to,p=l.count,y=l.skip,_=t+"/"+a+"/payments";return e.get({url:_,data:n({},l,{from:h,to:f,count:p,skip:y})},c)},fetch:function(a,l){return a?e.get({url:t+"/"+a},l):Promise.reject("qrCode Id is mandatroy")},close:function(a,l){if(!a)return Promise.reject("qrCode Id is mandatroy");var c=t+"/"+a+"/close";return e.post({url:c},l)}}},Jp}var eg,qb;function DU(){if(qb)return eg;qb=1;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e};return eg=function(e){return{create:function(i,a){return e.post({url:"/fund_accounts",data:n({},i)},a)},fetch:function(i,a){return i?e.get({url:"/fund_accounts?customer_id="+i},a):Promise.reject("Customer Id is mandatroy")}}},eg}var tg,Fb;function kU(){if(Fb)return tg;Fb=1;var n=Object.assign||function(a){for(var l=1;l<arguments.length;l++){var c=arguments[l];for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(a[h]=c[h])}return a};function e(a,l){var c={};for(var h in a)l.indexOf(h)>=0||Object.prototype.hasOwnProperty.call(a,h)&&(c[h]=a[h]);return c}var t=Jn(),i=t.normalizeDate;return tg=function(a){return{all:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=arguments[1],f=c.from,p=c.to,y=c.count,_=c.skip,E=c.authorized,C=c.receipt;return f&&(f=i(f)),p&&(p=i(p)),y=Number(y)||10,_=Number(_)||0,a.get({url:"/items",data:{from:f,to:p,count:y,skip:_,authorized:E,receipt:C}},h)},fetch:function(c,h){if(!c)throw new Error("`item_id` is mandatory");return a.get({url:"/items/"+c},h)},create:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=arguments[1],f=c.amount,p=c.currency,y=e(c,["amount","currency"]);if(p=p||"INR",!f)throw new Error("`amount` is mandatory");var _=Object.assign(n({currency:p,amount:f},y));return a.post({url:"/items",data:_},h)},edit:function(c){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=arguments[2];if(!c)throw new Error("`item_id` is mandatory");var p="/items/"+c;return a.patch({url:p,data:h},f)},delete:function(c,h){if(!c)throw new Error("`item_id` is mandatory");return a.delete({url:"/items/"+c},h)}}},tg}var ng,Hb;function PU(){return Hb||(Hb=1,ng=function(n){return{fetch:function(t,i){if(!t)throw new Error("`card_id` is mandatory");return n.get({url:"/cards/"+t},i)},requestCardReference:function(t,i){return n.post({url:"/cards/fingerprints",data:t},i)}}}),ng}var rg,$b;function MU(){if($b)return rg;$b=1;var n=Object.assign||function(i){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(i[c]=l[c])}return i},e=Jn(),t=e.normalizeDate;return rg=function(i){var a="/accounts";return{create:function(c,h,f){var p={url:"/webhooks",data:c};return h&&(p={version:"v2",url:a+"/"+h+"/webhooks",data:c}),i.post(p,f)},edit:function(c,h,f,p){return f&&h?i.patch({version:"v2",url:a+"/"+f+"/webhooks/"+h,data:c},p):i.put({url:"/webhooks/"+h,data:c},p)},all:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=arguments[1],f=arguments[2],p=c.from,y=c.to,_=c.count,E=c.skip;p&&(p=t(p)),y&&(y=t(y)),_=Number(_)||10,E=Number(E)||0;var C=n({},c,{from:p,to:y,count:_,skip:E});return h?i.get({version:"v2",url:a+"/"+h+"/webhooks/",data:C},f):i.get({url:"/webhooks",data:C},f)},fetch:function(c,h,f){return i.get({version:"v2",url:a+"/"+h+"/webhooks/"+c},f)},delete:function(c,h,f){return i.delete({version:"v2",url:a+"/"+h+"/webhooks/"+c},f)}}},rg}var ig,Gb;function LU(){if(Gb)return ig;Gb=1;var n=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(t[l]=a[l])}return t};function e(t,i){var a={};for(var l in t)i.indexOf(l)>=0||Object.prototype.hasOwnProperty.call(t,l)&&(a[l]=t[l]);return a}return ig=function(t){var i="/documents";return{create:function(l,c){var h=l.file,f=e(l,["file"]);return t.postFormData({url:""+i,formData:n({file:h.value},f)},c)},fetch:function(l,c){return t.get({url:i+"/"+l},c)}}},ig}var sg,Kb;function UU(){return Kb||(Kb=1,sg=function(n){var e="/disputes";return{fetch:function(i,a){return n.get({url:e+"/"+i},a)},all:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments[1],l=i.count,c=i.skip;return l=Number(l)||10,c=Number(c)||0,n.get({url:""+e,data:{count:l,skip:c}},a)},accept:function(i,a){return n.post({url:e+"/"+i+"/accept"},a)},contest:function(i,a,l){return n.patch({url:e+"/"+i+"/contest",data:a},l)}}}),sg}var ag,Qb;function VU(){if(Qb)return ag;Qb=1;var n=function(){function h(f,p){for(var y=0;y<p.length;y++){var _=p[y];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(f,_.key,_)}}return function(f,p,y){return p&&h(f.prototype,p),y&&h(f,y),f}}();function e(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")}var t=fU(),i=dU,a=Jn(),l=a.validateWebhookSignature,c=function(){n(h,null,[{key:"validateWebhookSignature",value:function(){return l.apply(void 0,arguments)}}]);function h(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e(this,h);var p=f.key_id,y=f.key_secret,_=f.headers;if(!p)throw new Error("`key_id` is mandatory");this.key_id=p,this.key_secret=y,this.api=new t({hostUrl:"https://api.razorpay.com",ua:"razorpay-node@"+h.VERSION,key_id:p,key_secret:y,headers:_}),this.addResources()}return n(h,[{key:"addResources",value:function(){Object.assign(this,{accounts:mU()(this.api),stakeholders:pU()(this.api),payments:gU()(this.api),refunds:yU()(this.api),orders:vU()(this.api),customers:_U()(this.api),transfers:EU()(this.api),tokens:TU()(this.api),virtualAccounts:bU()(this.api),invoices:wU()(this.api),iins:SU()(this.api),paymentLink:RU()(this.api),plans:AU()(this.api),products:CU()(this.api),subscriptions:IU()(this.api),addons:OU()(this.api),settlements:xU()(this.api),qrCode:NU()(this.api),fundAccount:DU()(this.api),items:kU()(this.api),cards:PU()(this.api),webhooks:MU()(this.api),documents:LU()(this.api),disputes:UU()(this.api)})}}]),h}();return c.VERSION=i.version,ag=c,ag}VU();function wA(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(e=0;e<a;e++)n[e]&&(t=wA(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function xo(){for(var n,e,t=0,i="",a=arguments.length;t<a;t++)(n=arguments[t])&&(e=wA(n))&&(i&&(i+=" "),i+=e);return i}function jU(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}jU(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Uc=n=>typeof n=="number"&&!isNaN(n),Uo=n=>typeof n=="string",zs=n=>typeof n=="function",BU=n=>Uo(n)||Uc(n),Hg=n=>Uo(n)||zs(n)?n:null,zU=(n,e)=>n===!1||Uc(n)&&n>0?n:e,$g=n=>A.isValidElement(n)||Uo(n)||zs(n)||Uc(n);function qU(n,e,t=300){let{scrollHeight:i,style:a}=n;requestAnimationFrame(()=>{a.minHeight="initial",a.height=i+"px",a.transition=`all ${t}ms`,requestAnimationFrame(()=>{a.height="0",a.padding="0",a.margin="0",setTimeout(e,t)})})}function FU({enter:n,exit:e,appendPosition:t=!1,collapse:i=!0,collapseDuration:a=300}){return function({children:l,position:c,preventExitTransition:h,done:f,nodeRef:p,isIn:y,playToast:_}){let E=t?`${n}--${c}`:n,C=t?`${e}--${c}`:e,P=A.useRef(0);return A.useLayoutEffect(()=>{let $=p.current,j=E.split(" "),H=Y=>{Y.target===p.current&&(_(),$.removeEventListener("animationend",H),$.removeEventListener("animationcancel",H),P.current===0&&Y.type!=="animationcancel"&&$.classList.remove(...j))};$.classList.add(...j),$.addEventListener("animationend",H),$.addEventListener("animationcancel",H)},[]),A.useEffect(()=>{let $=p.current,j=()=>{$.removeEventListener("animationend",j),i?qU($,f,a):f()};y||(h?j():(P.current=1,$.className+=` ${C}`,$.addEventListener("animationend",j)))},[y]),ft.createElement(ft.Fragment,null,l)}}function Yb(n,e){return{content:SA(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function SA(n,e,t=!1){return A.isValidElement(n)&&!Uo(n.type)?A.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):zs(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function HU({closeToast:n,theme:e,ariaLabel:t="close"}){return ft.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:i=>{i.stopPropagation(),n(!0)},"aria-label":t},ft.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ft.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function $U({delay:n,isRunning:e,closeToast:t,type:i="default",hide:a,className:l,controlledProgress:c,progress:h,rtl:f,isIn:p,theme:y}){let _=a||c&&h===0,E={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};c&&(E.transform=`scaleX(${h})`);let C=xo("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${y}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":f}),P=zs(l)?l({rtl:f,type:i,defaultClassName:C}):xo(C,l),$={[c&&h>=1?"onTransitionEnd":"onAnimationEnd"]:c&&h<1?null:()=>{p&&t()}};return ft.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":_},ft.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${y} Toastify__progress-bar--${i}`}),ft.createElement("div",{role:"progressbar","aria-hidden":_?"true":"false","aria-label":"notification timer",className:P,style:E,...$}))}var GU=1,RA=()=>`${GU++}`;function KU(n,e,t){let i=1,a=0,l=[],c=[],h=e,f=new Map,p=new Set,y=Y=>(p.add(Y),()=>p.delete(Y)),_=()=>{c=Array.from(f.values()),p.forEach(Y=>Y())},E=({containerId:Y,toastId:z,updateId:re})=>{let se=Y?Y!==n:n!==1,fe=f.has(z)&&re==null;return se||fe},C=(Y,z)=>{f.forEach(re=>{var se;(z==null||z===re.props.toastId)&&((se=re.toggle)==null||se.call(re,Y))})},P=Y=>{var z,re;(re=(z=Y.props)==null?void 0:z.onClose)==null||re.call(z,Y.removalReason),Y.isActive=!1},$=Y=>{if(Y==null)f.forEach(P);else{let z=f.get(Y);z&&P(z)}_()},j=()=>{a-=l.length,l=[]},H=Y=>{var z,re;let{toastId:se,updateId:fe}=Y.props,U=fe==null;Y.staleId&&f.delete(Y.staleId),Y.isActive=!0,f.set(se,Y),_(),t(Yb(Y,U?"added":"updated")),U&&((re=(z=Y.props).onOpen)==null||re.call(z))};return{id:n,props:h,observe:y,toggle:C,removeToast:$,toasts:f,clearQueue:j,buildToast:(Y,z)=>{if(E(z))return;let{toastId:re,updateId:se,data:fe,staleId:U,delay:k}=z,R=se==null;R&&a++;let M={...h,style:h.toastStyle,key:i++,...Object.fromEntries(Object.entries(z).filter(([G,L])=>L!=null)),toastId:re,updateId:se,data:fe,isIn:!1,className:Hg(z.className||h.toastClassName),progressClassName:Hg(z.progressClassName||h.progressClassName),autoClose:z.isLoading?!1:zU(z.autoClose,h.autoClose),closeToast(G){f.get(re).removalReason=G,$(re)},deleteToast(){let G=f.get(re);if(G!=null){if(t(Yb(G,"removed")),f.delete(re),a--,a<0&&(a=0),l.length>0){H(l.shift());return}_()}}};M.closeButton=h.closeButton,z.closeButton===!1||$g(z.closeButton)?M.closeButton=z.closeButton:z.closeButton===!0&&(M.closeButton=$g(h.closeButton)?h.closeButton:!0);let B={content:Y,props:M,staleId:U};h.limit&&h.limit>0&&a>h.limit&&R?l.push(B):Uc(k)?setTimeout(()=>{H(B)},k):H(B)},setProps(Y){h=Y},setToggle:(Y,z)=>{let re=f.get(Y);re&&(re.toggle=z)},isToastActive:Y=>{var z;return(z=f.get(Y))==null?void 0:z.isActive},getSnapshot:()=>c}}var Zn=new Map,Ec=[],Gg=new Set,QU=n=>Gg.forEach(e=>e(n)),AA=()=>Zn.size>0;function YU(){Ec.forEach(n=>IA(n.content,n.options)),Ec=[]}var WU=(n,{containerId:e})=>{var t;return(t=Zn.get(e||1))==null?void 0:t.toasts.get(n)};function CA(n,e){var t;if(e)return!!((t=Zn.get(e))!=null&&t.isToastActive(n));let i=!1;return Zn.forEach(a=>{a.isToastActive(n)&&(i=!0)}),i}function XU(n){if(!AA()){Ec=Ec.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||BU(n))Zn.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=Zn.get(n.containerId);e?e.removeToast(n.id):Zn.forEach(t=>{t.removeToast(n.id)})}}var ZU=(n={})=>{Zn.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function IA(n,e){$g(n)&&(AA()||Ec.push({content:n,options:e}),Zn.forEach(t=>{t.buildToast(n,e)}))}function JU(n){var e;(e=Zn.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function OA(n,e){Zn.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function eV(n){let e=n.containerId||1;return{subscribe(t){let i=KU(e,n,QU);Zn.set(e,i);let a=i.observe(t);return YU(),()=>{a(),Zn.delete(e)}},setProps(t){var i;(i=Zn.get(e))==null||i.setProps(t)},getSnapshot(){var t;return(t=Zn.get(e))==null?void 0:t.getSnapshot()}}}function tV(n){return Gg.add(n),()=>{Gg.delete(n)}}function nV(n){return n&&(Uo(n.toastId)||Uc(n.toastId))?n.toastId:RA()}function Vc(n,e){return IA(n,e),e.toastId}function ud(n,e){return{...e,type:e&&e.type||n,toastId:nV(e)}}function cd(n){return(e,t)=>Vc(e,ud(n,t))}function Rt(n,e){return Vc(n,ud("default",e))}Rt.loading=(n,e)=>Vc(n,ud("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function rV(n,{pending:e,error:t,success:i},a){let l;e&&(l=Uo(e)?Rt.loading(e,a):Rt.loading(e.render,{...a,...e}));let c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},h=(p,y,_)=>{if(y==null){Rt.dismiss(l);return}let E={type:p,...c,...a,data:_},C=Uo(y)?{render:y}:y;return l?Rt.update(l,{...E,...C}):Rt(C.render,{...E,...C}),_},f=zs(n)?n():n;return f.then(p=>h("success",i,p)).catch(p=>h("error",t,p)),f}Rt.promise=rV;Rt.success=cd("success");Rt.info=cd("info");Rt.error=cd("error");Rt.warning=cd("warning");Rt.warn=Rt.warning;Rt.dark=(n,e)=>Vc(n,ud("default",{theme:"dark",...e}));function iV(n){XU(n)}Rt.dismiss=iV;Rt.clearWaitingQueue=ZU;Rt.isActive=CA;Rt.update=(n,e={})=>{let t=WU(n,e);if(t){let{props:i,content:a}=t,l={delay:100,...i,...e,toastId:e.toastId||n,updateId:RA()};l.toastId!==n&&(l.staleId=n);let c=l.render||a;delete l.render,Vc(c,l)}};Rt.done=n=>{Rt.update(n,{progress:1})};Rt.onChange=tV;Rt.play=n=>OA(!0,n);Rt.pause=n=>OA(!1,n);function sV(n){var e;let{subscribe:t,getSnapshot:i,setProps:a}=A.useRef(eV(n)).current;a(n);let l=(e=A.useSyncExternalStore(t,i,i))==null?void 0:e.slice();function c(h){if(!l)return[];let f=new Map;return n.newestOnTop&&l.reverse(),l.forEach(p=>{let{position:y}=p.props;f.has(y)||f.set(y,[]),f.get(y).push(p)}),Array.from(f,p=>h(p[0],p[1]))}return{getToastToRender:c,isToastActive:CA,count:l==null?void 0:l.length}}function aV(n){let[e,t]=A.useState(!1),[i,a]=A.useState(!1),l=A.useRef(null),c=A.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:h,pauseOnHover:f,closeToast:p,onClick:y,closeOnClick:_}=n;JU({id:n.toastId,containerId:n.containerId,fn:t}),A.useEffect(()=>{if(n.pauseOnFocusLoss)return E(),()=>{C()}},[n.pauseOnFocusLoss]);function E(){document.hasFocus()||H(),window.addEventListener("focus",j),window.addEventListener("blur",H)}function C(){window.removeEventListener("focus",j),window.removeEventListener("blur",H)}function P(U){if(n.draggable===!0||n.draggable===U.pointerType){Y();let k=l.current;c.canCloseOnClick=!0,c.canDrag=!0,k.style.transition="none",n.draggableDirection==="x"?(c.start=U.clientX,c.removalDistance=k.offsetWidth*(n.draggablePercent/100)):(c.start=U.clientY,c.removalDistance=k.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function $(U){let{top:k,bottom:R,left:M,right:B}=l.current.getBoundingClientRect();U.nativeEvent.type!=="touchend"&&n.pauseOnHover&&U.clientX>=M&&U.clientX<=B&&U.clientY>=k&&U.clientY<=R?H():j()}function j(){t(!0)}function H(){t(!1)}function Y(){c.didMove=!1,document.addEventListener("pointermove",re),document.addEventListener("pointerup",se)}function z(){document.removeEventListener("pointermove",re),document.removeEventListener("pointerup",se)}function re(U){let k=l.current;if(c.canDrag&&k){c.didMove=!0,e&&H(),n.draggableDirection==="x"?c.delta=U.clientX-c.start:c.delta=U.clientY-c.start,c.start!==U.clientX&&(c.canCloseOnClick=!1);let R=n.draggableDirection==="x"?`${c.delta}px, var(--y)`:`0, calc(${c.delta}px + var(--y))`;k.style.transform=`translate3d(${R},0)`,k.style.opacity=`${1-Math.abs(c.delta/c.removalDistance)}`}}function se(){z();let U=l.current;if(c.canDrag&&c.didMove&&U){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance){a(!0),n.closeToast(!0),n.collapseAll();return}U.style.transition="transform 0.2s, opacity 0.2s",U.style.removeProperty("transform"),U.style.removeProperty("opacity")}}let fe={onPointerDown:P,onPointerUp:$};return h&&f&&(fe.onMouseEnter=H,n.stacked||(fe.onMouseLeave=j)),_&&(fe.onClick=U=>{y&&y(U),c.canCloseOnClick&&p(!0)}),{playToast:j,pauseToast:H,isRunning:e,preventExitTransition:i,toastRef:l,eventHandlers:fe}}var oV=typeof window<"u"?A.useLayoutEffect:A.useEffect,fd=({theme:n,type:e,isLoading:t,...i})=>ft.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...i});function lV(n){return ft.createElement(fd,{...n},ft.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function uV(n){return ft.createElement(fd,{...n},ft.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function cV(n){return ft.createElement(fd,{...n},ft.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function fV(n){return ft.createElement(fd,{...n},ft.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function hV(){return ft.createElement("div",{className:"Toastify__spinner"})}var Kg={info:uV,warning:lV,success:cV,error:fV,spinner:hV},dV=n=>n in Kg;function mV({theme:n,type:e,isLoading:t,icon:i}){let a=null,l={theme:n,type:e};return i===!1||(zs(i)?a=i({...l,isLoading:t}):A.isValidElement(i)?a=A.cloneElement(i,l):t?a=Kg.spinner():dV(e)&&(a=Kg[e](l))),a}var pV=n=>{let{isRunning:e,preventExitTransition:t,toastRef:i,eventHandlers:a,playToast:l}=aV(n),{closeButton:c,children:h,autoClose:f,onClick:p,type:y,hideProgressBar:_,closeToast:E,transition:C,position:P,className:$,style:j,progressClassName:H,updateId:Y,role:z,progress:re,rtl:se,toastId:fe,deleteToast:U,isIn:k,isLoading:R,closeOnClick:M,theme:B,ariaLabel:G}=n,L=xo("Toastify__toast",`Toastify__toast-theme--${B}`,`Toastify__toast--${y}`,{"Toastify__toast--rtl":se},{"Toastify__toast--close-on-click":M}),Qe=zs($)?$({rtl:se,position:P,type:y,defaultClassName:L}):xo(L,$),Be=mV(n),pe=!!re||!f,Te={closeToast:E,type:y,theme:B},ge=null;return c===!1||(zs(c)?ge=c(Te):A.isValidElement(c)?ge=A.cloneElement(c,Te):ge=HU(Te)),ft.createElement(C,{isIn:k,done:U,position:P,preventExitTransition:t,nodeRef:i,playToast:l},ft.createElement("div",{id:fe,tabIndex:0,onClick:p,"data-in":k,className:Qe,...a,style:j,ref:i,...k&&{role:z,"aria-label":G}},Be!=null&&ft.createElement("div",{className:xo("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!R})},Be),SA(h,n,!e),ge,!n.customProgressBar&&ft.createElement($U,{...Y&&!pe?{key:`p-${Y}`}:{},rtl:se,theme:B,delay:f,isRunning:e,isIn:k,closeToast:E,hide:_,type:y,className:H,controlledProgress:pe,progress:re||0})))},gV=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),yV=FU(gV("bounce",!0)),vV={position:"top-right",transition:yV,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function _V(n){let e={...vV,...n},t=n.stacked,[i,a]=A.useState(!0),l=A.useRef(null),{getToastToRender:c,isToastActive:h,count:f}=sV(e),{className:p,style:y,rtl:_,containerId:E,hotKeys:C}=e;function P(j){let H=xo("Toastify__toast-container",`Toastify__toast-container--${j}`,{"Toastify__toast-container--rtl":_});return zs(p)?p({position:j,rtl:_,defaultClassName:H}):xo(H,Hg(p))}function $(){t&&(a(!0),Rt.play())}return oV(()=>{var j;if(t){let H=l.current.querySelectorAll('[data-in="true"]'),Y=12,z=(j=e.position)==null?void 0:j.includes("top"),re=0,se=0;Array.from(H).reverse().forEach((fe,U)=>{let k=fe;k.classList.add("Toastify__toast--stacked"),U>0&&(k.dataset.collapsed=`${i}`),k.dataset.pos||(k.dataset.pos=z?"top":"bot");let R=re*(i?.2:1)+(i?0:Y*U);k.style.setProperty("--y",`${z?R:R*-1}px`),k.style.setProperty("--g",`${Y}`),k.style.setProperty("--s",`${1-(i?se:0)}`),re+=k.offsetHeight,se+=.025})}},[i,f,t]),A.useEffect(()=>{function j(H){var Y;let z=l.current;C(H)&&((Y=z.querySelector('[tabIndex="0"]'))==null||Y.focus(),a(!1),Rt.pause()),H.key==="Escape"&&(document.activeElement===z||z!=null&&z.contains(document.activeElement))&&(a(!0),Rt.play())}return document.addEventListener("keydown",j),()=>{document.removeEventListener("keydown",j)}},[C]),ft.createElement("section",{ref:l,className:"Toastify",id:E,onMouseEnter:()=>{t&&(a(!1),Rt.pause())},onMouseLeave:$,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},c((j,H)=>{let Y=H.length?{...y}:{...y,pointerEvents:"none"};return ft.createElement("div",{tabIndex:-1,className:P(j),"data-stacked":t,style:Y,key:`c-${j}`},H.map(({content:z,props:re})=>ft.createElement(pV,{...re,stacked:t,collapseAll:$,isIn:h(re.toastId,re.containerId),key:`t-${re.key}`},z)))}))}const xA=A.createContext(null),EV={apiKey:"AIzaSyBB5YbvvoBIG3HtqgAx8iRBSqR-8EvhAYM",authDomain:"hotel-bites.firebaseapp.com",projectId:"hotel-bites",storageBucket:"hotel-bites.firebasestorage.app",messagingSenderId:"1088802123792",appId:"1:1088802123792:web:e6e2ba513ce6847c6a1a95"},dr=()=>A.useContext(xA),av=Hw(EV),Yf=Dk(av),wn=IM(av),Wb=nU(av),TV=n=>{const e=(R,M)=>yD(Yf,R,M),t=(R,M)=>vD(Yf,R,M),i=async(R,M)=>{var L;let B="";if(R&&(R!=null&&R.productImage)){const{productImage:Qe}=R,Be=_b(Wb,`uploads/images/${Date.now()}-${Qe.name}`);B=await eU(Be,Qe),R={...R,productImage:((L=B==null?void 0:B.ref)==null?void 0:L.fullPath)||""}}let G;return G=await db(ji(wn,M),{...R,userId:(z==null?void 0:z.uid)||""}),G},a=async R=>{const{productId:M}=R,B=ji(wn,"products",M,"variants");return await db(B,{...R,userId:(z==null?void 0:z.uid)||""})},l=async R=>await ba(ji(wn,R)),c=async(R,M,B)=>{const G=ji(wn,R,M,B);return await ba(G)},h=async(R,M)=>{const B=Ss(wn,M,R);return await Sl(B)},f=async()=>{try{const B=(await ba(ji(wn,"products"))).docs.map(L=>({id:L.id,...L.data()})).map(async L=>{const Qe=$f(ji(wn,`products/${L.id}/variants`),cb(1)),Be=await ba(Qe),pe=Be.docs.length>0?{id:Be.docs[0].id,...Be.docs[0].data()}:null;return{...L,firstVariant:pe}});return await Promise.all(B)}catch(R){console.error("Error fetching products with variants:",R)}},p=async(R,M)=>{try{if(!R||!M)throw new Error("Collection name and document ID are required.");const B=Ss(wn,R,M);await $M(B)}catch(B){console.error("Error deleting document:",B)}},y=async R=>{try{if(!z)return null;const M=ji(wn,R),B=$f(M,Gf("userId","==",z.uid)),L=(await ba(B)).docs.map(qe=>({id:qe.id,...qe.data()})),Qe=L.map(qe=>Sl(Ss(wn,"products",qe.productId))),Be=L.map(qe=>Sl(Ss(wn,`products/${qe.productId}/variants`,qe.variantId))),pe=await Promise.all(Qe),Te=await Promise.all(Be);return L.map((qe,F)=>({...qe,product:pe[F].exists()?{id:pe[F].id,...pe[F].data()}:null,variant:Te[F].exists()?{id:Te[F].id,...Te[F].data()}:null}))}catch(M){console.error("Error fetching cart details:",M)}},_=async R=>{try{if(!z||!(R!=null&&R.length))return null;console.log("BK Data2",R);const M=R.map(Te=>Sl(Ss(wn,"purchasedItems",Te)));let B=await Promise.all(M);console.log("BK purchasedItemSnapshots",B),B=B.map((Te,ge)=>Te.data()),console.log("BK purchasedItemSnapshots2",B);const G=B.map(Te=>Sl(Ss(wn,"products",Te.productId))),L=B.map(Te=>Sl(Ss(wn,`products/${Te.productId}/variants`,Te.variantId))),Qe=await Promise.all(G),Be=await Promise.all(L);return B.map((Te,ge)=>({...Te,product:Qe[ge].exists()?{id:Qe[ge].id,...Qe[ge].data()}:null,variant:Be[ge].exists()?{id:Be[ge].id,...Be[ge].data()}:null}))}catch(M){console.error("Error fetching cart details:",M)}},E=async(R,M,B)=>{try{const G=ji(wn,R),L=$f(G,Gf("productId","==",M),Gf("variantId","==",B),cb(1)),Qe=await ba(L);return Qe.empty?null:Qe.docs[0]}catch(G){return console.error("Error checking cart item:",G),null}},C=async()=>{try{if(!(z!=null&&z.uid))return console.error("User is not logged in"),[];const R=ji(wn,"orders"),M=$f(R,Gf("userId","==",z.uid));return(await ba(M)).docs.map(L=>({id:L.id,...L.data()}))}catch(R){return console.error("Error fetching orders:",R),[]}},P=async()=>{try{if(!z||!(z!=null&&z.uid))return console.error("User is not logged in"),[];const R=ji(wn,"orders");return(await ba(R)).docs.map(G=>({id:G.id,...G.data()}))}catch(R){return console.error("Error fetching orders:",R),[]}},$=R=>tU(_b(Wb,R)),j=R=>{Rt(R)},H=async(R,M)=>{try{if(!R||!M)throw new Error("Order ID and new status are required.");console.log("BK orderId || !newStatus",R,M);const B=Ss(wn,"orders",R);await HM(B,{status:M}),console.log(`Order ${R} status updated to ${M}`)}catch(B){console.error("Error updating order status:",B)}},Y=async()=>{},[z,re]=A.useState(null),[se,fe]=A.useState(!1);A.useEffect(()=>{TD(Yf,R=>{re(R||null)})},[]);const U=!!z,k=async()=>{try{await Yf.signOut(),console.log("User signed out successfully"),re(null)}catch(R){console.error("Sign Out Error",R)}};return A.useEffect(()=>{console.log("BK user",z,z==null?void 0:z.uid),z&&(z==null?void 0:z.uid)=="ukEdfieQ7FaI4rpITgxbtWyBuZZ2"?fe(!0):se&&fe(!1)},[z]),O.jsx(xA.Provider,{value:{isLoggedIn:U,user:z,isAdmin:se,singinUserWithEmailAndPass:t,signupUserWithEmailAndPassword:e,getDocById:h,getDocuments:l,handleCreateNewDoc:i,handleCreateNewVariant:a,getSubCollectionAllDocuments:c,removeDocumentWithId:p,getImageURL:$,fetchOrders:C,fetchAllOrders:P,updateOrderStatus:H,fetchProductsWithFirstVariant:f,fetchCartWithDetails:y,fetchPurchasedItemWithDetails:_,logoutUser:k,displayToastMessage:j,checkIsItemAlreadyInCart:E,createOrder:Y},children:n.children})},bV=["as","disabled"];function wV(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function SV(n){return!n||n.trim()==="#"}function ov({tagName:n,disabled:e,href:t,target:i,rel:a,role:l,onClick:c,tabIndex:h=0,type:f}){n||(t!=null||i!=null||a!=null?n="a":n="button");const p={tagName:n};if(n==="button")return[{type:f||"button",disabled:e},p];const y=E=>{if((e||n==="a"&&SV(t))&&E.preventDefault(),e){E.stopPropagation();return}c==null||c(E)},_=E=>{E.key===" "&&(E.preventDefault(),y(E))};return n==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:l??"button",disabled:void 0,tabIndex:e?void 0:h,href:t,target:n==="a"?i:void 0,"aria-disabled":e||void 0,rel:n==="a"?a:void 0,onClick:y,onKeyDown:_},p]}const NA=A.forwardRef((n,e)=>{let{as:t,disabled:i}=n,a=wV(n,bV);const[l,{tagName:c}]=ov(Object.assign({tagName:t,disabled:i},a));return O.jsx(c,Object.assign({},a,l,{ref:e}))});NA.displayName="Button";const Wi=A.forwardRef(({as:n,bsPrefix:e,variant:t="primary",size:i,active:a=!1,disabled:l=!1,className:c,...h},f)=>{const p=Ge(e,"btn"),[y,{tagName:_}]=ov({tagName:n,disabled:l,...h}),E=_;return O.jsx(E,{...y,...h,ref:f,disabled:l,className:Ue(c,p,a&&"active",t&&`${p}-${t}`,i&&`${p}-${i}`,h.href&&l&&"disabled")})});Wi.displayName="Button";const lv=A.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},a)=>(e=Ge(e,"card-body"),O.jsx(t,{ref:a,className:Ue(n,e),...i})));lv.displayName="CardBody";const DA=A.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},a)=>(e=Ge(e,"card-footer"),O.jsx(t,{ref:a,className:Ue(n,e),...i})));DA.displayName="CardFooter";const uv=A.createContext(null);uv.displayName="CardHeaderContext";const kA=A.forwardRef(({bsPrefix:n,className:e,as:t="div",...i},a)=>{const l=Ge(n,"card-header"),c=A.useMemo(()=>({cardHeaderBsPrefix:l}),[l]);return O.jsx(uv.Provider,{value:c,children:O.jsx(t,{ref:a,...i,className:Ue(e,l)})})});kA.displayName="CardHeader";const PA=A.forwardRef(({bsPrefix:n,className:e,variant:t,as:i="img",...a},l)=>{const c=Ge(n,"card-img");return O.jsx(i,{ref:l,className:Ue(t?`${c}-${t}`:c,e),...a})});PA.displayName="CardImg";const MA=A.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},a)=>(e=Ge(e,"card-img-overlay"),O.jsx(t,{ref:a,className:Ue(n,e),...i})));MA.displayName="CardImgOverlay";const LA=A.forwardRef(({className:n,bsPrefix:e,as:t="a",...i},a)=>(e=Ge(e,"card-link"),O.jsx(t,{ref:a,className:Ue(n,e),...i})));LA.displayName="CardLink";const hd=n=>A.forwardRef((e,t)=>O.jsx("div",{...e,ref:t,className:Ue(e.className,n)})),RV=hd("h6"),UA=A.forwardRef(({className:n,bsPrefix:e,as:t=RV,...i},a)=>(e=Ge(e,"card-subtitle"),O.jsx(t,{ref:a,className:Ue(n,e),...i})));UA.displayName="CardSubtitle";const VA=A.forwardRef(({className:n,bsPrefix:e,as:t="p",...i},a)=>(e=Ge(e,"card-text"),O.jsx(t,{ref:a,className:Ue(n,e),...i})));VA.displayName="CardText";const AV=hd("h5"),jA=A.forwardRef(({className:n,bsPrefix:e,as:t=AV,...i},a)=>(e=Ge(e,"card-title"),O.jsx(t,{ref:a,className:Ue(n,e),...i})));jA.displayName="CardTitle";const BA=A.forwardRef(({bsPrefix:n,className:e,bg:t,text:i,border:a,body:l=!1,children:c,as:h="div",...f},p)=>{const y=Ge(n,"card");return O.jsx(h,{ref:p,...f,className:Ue(e,y,t&&`bg-${t}`,i&&`text-${i}`,a&&`border-${a}`),children:l?O.jsx(lv,{children:c}):c})});BA.displayName="Card";const bt=Object.assign(BA,{Img:PA,Title:jA,Subtitle:UA,Body:lv,Link:LA,Text:VA,Header:kA,Footer:DA,ImgOverlay:MA}),CV=n=>{const{id:e,name:t,description:i,status:a,firstVariant:l,productImage:c}=n,h=dr(),f=Gr(),[p,y]=A.useState(null);A.useEffect(()=>{c&&h.getImageURL(c).then(E=>y(E))},[c]);const _=E=>{const C=e;let P="";E==="detail"?P=`/products/${C}`:P=`/products/${C}/variants/new`,f(P)};return O.jsxs(bt,{style:{width:"18rem",margin:"25px"},children:[p&&O.jsx(bt.Img,{variant:"top",src:p,alt:t}),O.jsxs(bt.Body,{children:[O.jsx(bt.Title,{children:t}),O.jsx(bt.Text,{children:i}),O.jsxs(bt.Text,{children:["Status: ",O.jsx("strong",{children:a})]}),O.jsxs(bt.Text,{children:["Price: ",O.jsx("strong",{children:(l==null?void 0:l.priceOriginal)||(l==null?void 0:l.priceOffer)})]}),O.jsx(Wi,{onClick:()=>_("detail"),variant:"primary",children:"Details"}),h.isAdmin&&O.jsx(Wi,{onClick:()=>_("variant"),variant:"primary",children:"Add New Variant"})]})]})};function Qg(){return Qg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Qg.apply(null,arguments)}function zA(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function Xb(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function IV(n){var e=OV(n,"string");return typeof e=="symbol"?e:String(e)}function OV(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function xV(n,e,t){var i=A.useRef(n!==void 0),a=A.useState(e),l=a[0],c=a[1],h=n!==void 0,f=i.current;return i.current=h,!h&&f&&l!==e&&c(e),[h?n:l,A.useCallback(function(p){for(var y=arguments.length,_=new Array(y>1?y-1:0),E=1;E<y;E++)_[E-1]=arguments[E];t&&t.apply(void 0,[p].concat(_)),c(p)},[t])]}function dd(n,e){return Object.keys(e).reduce(function(t,i){var a,l=t,c=l[Xb(i)],h=l[i],f=zA(l,[Xb(i),i].map(IV)),p=e[i],y=xV(h,c,n[p]),_=y[0],E=y[1];return Qg({},f,(a={},a[i]=_,a[p]=E,a))},n)}function Yg(n,e){return Yg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},Yg(n,e)}function NV(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Yg(n,e)}function cv(n){return n&&n.ownerDocument||document}function DV(n){var e=cv(n);return e&&e.defaultView||window}function kV(n,e){return DV(n).getComputedStyle(n,e)}var PV=/([A-Z])/g;function MV(n){return n.replace(PV,"-$1").toLowerCase()}var LV=/^ms-/;function Wf(n){return MV(n).replace(LV,"-ms-")}var UV=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function VV(n){return!!(n&&UV.test(n))}function Ps(n,e){var t="",i="";if(typeof e=="string")return n.style.getPropertyValue(Wf(e))||kV(n).getPropertyValue(Wf(e));Object.keys(e).forEach(function(a){var l=e[a];!l&&l!==0?n.style.removeProperty(Wf(a)):VV(a)?i+=a+"("+l+") ":t+=Wf(a)+": "+l+";"}),i&&(t+="transform: "+i+";"),n.style.cssText+=";"+t}var og={exports:{}},lg,Zb;function jV(){if(Zb)return lg;Zb=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return lg=n,lg}var ug,Jb;function BV(){if(Jb)return ug;Jb=1;var n=jV();function e(){}function t(){}return t.resetWarningCache=e,ug=function(){function i(c,h,f,p,y,_){if(_!==n){var E=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw E.name="Invariant Violation",E}}i.isRequired=i;function a(){return i}var l={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:a,element:i,elementType:i,instanceOf:a,node:i,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:t,resetWarningCache:e};return l.PropTypes=l,l},ug}var ew;function zV(){return ew||(ew=1,og.exports=BV()()),og.exports}var qV=zV();const Ms=Vh(qV),tw={disabled:!1},qA=ft.createContext(null);var FV=function(e){return e.scrollTop},rc="unmounted",wa="exited",ci="entering",As="entered",Tc="exiting",Fs=function(n){NV(e,n);function e(i,a){var l;l=n.call(this,i,a)||this;var c=a,h=c&&!c.isMounting?i.enter:i.appear,f;return l.appearStatus=null,i.in?h?(f=wa,l.appearStatus=ci):f=As:i.unmountOnExit||i.mountOnEnter?f=rc:f=wa,l.state={status:f},l.nextCallback=null,l}e.getDerivedStateFromProps=function(a,l){var c=a.in;return c&&l.status===rc?{status:wa}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(a){var l=null;if(a!==this.props){var c=this.state.status;this.props.in?c!==ci&&c!==As&&(l=ci):(c===ci||c===As)&&(l=Tc)}this.updateStatus(!1,l)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var a=this.props.timeout,l,c,h;return l=c=h=a,a!=null&&typeof a!="number"&&(l=a.exit,c=a.enter,h=a.appear!==void 0?a.appear:c),{exit:l,enter:c,appear:h}},t.updateStatus=function(a,l){if(a===void 0&&(a=!1),l!==null)if(this.cancelNextCallback(),l===ci){if(this.props.unmountOnExit||this.props.mountOnEnter){var c=this.props.nodeRef?this.props.nodeRef.current:Nl.findDOMNode(this);c&&FV(c)}this.performEnter(a)}else this.performExit();else this.props.unmountOnExit&&this.state.status===wa&&this.setState({status:rc})},t.performEnter=function(a){var l=this,c=this.props.enter,h=this.context?this.context.isMounting:a,f=this.props.nodeRef?[h]:[Nl.findDOMNode(this),h],p=f[0],y=f[1],_=this.getTimeouts(),E=h?_.appear:_.enter;if(!a&&!c||tw.disabled){this.safeSetState({status:As},function(){l.props.onEntered(p)});return}this.props.onEnter(p,y),this.safeSetState({status:ci},function(){l.props.onEntering(p,y),l.onTransitionEnd(E,function(){l.safeSetState({status:As},function(){l.props.onEntered(p,y)})})})},t.performExit=function(){var a=this,l=this.props.exit,c=this.getTimeouts(),h=this.props.nodeRef?void 0:Nl.findDOMNode(this);if(!l||tw.disabled){this.safeSetState({status:wa},function(){a.props.onExited(h)});return}this.props.onExit(h),this.safeSetState({status:Tc},function(){a.props.onExiting(h),a.onTransitionEnd(c.exit,function(){a.safeSetState({status:wa},function(){a.props.onExited(h)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(a,l){l=this.setNextCallback(l),this.setState(a,l)},t.setNextCallback=function(a){var l=this,c=!0;return this.nextCallback=function(h){c&&(c=!1,l.nextCallback=null,a(h))},this.nextCallback.cancel=function(){c=!1},this.nextCallback},t.onTransitionEnd=function(a,l){this.setNextCallback(l);var c=this.props.nodeRef?this.props.nodeRef.current:Nl.findDOMNode(this),h=a==null&&!this.props.addEndListener;if(!c||h){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var f=this.props.nodeRef?[this.nextCallback]:[c,this.nextCallback],p=f[0],y=f[1];this.props.addEndListener(p,y)}a!=null&&setTimeout(this.nextCallback,a)},t.render=function(){var a=this.state.status;if(a===rc)return null;var l=this.props,c=l.children;l.in,l.mountOnEnter,l.unmountOnExit,l.appear,l.enter,l.exit,l.timeout,l.addEndListener,l.onEnter,l.onEntering,l.onEntered,l.onExit,l.onExiting,l.onExited,l.nodeRef;var h=zA(l,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ft.createElement(qA.Provider,{value:null},typeof c=="function"?c(a,h):ft.cloneElement(ft.Children.only(c),h))},e}(ft.Component);Fs.contextType=qA;Fs.propTypes={};function Rl(){}Fs.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Rl,onEntering:Rl,onEntered:Rl,onExit:Rl,onExiting:Rl,onExited:Rl};Fs.UNMOUNTED=rc;Fs.EXITED=wa;Fs.ENTERING=ci;Fs.ENTERED=As;Fs.EXITING=Tc;function HV(n){return n.code==="Escape"||n.keyCode===27}function $V(){const n=A.version.split(".");return{major:+n[0],minor:+n[1],patch:+n[2]}}function Zl(n){if(!n||typeof n=="function")return null;const{major:e}=$V();return e>=19?n.props.ref:n.ref}const md=!!(typeof window<"u"&&window.document&&window.document.createElement);var Wg=!1,Xg=!1;try{var cg={get passive(){return Wg=!0},get once(){return Xg=Wg=!0}};md&&(window.addEventListener("test",cg,cg),window.removeEventListener("test",cg,!0))}catch{}function GV(n,e,t,i){if(i&&typeof i!="boolean"&&!Xg){var a=i.once,l=i.capture,c=t;!Xg&&a&&(c=t.__once||function h(f){this.removeEventListener(e,h,l),t.call(this,f)},t.__once=c),n.addEventListener(e,c,Wg?i:l)}n.addEventListener(e,t,i)}function KV(n,e,t,i){var a=i&&typeof i!="boolean"?i.capture:i;n.removeEventListener(e,t,a),t.__once&&n.removeEventListener(e,t.__once,a)}function Dh(n,e,t,i){return GV(n,e,t,i),function(){KV(n,e,t,i)}}function QV(n,e,t,i){if(i===void 0&&(i=!0),n){var a=document.createEvent("HTMLEvents");a.initEvent(e,t,i),n.dispatchEvent(a)}}function YV(n){var e=Ps(n,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function WV(n,e,t){t===void 0&&(t=5);var i=!1,a=setTimeout(function(){i||QV(n,"transitionend",!0)},e+t),l=Dh(n,"transitionend",function(){i=!0},{once:!0});return function(){clearTimeout(a),l()}}function XV(n,e,t,i){t==null&&(t=YV(n)||0);var a=WV(n,t,i),l=Dh(n,"transitionend",e);return function(){a(),l()}}function nw(n,e){const t=Ps(n,e)||"",i=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*i}function fv(n,e){const t=nw(n,"transitionDuration"),i=nw(n,"transitionDelay"),a=XV(n,l=>{l.target===n&&(a(),e(l))},t+i)}function Wu(...n){return n.filter(e=>e!=null).reduce((e,t)=>{if(typeof t!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?t:function(...a){e.apply(this,a),t.apply(this,a)}},null)}function FA(n){n.offsetHeight}const rw=n=>!n||typeof n=="function"?n:e=>{n.current=e};function ZV(n,e){const t=rw(n),i=rw(e);return a=>{t&&t(a),i&&i(a)}}function JV(n,e){return A.useMemo(()=>ZV(n,e),[n,e])}function e4(n){return n&&"setState"in n?Nl.findDOMNode(n):n??null}const hv=ft.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:i,onExiting:a,onExited:l,addEndListener:c,children:h,childRef:f,...p},y)=>{const _=A.useRef(null),E=JV(_,f),C=fe=>{E(e4(fe))},P=fe=>U=>{fe&&_.current&&fe(_.current,U)},$=A.useCallback(P(n),[n]),j=A.useCallback(P(e),[e]),H=A.useCallback(P(t),[t]),Y=A.useCallback(P(i),[i]),z=A.useCallback(P(a),[a]),re=A.useCallback(P(l),[l]),se=A.useCallback(P(c),[c]);return O.jsx(Fs,{ref:y,...p,onEnter:$,onEntered:H,onEntering:j,onExit:Y,onExited:re,onExiting:z,addEndListener:se,nodeRef:_,children:typeof h=="function"?(fe,U)=>h(fe,{...U,ref:C}):ft.cloneElement(h,{ref:C})})}),t4={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function n4(n,e){const t=`offset${n[0].toUpperCase()}${n.slice(1)}`,i=e[t],a=t4[n];return i+parseInt(Ps(e,a[0]),10)+parseInt(Ps(e,a[1]),10)}const r4={[wa]:"collapse",[Tc]:"collapsing",[ci]:"collapsing",[As]:"collapse show"},i4=ft.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:i,onExiting:a,className:l,children:c,dimension:h="height",in:f=!1,timeout:p=300,mountOnEnter:y=!1,unmountOnExit:_=!1,appear:E=!1,getDimensionValue:C=n4,...P},$)=>{const j=typeof h=="function"?h():h,H=A.useMemo(()=>Wu(fe=>{fe.style[j]="0"},n),[j,n]),Y=A.useMemo(()=>Wu(fe=>{const U=`scroll${j[0].toUpperCase()}${j.slice(1)}`;fe.style[j]=`${fe[U]}px`},e),[j,e]),z=A.useMemo(()=>Wu(fe=>{fe.style[j]=null},t),[j,t]),re=A.useMemo(()=>Wu(fe=>{fe.style[j]=`${C(j,fe)}px`,FA(fe)},i),[i,C,j]),se=A.useMemo(()=>Wu(fe=>{fe.style[j]=null},a),[j,a]);return O.jsx(hv,{ref:$,addEndListener:fv,...P,"aria-expanded":P.role?f:null,onEnter:H,onEntering:Y,onEntered:z,onExit:re,onExiting:se,childRef:Zl(c),in:f,timeout:p,mountOnEnter:y,unmountOnExit:_,appear:E,children:(fe,U)=>ft.cloneElement(c,{...U,className:Ue(l,c.props.className,r4[fe],j==="width"&&"collapse-horizontal")})})});function s4(n){const e=A.useRef(n);return A.useEffect(()=>{e.current=n},[n]),e}function Jl(n){const e=s4(n);return A.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const HA=hd("h4");HA.displayName="DivStyledAsH4";const $A=A.forwardRef(({className:n,bsPrefix:e,as:t=HA,...i},a)=>(e=Ge(e,"alert-heading"),O.jsx(t,{ref:a,className:Ue(n,e),...i})));$A.displayName="AlertHeading";function a4(n){const e=A.useRef(n);return A.useEffect(()=>{e.current=n},[n]),e}function Cs(n){const e=a4(n);return A.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function o4(){const n=A.useRef(!0),e=A.useRef(()=>n.current);return A.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function l4(n){const e=A.useRef(null);return A.useEffect(()=>{e.current=n}),e.current}const u4=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",c4=typeof document<"u",iw=c4||u4?A.useLayoutEffect:A.useEffect,f4=["onKeyDown"];function h4(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function d4(n){return!n||n.trim()==="#"}const dv=A.forwardRef((n,e)=>{let{onKeyDown:t}=n,i=h4(n,f4);const[a]=ov(Object.assign({tagName:"a"},i)),l=Cs(c=>{a.onKeyDown(c),t==null||t(c)});return d4(i.href)||i.role==="button"?O.jsx("a",Object.assign({ref:e},i,a,{onKeyDown:l})):O.jsx("a",Object.assign({ref:e},i,{onKeyDown:t}))});dv.displayName="Anchor";const GA=A.forwardRef(({className:n,bsPrefix:e,as:t=dv,...i},a)=>(e=Ge(e,"alert-link"),O.jsx(t,{ref:a,className:Ue(n,e),...i})));GA.displayName="AlertLink";const m4={[ci]:"show",[As]:"show"},kh=A.forwardRef(({className:n,children:e,transitionClasses:t={},onEnter:i,...a},l)=>{const c={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...a},h=A.useCallback((f,p)=>{FA(f),i==null||i(f,p)},[i]);return O.jsx(hv,{ref:l,addEndListener:fv,...c,onEnter:h,childRef:Zl(e),children:(f,p)=>A.cloneElement(e,{...p,className:Ue("fade",n,e.props.className,m4[f],t[f])})})});kh.displayName="Fade";const p4={"aria-label":Ms.string,onClick:Ms.func,variant:Ms.oneOf(["white"])},pd=A.forwardRef(({className:n,variant:e,"aria-label":t="Close",...i},a)=>O.jsx("button",{ref:a,type:"button",className:Ue("btn-close",e&&`btn-close-${e}`,n),"aria-label":t,...i}));pd.displayName="CloseButton";pd.propTypes=p4;const KA=A.forwardRef((n,e)=>{const{bsPrefix:t,show:i=!0,closeLabel:a="Close alert",closeVariant:l,className:c,children:h,variant:f="primary",onClose:p,dismissible:y,transition:_=kh,...E}=dd(n,{show:"onClose"}),C=Ge(t,"alert"),P=Jl(H=>{p&&p(!1,H)}),$=_===!0?kh:_,j=O.jsxs("div",{role:"alert",...$?void 0:E,ref:e,className:Ue(c,C,f&&`${C}-${f}`,y&&`${C}-dismissible`),children:[y&&O.jsx(pd,{onClick:P,"aria-label":a,variant:l}),h]});return $?O.jsx($,{unmountOnExit:!0,...E,ref:void 0,in:i,children:j}):i?j:null});KA.displayName="Alert";const gd=Object.assign(KA,{Link:GA,Heading:$A});function g4(n,e){return A.Children.toArray(n).some(t=>A.isValidElement(t)&&t.type===e)}function y4({as:n,bsPrefix:e,className:t,...i}){e=Ge(e,"col");const a=jO(),l=BO(),c=[],h=[];return a.forEach(f=>{const p=i[f];delete i[f];let y,_,E;typeof p=="object"&&p!=null?{span:y,offset:_,order:E}=p:y=p;const C=f!==l?`-${f}`:"";y&&c.push(y===!0?`${e}${C}`:`${e}${C}-${y}`),E!=null&&h.push(`order${C}-${E}`),_!=null&&h.push(`offset${C}-${_}`)}),[{...i,className:Ue(t,...c,...h)},{as:n,bsPrefix:e,spans:c}]}const QA=A.forwardRef((n,e)=>{const[{className:t,...i},{as:a="div",bsPrefix:l,spans:c}]=y4(n);return O.jsx(a,{...i,ref:e,className:Ue(t,!c.length&&l)})});QA.displayName="Col";const YA=A.forwardRef(({bsPrefix:n,fluid:e=!1,as:t="div",className:i,...a},l)=>{const c=Ge(n,"container"),h=typeof e=="string"?`-${e}`:"-fluid";return O.jsx(t,{ref:l,...a,className:Ue(i,e?`${c}${h}`:c)})});YA.displayName="Container";var v4=Function.prototype.bind.call(Function.prototype.call,[].slice);function Co(n,e){return v4(n.querySelectorAll(e))}function _4(){const[,n]=A.useReducer(e=>e+1,0);return n}function sw(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}const Ph=A.createContext(null),yd=(n,e=null)=>n!=null?String(n):e||null,mv=A.createContext(null);mv.displayName="NavContext";const E4="data-rr-ui-",T4="rrUi";function vd(n){return`${E4}${n}`}function b4(n){return`${T4}${n}`}const WA=A.createContext(md?window:void 0);WA.Provider;function pv(){return A.useContext(WA)}const w4=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",S4=typeof document<"u",R4=S4||w4?A.useLayoutEffect:A.useEffect,eu=A.createContext(null);eu.displayName="NavbarContext";const A4={type:Ms.string,tooltip:Ms.bool,as:Ms.elementType},_d=A.forwardRef(({as:n="div",className:e,type:t="valid",tooltip:i=!1,...a},l)=>O.jsx(n,{...a,ref:l,className:Ue(e,`${t}-${i?"tooltip":"feedback"}`)}));_d.displayName="Feedback";_d.propTypes=A4;const qs=A.createContext({}),gv=A.forwardRef(({id:n,bsPrefix:e,className:t,type:i="checkbox",isValid:a=!1,isInvalid:l=!1,as:c="input",...h},f)=>{const{controlId:p}=A.useContext(qs);return e=Ge(e,"form-check-input"),O.jsx(c,{...h,ref:f,type:i,id:n||p,className:Ue(t,e,a&&"is-valid",l&&"is-invalid")})});gv.displayName="FormCheckInput";const Mh=A.forwardRef(({bsPrefix:n,className:e,htmlFor:t,...i},a)=>{const{controlId:l}=A.useContext(qs);return n=Ge(n,"form-check-label"),O.jsx("label",{...i,ref:a,htmlFor:t||l,className:Ue(e,n)})});Mh.displayName="FormCheckLabel";const XA=A.forwardRef(({id:n,bsPrefix:e,bsSwitchPrefix:t,inline:i=!1,reverse:a=!1,disabled:l=!1,isValid:c=!1,isInvalid:h=!1,feedbackTooltip:f=!1,feedback:p,feedbackType:y,className:_,style:E,title:C="",type:P="checkbox",label:$,children:j,as:H="input",...Y},z)=>{e=Ge(e,"form-check"),t=Ge(t,"form-switch");const{controlId:re}=A.useContext(qs),se=A.useMemo(()=>({controlId:n||re}),[re,n]),fe=!j&&$!=null&&$!==!1||g4(j,Mh),U=O.jsx(gv,{...Y,type:P==="switch"?"checkbox":P,ref:z,isValid:c,isInvalid:h,disabled:l,as:H});return O.jsx(qs.Provider,{value:se,children:O.jsx("div",{style:E,className:Ue(_,fe&&e,i&&`${e}-inline`,a&&`${e}-reverse`,P==="switch"&&t),children:j||O.jsxs(O.Fragment,{children:[U,fe&&O.jsx(Mh,{title:C,children:$}),p&&O.jsx(_d,{type:y,tooltip:f,children:p})]})})})});XA.displayName="FormCheck";const Lh=Object.assign(XA,{Input:gv,Label:Mh}),ZA=A.forwardRef(({bsPrefix:n,type:e,size:t,htmlSize:i,id:a,className:l,isValid:c=!1,isInvalid:h=!1,plaintext:f,readOnly:p,as:y="input",..._},E)=>{const{controlId:C}=A.useContext(qs);return n=Ge(n,"form-control"),O.jsx(y,{..._,type:e,size:i,ref:E,readOnly:p,id:a||C,className:Ue(l,f?`${n}-plaintext`:n,t&&`${n}-${t}`,e==="color"&&`${n}-color`,c&&"is-valid",h&&"is-invalid")})});ZA.displayName="FormControl";const C4=Object.assign(ZA,{Feedback:_d}),JA=A.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},a)=>(e=Ge(e,"form-floating"),O.jsx(t,{ref:a,className:Ue(n,e),...i})));JA.displayName="FormFloating";const yv=A.forwardRef(({controlId:n,as:e="div",...t},i)=>{const a=A.useMemo(()=>({controlId:n}),[n]);return O.jsx(qs.Provider,{value:a,children:O.jsx(e,{...t,ref:i})})});yv.displayName="FormGroup";const e1=A.forwardRef(({as:n="label",bsPrefix:e,column:t=!1,visuallyHidden:i=!1,className:a,htmlFor:l,...c},h)=>{const{controlId:f}=A.useContext(qs);e=Ge(e,"form-label");let p="col-form-label";typeof t=="string"&&(p=`${p} ${p}-${t}`);const y=Ue(a,e,i&&"visually-hidden",t&&p);return l=l||f,t?O.jsx(QA,{ref:h,as:"label",className:y,htmlFor:l,...c}):O.jsx(n,{ref:h,className:y,htmlFor:l,...c})});e1.displayName="FormLabel";const t1=A.forwardRef(({bsPrefix:n,className:e,id:t,...i},a)=>{const{controlId:l}=A.useContext(qs);return n=Ge(n,"form-range"),O.jsx("input",{...i,type:"range",ref:a,className:Ue(e,n),id:t||l})});t1.displayName="FormRange";const n1=A.forwardRef(({bsPrefix:n,size:e,htmlSize:t,className:i,isValid:a=!1,isInvalid:l=!1,id:c,...h},f)=>{const{controlId:p}=A.useContext(qs);return n=Ge(n,"form-select"),O.jsx("select",{...h,size:t,ref:f,className:Ue(i,n,e&&`${n}-${e}`,a&&"is-valid",l&&"is-invalid"),id:c||p})});n1.displayName="FormSelect";const r1=A.forwardRef(({bsPrefix:n,className:e,as:t="small",muted:i,...a},l)=>(n=Ge(n,"form-text"),O.jsx(t,{...a,ref:l,className:Ue(e,n,i&&"text-muted")})));r1.displayName="FormText";const i1=A.forwardRef((n,e)=>O.jsx(Lh,{...n,ref:e,type:"switch"}));i1.displayName="Switch";const I4=Object.assign(i1,{Input:Lh.Input,Label:Lh.Label}),s1=A.forwardRef(({bsPrefix:n,className:e,children:t,controlId:i,label:a,...l},c)=>(n=Ge(n,"form-floating"),O.jsxs(yv,{ref:c,className:Ue(e,n),controlId:i,...l,children:[t,O.jsx("label",{htmlFor:i,children:a})]})));s1.displayName="FloatingLabel";const O4={_ref:Ms.any,validated:Ms.bool,as:Ms.elementType},vv=A.forwardRef(({className:n,validated:e,as:t="form",...i},a)=>O.jsx(t,{...i,ref:a,className:Ue(n,e&&"was-validated")}));vv.displayName="Form";vv.propTypes=O4;const Je=Object.assign(vv,{Group:yv,Control:C4,Floating:JA,Check:Lh,Switch:I4,Label:e1,Text:r1,Range:t1,Select:n1,FloatingLabel:s1}),aw=n=>!n||typeof n=="function"?n:e=>{n.current=e};function x4(n,e){const t=aw(n),i=aw(e);return a=>{t&&t(a),i&&i(a)}}function Ed(n,e){return A.useMemo(()=>x4(n,e),[n,e])}const a1=A.createContext(null),N4=["as","active","eventKey"];function D4(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function _v({key:n,onClick:e,active:t,id:i,role:a,disabled:l}){const c=A.useContext(Ph),h=A.useContext(mv),f=A.useContext(a1);let p=t;const y={role:a};if(h){!a&&h.role==="tablist"&&(y.role="tab");const _=h.getControllerId(n??null),E=h.getControlledId(n??null);y[vd("event-key")]=n,y.id=_||i,p=t==null&&n!=null?h.activeKey===n:t,(p||!(f!=null&&f.unmountOnExit)&&!(f!=null&&f.mountOnEnter))&&(y["aria-controls"]=E)}return y.role==="tab"&&(y["aria-selected"]=p,p||(y.tabIndex=-1),l&&(y.tabIndex=-1,y["aria-disabled"]=!0)),y.onClick=Cs(_=>{l||(e==null||e(_),n!=null&&c&&!_.isPropagationStopped()&&c(n,_))}),[y,{isActive:p}]}const o1=A.forwardRef((n,e)=>{let{as:t=NA,active:i,eventKey:a}=n,l=D4(n,N4);const[c,h]=_v(Object.assign({key:yd(a,l.href),active:i},l));return c[vd("active")]=h.isActive,O.jsx(t,Object.assign({},l,c,{ref:e}))});o1.displayName="NavItem";const k4=["as","onSelect","activeKey","role","onKeyDown"];function P4(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}const ow=()=>{},lw=vd("event-key"),l1=A.forwardRef((n,e)=>{let{as:t="div",onSelect:i,activeKey:a,role:l,onKeyDown:c}=n,h=P4(n,k4);const f=_4(),p=A.useRef(!1),y=A.useContext(Ph),_=A.useContext(a1);let E,C;_&&(l=l||"tablist",a=_.activeKey,E=_.getControlledId,C=_.getControllerId);const P=A.useRef(null),$=z=>{const re=P.current;if(!re)return null;const se=Co(re,`[${lw}]:not([aria-disabled=true])`),fe=re.querySelector("[aria-selected=true]");if(!fe||fe!==document.activeElement)return null;const U=se.indexOf(fe);if(U===-1)return null;let k=U+z;return k>=se.length&&(k=0),k<0&&(k=se.length-1),se[k]},j=(z,re)=>{z!=null&&(i==null||i(z,re),y==null||y(z,re))},H=z=>{if(c==null||c(z),!_)return;let re;switch(z.key){case"ArrowLeft":case"ArrowUp":re=$(-1);break;case"ArrowRight":case"ArrowDown":re=$(1);break;default:return}re&&(z.preventDefault(),j(re.dataset[b4("EventKey")]||null,z),p.current=!0,f())};A.useEffect(()=>{if(P.current&&p.current){const z=P.current.querySelector(`[${lw}][aria-selected=true]`);z==null||z.focus()}p.current=!1});const Y=Ed(e,P);return O.jsx(Ph.Provider,{value:j,children:O.jsx(mv.Provider,{value:{role:l,activeKey:yd(a),getControlledId:E||ow,getControllerId:C||ow},children:O.jsx(t,Object.assign({},h,{onKeyDown:H,ref:Y,role:l}))})})});l1.displayName="Nav";const u1=Object.assign(l1,{Item:o1}),c1=A.forwardRef(({bsPrefix:n,active:e,disabled:t,eventKey:i,className:a,variant:l,action:c,as:h,...f},p)=>{n=Ge(n,"list-group-item");const[y,_]=_v({key:yd(i,f.href),active:e,...f}),E=Jl(P=>{if(t){P.preventDefault(),P.stopPropagation();return}y.onClick(P)});t&&f.tabIndex===void 0&&(f.tabIndex=-1,f["aria-disabled"]=!0);const C=h||(c?f.href?"a":"button":"div");return O.jsx(C,{ref:p,...f,...y,onClick:E,className:Ue(a,n,_.isActive&&"active",t&&"disabled",l&&`${n}-${l}`,c&&`${n}-action`)})});c1.displayName="ListGroupItem";const f1=A.forwardRef((n,e)=>{const{className:t,bsPrefix:i,variant:a,horizontal:l,numbered:c,as:h="div",...f}=dd(n,{activeKey:"onSelect"}),p=Ge(i,"list-group");let y;return l&&(y=l===!0?"horizontal":`horizontal-${l}`),O.jsx(u1,{ref:e,...f,as:h,className:Ue(t,p,a&&`${p}-${a}`,y&&`${p}-${y}`,c&&`${p}-numbered`)})});f1.displayName="ListGroup";const Uh=Object.assign(f1,{Item:c1});function fg(n){n===void 0&&(n=cv());try{var e=n.activeElement;return!e||!e.nodeName?null:e}catch{return n.body}}function M4(n){const e=A.useRef(n);return e.current=n,e}function L4(n){const e=M4(n);A.useEffect(()=>()=>e.current(),[])}function U4(n=document){const e=n.defaultView;return Math.abs(e.innerWidth-n.documentElement.clientWidth)}const uw=vd("modal-open");class Ev{constructor({ownerDocument:e,handleContainerOverflow:t=!0,isRTL:i=!1}={}){this.handleContainerOverflow=t,this.isRTL=i,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return U4(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},i=this.isRTL?"paddingLeft":"paddingRight",a=this.getElement();e.style={overflow:a.style.overflow,[i]:a.style[i]},e.scrollBarWidth&&(t[i]=`${parseInt(Ps(a,i)||"0",10)+e.scrollBarWidth}px`),a.setAttribute(uw,""),Ps(a,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(uw),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return t!==-1||(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),t!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t}remove(e){const t=this.modals.indexOf(e);t!==-1&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const hg=(n,e)=>md?n==null?(e||cv()).body:(typeof n=="function"&&(n=n()),n&&"current"in n&&(n=n.current),n&&("nodeType"in n||n.getBoundingClientRect)?n:null):null;function V4(n,e){const t=pv(),[i,a]=A.useState(()=>hg(n,t==null?void 0:t.document));if(!i){const l=hg(n);l&&a(l)}return A.useEffect(()=>{},[e,i]),A.useEffect(()=>{const l=hg(n);l!==i&&a(l)},[n,i]),i}function j4({children:n,in:e,onExited:t,mountOnEnter:i,unmountOnExit:a}){const l=A.useRef(null),c=A.useRef(e),h=Cs(t);A.useEffect(()=>{e?c.current=!0:h(l.current)},[e,h]);const f=Ed(l,Zl(n)),p=A.cloneElement(n,{ref:f});return e?p:a||!c.current&&i?null:p}const B4=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function z4(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function q4(n){let{onEnter:e,onEntering:t,onEntered:i,onExit:a,onExiting:l,onExited:c,addEndListener:h,children:f}=n,p=z4(n,B4);const y=A.useRef(null),_=Ed(y,Zl(f)),E=re=>se=>{re&&y.current&&re(y.current,se)},C=A.useCallback(E(e),[e]),P=A.useCallback(E(t),[t]),$=A.useCallback(E(i),[i]),j=A.useCallback(E(a),[a]),H=A.useCallback(E(l),[l]),Y=A.useCallback(E(c),[c]),z=A.useCallback(E(h),[h]);return Object.assign({},p,{nodeRef:y},e&&{onEnter:C},t&&{onEntering:P},i&&{onEntered:$},a&&{onExit:j},l&&{onExiting:H},c&&{onExited:Y},h&&{addEndListener:z},{children:typeof f=="function"?(re,se)=>f(re,Object.assign({},se,{ref:_})):A.cloneElement(f,{ref:_})})}const F4=["component"];function H4(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}const $4=A.forwardRef((n,e)=>{let{component:t}=n,i=H4(n,F4);const a=q4(i);return O.jsx(t,Object.assign({ref:e},a))});function G4({in:n,onTransition:e}){const t=A.useRef(null),i=A.useRef(!0),a=Cs(e);return iw(()=>{if(!t.current)return;let l=!1;return a({in:n,element:t.current,initial:i.current,isStale:()=>l}),()=>{l=!0}},[n,a]),iw(()=>(i.current=!1,()=>{i.current=!0}),[]),t}function K4({children:n,in:e,onExited:t,onEntered:i,transition:a}){const[l,c]=A.useState(!e);e&&l&&c(!1);const h=G4({in:!!e,onTransition:p=>{const y=()=>{p.isStale()||(p.in?i==null||i(p.element,p.initial):(c(!0),t==null||t(p.element)))};Promise.resolve(a(p)).then(y,_=>{throw p.in||c(!0),_})}}),f=Ed(h,Zl(n));return l&&!e?null:A.cloneElement(n,{ref:f})}function cw(n,e,t){return n?O.jsx($4,Object.assign({},t,{component:n})):e?O.jsx(K4,Object.assign({},t,{transition:e})):O.jsx(j4,Object.assign({},t))}const Q4=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function Y4(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}let dg;function W4(n){return dg||(dg=new Ev({ownerDocument:n==null?void 0:n.document})),dg}function X4(n){const e=pv(),t=n||W4(e),i=A.useRef({dialog:null,backdrop:null});return Object.assign(i.current,{add:()=>t.add(i.current),remove:()=>t.remove(i.current),isTopModal:()=>t.isTopModal(i.current),setDialogRef:A.useCallback(a=>{i.current.dialog=a},[]),setBackdropRef:A.useCallback(a=>{i.current.backdrop=a},[])})}const h1=A.forwardRef((n,e)=>{let{show:t=!1,role:i="dialog",className:a,style:l,children:c,backdrop:h=!0,keyboard:f=!0,onBackdropClick:p,onEscapeKeyDown:y,transition:_,runTransition:E,backdropTransition:C,runBackdropTransition:P,autoFocus:$=!0,enforceFocus:j=!0,restoreFocus:H=!0,restoreFocusOptions:Y,renderDialog:z,renderBackdrop:re=dt=>O.jsx("div",Object.assign({},dt)),manager:se,container:fe,onShow:U,onHide:k=()=>{},onExit:R,onExited:M,onExiting:B,onEnter:G,onEntering:L,onEntered:Qe}=n,Be=Y4(n,Q4);const pe=pv(),Te=V4(fe),ge=X4(se),qe=o4(),F=l4(t),[he,Re]=A.useState(!t),be=A.useRef(null);A.useImperativeHandle(e,()=>ge,[ge]),md&&!F&&t&&(be.current=fg(pe==null?void 0:pe.document)),t&&he&&Re(!1);const ve=Cs(()=>{if(ge.add(),rt.current=Dh(document,"keydown",et),_t.current=Dh(document,"focus",()=>setTimeout(Fe),!0),U&&U(),$){var dt,Pn;const Cr=fg((dt=(Pn=ge.dialog)==null?void 0:Pn.ownerDocument)!=null?dt:pe==null?void 0:pe.document);ge.dialog&&Cr&&!sw(ge.dialog,Cr)&&(be.current=Cr,ge.dialog.focus())}}),Me=Cs(()=>{if(ge.remove(),rt.current==null||rt.current(),_t.current==null||_t.current(),H){var dt;(dt=be.current)==null||dt.focus==null||dt.focus(Y),be.current=null}});A.useEffect(()=>{!t||!Te||ve()},[t,Te,ve]),A.useEffect(()=>{he&&Me()},[he,Me]),L4(()=>{Me()});const Fe=Cs(()=>{if(!j||!qe()||!ge.isTopModal())return;const dt=fg(pe==null?void 0:pe.document);ge.dialog&&dt&&!sw(ge.dialog,dt)&&ge.dialog.focus()}),Lt=Cs(dt=>{dt.target===dt.currentTarget&&(p==null||p(dt),h===!0&&k())}),et=Cs(dt=>{f&&HV(dt)&&ge.isTopModal()&&(y==null||y(dt),dt.defaultPrevented||k())}),_t=A.useRef(),rt=A.useRef(),Zt=(...dt)=>{Re(!0),M==null||M(...dt)};if(!Te)return null;const er=Object.assign({role:i,ref:ge.setDialogRef,"aria-modal":i==="dialog"?!0:void 0},Be,{style:l,className:a,tabIndex:-1});let mn=z?z(er):O.jsx("div",Object.assign({},er,{children:A.cloneElement(c,{role:"document"})}));mn=cw(_,E,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!t,onExit:R,onExiting:B,onExited:Zt,onEnter:G,onEntering:L,onEntered:Qe,children:mn});let Fn=null;return h&&(Fn=re({ref:ge.setBackdropRef,onClick:Lt}),Fn=cw(C,P,{in:!!t,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Fn})),O.jsx(O.Fragment,{children:Nl.createPortal(O.jsxs(O.Fragment,{children:[Fn,mn]}),Te)})});h1.displayName="Modal";const Z4=Object.assign(h1,{Manager:Ev});function J4(n,e){return n.classList?n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}function ej(n,e){n.classList?n.classList.add(e):J4(n,e)||(typeof n.className=="string"?n.className=n.className+" "+e:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+e))}function fw(n,e){return n.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function tj(n,e){n.classList?n.classList.remove(e):typeof n.className=="string"?n.className=fw(n.className,e):n.setAttribute("class",fw(n.className&&n.className.baseVal||"",e))}const Al={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class d1 extends Ev{adjustAndStore(e,t,i){const a=t.style[e];t.dataset[e]=a,Ps(t,{[e]:`${parseFloat(Ps(t,e))+i}px`})}restore(e,t){const i=t.dataset[e];i!==void 0&&(delete t.dataset[e],Ps(t,{[e]:i}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(ej(t,"modal-open"),!e.scrollBarWidth)return;const i=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";Co(t,Al.FIXED_CONTENT).forEach(l=>this.adjustAndStore(i,l,e.scrollBarWidth)),Co(t,Al.STICKY_CONTENT).forEach(l=>this.adjustAndStore(a,l,-e.scrollBarWidth)),Co(t,Al.NAVBAR_TOGGLER).forEach(l=>this.adjustAndStore(a,l,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();tj(t,"modal-open");const i=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";Co(t,Al.FIXED_CONTENT).forEach(l=>this.restore(i,l)),Co(t,Al.STICKY_CONTENT).forEach(l=>this.restore(a,l)),Co(t,Al.NAVBAR_TOGGLER).forEach(l=>this.restore(a,l))}}let mg;function nj(n){return mg||(mg=new d1(n)),mg}const m1=A.createContext({onHide(){}}),rj=A.forwardRef(({closeLabel:n="Close",closeVariant:e,closeButton:t=!1,onHide:i,children:a,...l},c)=>{const h=A.useContext(m1),f=Jl(()=>{h==null||h.onHide(),i==null||i()});return O.jsxs("div",{ref:c,...l,children:[a,t&&O.jsx(pd,{"aria-label":n,variant:e,onClick:f})]})}),p1=A.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},a)=>(e=Ge(e,"nav-item"),O.jsx(t,{ref:a,className:Ue(n,e),...i})));p1.displayName="NavItem";const g1=A.forwardRef(({bsPrefix:n,className:e,as:t=dv,active:i,eventKey:a,disabled:l=!1,...c},h)=>{n=Ge(n,"nav-link");const[f,p]=_v({key:yd(a,c.href),active:i,disabled:l,...c});return O.jsx(t,{...c,...f,ref:h,disabled:l,className:Ue(e,n,l&&"disabled",p.isActive&&"active")})});g1.displayName="NavLink";const y1=A.forwardRef((n,e)=>{const{as:t="div",bsPrefix:i,variant:a,fill:l=!1,justify:c=!1,navbar:h,navbarScroll:f,className:p,activeKey:y,..._}=dd(n,{activeKey:"onSelect"}),E=Ge(i,"nav");let C,P,$=!1;const j=A.useContext(eu),H=A.useContext(uv);return j?(C=j.bsPrefix,$=h??!0):H&&({cardHeaderBsPrefix:P}=H),O.jsx(u1,{as:t,ref:e,activeKey:y,className:Ue(p,{[E]:!$,[`${C}-nav`]:$,[`${C}-nav-scroll`]:$&&f,[`${P}-${a}`]:!!P,[`${E}-${a}`]:!!a,[`${E}-fill`]:l,[`${E}-justified`]:c}),..._})});y1.displayName="Nav";const So=Object.assign(y1,{Item:p1,Link:g1}),v1=A.forwardRef(({bsPrefix:n,className:e,as:t,...i},a)=>{n=Ge(n,"navbar-brand");const l=t||(i.href?"a":"span");return O.jsx(l,{...i,ref:a,className:Ue(e,n)})});v1.displayName="NavbarBrand";const _1=A.forwardRef(({children:n,bsPrefix:e,...t},i)=>{e=Ge(e,"navbar-collapse");const a=A.useContext(eu);return O.jsx(i4,{in:!!(a&&a.expanded),...t,children:O.jsx("div",{ref:i,className:e,children:n})})});_1.displayName="NavbarCollapse";const E1=A.forwardRef(({bsPrefix:n,className:e,children:t,label:i="Toggle navigation",as:a="button",onClick:l,...c},h)=>{n=Ge(n,"navbar-toggler");const{onToggle:f,expanded:p}=A.useContext(eu)||{},y=Jl(_=>{l&&l(_),f&&f()});return a==="button"&&(c.type="button"),O.jsx(a,{...c,ref:h,onClick:y,"aria-label":i,className:Ue(e,n,!p&&"collapsed"),children:t||O.jsx("span",{className:`${n}-icon`})})});E1.displayName="NavbarToggle";const Zg=new WeakMap,hw=(n,e)=>{if(!n||!e)return;const t=Zg.get(e)||new Map;Zg.set(e,t);let i=t.get(n);return i||(i=e.matchMedia(n),i.refCount=0,t.set(i.media,i)),i};function ij(n,e=typeof window>"u"?void 0:window){const t=hw(n,e),[i,a]=A.useState(()=>t?t.matches:!1);return R4(()=>{let l=hw(n,e);if(!l)return a(!1);let c=Zg.get(e);const h=()=>{a(l.matches)};return l.refCount++,l.addListener(h),h(),()=>{l.removeListener(h),l.refCount--,l.refCount<=0&&(c==null||c.delete(l.media)),l=void 0}},[n]),i}function sj(n){const e=Object.keys(n);function t(h,f){return h===f?f:h?`${h} and ${f}`:f}function i(h){return e[Math.min(e.indexOf(h)+1,e.length-1)]}function a(h){const f=i(h);let p=n[f];return typeof p=="number"?p=`${p-.2}px`:p=`calc(${p} - 0.2px)`,`(max-width: ${p})`}function l(h){let f=n[h];return typeof f=="number"&&(f=`${f}px`),`(min-width: ${f})`}function c(h,f,p){let y;typeof h=="object"?(y=h,p=f,f=!0):(f=f||!0,y={[h]:f});let _=A.useMemo(()=>Object.entries(y).reduce((E,[C,P])=>((P==="up"||P===!0)&&(E=t(E,l(C))),(P==="down"||P===!0)&&(E=t(E,a(C))),E),""),[JSON.stringify(y)]);return ij(_,p)}return c}const aj=sj({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),T1=A.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},a)=>(e=Ge(e,"offcanvas-body"),O.jsx(t,{ref:a,className:Ue(n,e),...i})));T1.displayName="OffcanvasBody";const oj={[ci]:"show",[As]:"show"},b1=A.forwardRef(({bsPrefix:n,className:e,children:t,in:i=!1,mountOnEnter:a=!1,unmountOnExit:l=!1,appear:c=!1,...h},f)=>(n=Ge(n,"offcanvas"),O.jsx(hv,{ref:f,addEndListener:fv,in:i,mountOnEnter:a,unmountOnExit:l,appear:c,...h,childRef:Zl(t),children:(p,y)=>A.cloneElement(t,{...y,className:Ue(e,t.props.className,(p===ci||p===Tc)&&`${n}-toggling`,oj[p])})})));b1.displayName="OffcanvasToggling";const w1=A.forwardRef(({bsPrefix:n,className:e,closeLabel:t="Close",closeButton:i=!1,...a},l)=>(n=Ge(n,"offcanvas-header"),O.jsx(rj,{ref:l,...a,className:Ue(e,n),closeLabel:t,closeButton:i})));w1.displayName="OffcanvasHeader";const lj=hd("h5"),S1=A.forwardRef(({className:n,bsPrefix:e,as:t=lj,...i},a)=>(e=Ge(e,"offcanvas-title"),O.jsx(t,{ref:a,className:Ue(n,e),...i})));S1.displayName="OffcanvasTitle";function uj(n){return O.jsx(b1,{...n})}function cj(n){return O.jsx(kh,{...n})}const R1=A.forwardRef(({bsPrefix:n,className:e,children:t,"aria-labelledby":i,placement:a="start",responsive:l,show:c=!1,backdrop:h=!0,keyboard:f=!0,scroll:p=!1,onEscapeKeyDown:y,onShow:_,onHide:E,container:C,autoFocus:P=!0,enforceFocus:$=!0,restoreFocus:j=!0,restoreFocusOptions:H,onEntered:Y,onExit:z,onExiting:re,onEnter:se,onEntering:fe,onExited:U,backdropClassName:k,manager:R,renderStaticNode:M=!1,...B},G)=>{const L=A.useRef();n=Ge(n,"offcanvas");const[Qe,Be]=A.useState(!1),pe=Jl(E),Te=aj(l||"xs","up");A.useEffect(()=>{Be(l?c&&!Te:c)},[c,l,Te]);const ge=A.useMemo(()=>({onHide:pe}),[pe]);function qe(){return R||(p?(L.current||(L.current=new d1({handleContainerOverflow:!1})),L.current):nj())}const F=(ve,...Me)=>{ve&&(ve.style.visibility="visible"),se==null||se(ve,...Me)},he=(ve,...Me)=>{ve&&(ve.style.visibility=""),U==null||U(...Me)},Re=A.useCallback(ve=>O.jsx("div",{...ve,className:Ue(`${n}-backdrop`,k)}),[k,n]),be=ve=>O.jsx("div",{...ve,...B,className:Ue(e,l?`${n}-${l}`:n,`${n}-${a}`),"aria-labelledby":i,children:t});return O.jsxs(O.Fragment,{children:[!Qe&&(l||M)&&be({}),O.jsx(m1.Provider,{value:ge,children:O.jsx(Z4,{show:Qe,ref:G,backdrop:h,container:C,keyboard:f,autoFocus:P,enforceFocus:$&&!p,restoreFocus:j,restoreFocusOptions:H,onEscapeKeyDown:y,onShow:_,onHide:pe,onEnter:F,onEntering:fe,onEntered:Y,onExit:z,onExiting:re,onExited:he,manager:qe(),transition:uj,backdropTransition:cj,renderBackdrop:Re,renderDialog:be})})]})});R1.displayName="Offcanvas";const fj=Object.assign(R1,{Body:T1,Header:w1,Title:S1}),A1=A.forwardRef(({onHide:n,...e},t)=>{const i=A.useContext(eu),a=Jl(()=>{i==null||i.onToggle==null||i.onToggle(),n==null||n()});return O.jsx(fj,{ref:t,show:!!(i!=null&&i.expanded),...e,renderStaticNode:!0,onHide:a})});A1.displayName="NavbarOffcanvas";const C1=A.forwardRef(({className:n,bsPrefix:e,as:t="span",...i},a)=>(e=Ge(e,"navbar-text"),O.jsx(t,{ref:a,className:Ue(n,e),...i})));C1.displayName="NavbarText";const I1=A.forwardRef((n,e)=>{const{bsPrefix:t,expand:i=!0,variant:a="light",bg:l,fixed:c,sticky:h,className:f,as:p="nav",expanded:y,onToggle:_,onSelect:E,collapseOnSelect:C=!1,...P}=dd(n,{expanded:"onToggle"}),$=Ge(t,"navbar"),j=A.useCallback((...z)=>{E==null||E(...z),C&&y&&(_==null||_(!1))},[E,C,y,_]);P.role===void 0&&p!=="nav"&&(P.role="navigation");let H=`${$}-expand`;typeof i=="string"&&(H=`${H}-${i}`);const Y=A.useMemo(()=>({onToggle:()=>_==null?void 0:_(!y),bsPrefix:$,expanded:!!y,expand:i}),[$,y,i,_]);return O.jsx(eu.Provider,{value:Y,children:O.jsx(Ph.Provider,{value:j,children:O.jsx(p,{ref:e,...P,className:Ue(f,$,i&&H,a&&`${$}-${a}`,l&&`bg-${l}`,h&&`sticky-${h}`,c&&`fixed-${c}`)})})})});I1.displayName="Navbar";const dw=Object.assign(I1,{Brand:v1,Collapse:_1,Offcanvas:A1,Text:C1,Toggle:E1}),tu=A.forwardRef(({bsPrefix:n,variant:e,animation:t="border",size:i,as:a="div",className:l,...c},h)=>{n=Ge(n,"spinner");const f=`${n}-${t}`;return O.jsx(a,{ref:h,...c,className:Ue(l,f,i&&`${f}-${i}`,e&&`text-${e}`)})});tu.displayName="Spinner";const mw=()=>{const n=dr(),[e,t]=A.useState([]),[i,a]=A.useState(!0);return A.useEffect(()=>{(async()=>{await n.fetchProductsWithFirstVariant().then(c=>t(c)),a(!1)})()},[]),i?O.jsxs("div",{className:"text-center mt-5",children:[O.jsx(tu,{animation:"border"}),O.jsx("p",{children:"Welcome! We are loading products for you.."})]}):O.jsxs("div",{className:"home-page",children:[O.jsx("div",{className:"ad-container",children:"Advertising space"}),O.jsxs("div",{className:"header",children:[O.jsx("div",{className:"menu-title",children:"Menu"}),O.jsx("div",{className:"cart-icon-container",children:O.jsx("div",{className:"cart-icon",children:"🛒"})})]}),O.jsx("div",{className:"search-container",children:O.jsx("input",{type:"text",className:"search-input",placeholder:"Search for food..."})}),O.jsx("div",{className:"menu-container",children:O.jsx("div",{className:"menu-list",children:e==null?void 0:e.map(l=>O.jsx(CV,{...l},l.id))})})]})},hj=()=>{const n=dr(),e=Gr(),[t,i]=A.useState(""),[a,l]=A.useState("");A.useEffect(()=>{n.isLoggedIn&&e("/")},[n,e]);const c=async h=>{h.preventDefault(),console.log("login in a user...");const f=await n.singinUserWithEmailAndPass(t,a);console.log("Successfull",f)};return O.jsx("div",{className:"container mt-5",children:O.jsxs(Je,{onSubmit:c,children:[O.jsxs(Je.Group,{className:"mb-3",controlId:"formBasicEmail",children:[O.jsx(Je.Label,{children:"Email address"}),O.jsx(Je.Control,{onChange:h=>i(h.target.value),value:t,type:"email",placeholder:"Enter email"})]}),O.jsxs(Je.Group,{className:"mb-3",controlId:"formBasicPassword",children:[O.jsx(Je.Label,{children:"Password"}),O.jsx(Je.Control,{onChange:h=>l(h.target.value),value:a,type:"password",placeholder:"Password"})]}),O.jsx(Wi,{variant:"primary",type:"submit",children:"Login"})]})})},dj=()=>{const n=dr(),e=Gr(),[t,i]=A.useState(""),[a,l]=A.useState("");A.useEffect(()=>{n.isLoggedIn&&e("/")},[n,e]);const c=async h=>{h.preventDefault(),console.log("Signin up a user...");const f=await n.signupUserWithEmailAndPassword(t,a);console.log("Successfull",f)};return O.jsx("div",{className:"container mt-5",children:O.jsxs(Je,{onSubmit:c,children:[O.jsxs(Je.Group,{className:"mb-3",controlId:"formBasicEmail",children:[O.jsx(Je.Label,{children:"Email address"}),O.jsx(Je.Control,{onChange:h=>i(h.target.value),value:t,type:"email",placeholder:"Enter email"}),O.jsx(Je.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),O.jsxs(Je.Group,{className:"mb-3",controlId:"formBasicPassword",children:[O.jsx(Je.Label,{children:"Password"}),O.jsx(Je.Control,{onChange:h=>l(h.target.value),value:a,type:"password",placeholder:"Password"})]}),O.jsx(Wi,{variant:"primary",type:"submit",children:"Create Account"})]})})},mj=()=>{const n=dr(),{isAdmin:e}=n;return O.jsx(dw,{bg:"dark",variant:"dark",children:O.jsxs(YA,{children:[O.jsx(dw.Brand,{as:Rs,to:"/",children:"Menu"}),O.jsxs(So,{className:"me-auto",children:[e&&O.jsx(So.Link,{as:Rs,to:"/products/new",children:"Add New Product"}),!e&&O.jsx(So.Link,{as:Rs,to:"/cart",children:"Cart"}),!(n!=null&&n.user)&&O.jsx(So.Link,{as:Rs,to:"/register",children:"Register"}),!(n!=null&&n.user)&&O.jsx(So.Link,{as:Rs,to:"/login",children:"Login"}),(n==null?void 0:n.user)&&!e&&O.jsx(So.Link,{as:Rs,to:"/orders",children:"My orders"}),(n==null?void 0:n.isAdmin)&&O.jsx(So.Link,{as:Rs,to:"/orders/all",children:"All orders"}),(n==null?void 0:n.user)&&O.jsx("button",{onClick:async()=>{await n.logoutUser()},children:"logout"})]})]})})},pj=({label:n,options:e,selected:t,onChange:i})=>O.jsxs(Je.Group,{className:"mb-3",children:[O.jsx(Je.Label,{children:n}),O.jsx(Je.Select,{value:(t==null?void 0:t.id)||"",onChange:i,children:e.length===0?O.jsx("option",{disabled:!0,children:"No variants available"}):e.map(a=>O.jsxs("option",{value:a.id,children:[a.data().title," - ",a.data().name," (₹",a.data().priceOffer||a.data().priceOriginal,")"]},a.id))})]}),gj=()=>{const n=Gr(),e=Aw(),t=dr(),[i,a]=A.useState(1),[l,c]=A.useState(null),[h,f]=A.useState([]),[p,y]=A.useState(null),[_,E]=A.useState(null),[C,P]=A.useState(!0);A.useEffect(()=>{(async()=>{C||P(!0);const Y="products",z="variants",re=await t.getDocById(e.productId,Y);c(re.data());const se=await t.getSubCollectionAllDocuments(Y,e.productId,z);f(se.docs),se.docs.length>0&&y({id:se.docs[0].id,...se.docs[0].data()}),P(!1)})()},[e.productId,t]);const $=H=>{const Y=H.target.value,z=h.find(re=>re.id===Y);y({id:z.id,...z.data()})},j=async()=>{if(!p)return alert("Please select a variant");const H=await t.checkIsItemAlreadyInCart("shoppingCartItems",e.productId,p.id);if(console.log("BK isItemAlreadyInCart",H),H===null){const Y={quantity:i,productId:e.productId,variantId:p.id};await t.handleCreateNewDoc(Y,"shoppingCartItems"),t.displayToastMessage("Added to cart successfully!")}else t.displayToastMessage("Item already in cart!");n("/")};return C?O.jsxs("div",{className:"text-center mt-5",children:[O.jsx(tu,{animation:"border"}),O.jsx("p",{children:"loading detials.."})]}):!l||!h||!p?O.jsx("div",{className:"container mt-5",children:O.jsx(gd,{variant:"info",children:"No data found"},"info")}):O.jsxs("div",{className:"container mt-5",children:[O.jsx("h1",{children:l.name}),O.jsx("img",{src:_,width:"50%",style:{borderRadius:"10px"},alt:"Product"}),O.jsx("h1",{children:"Details"}),O.jsxs("p",{children:["Price: Rs. ",(p==null?void 0:p.priceOffer)||(p==null?void 0:p.priceOriginal)||"N/A"]}),O.jsx(pj,{label:"Select Variant",options:h,selected:p,onChange:$}),O.jsxs(Je.Group,{className:"mb-3",children:[O.jsx(Je.Label,{children:"Quantity"}),O.jsx(Je.Control,{type:"number",min:"1",value:i,onChange:H=>a(H.target.value)})]}),O.jsx(Wi,{onClick:j,variant:"primary",disabled:!(t!=null&&t.user),children:"Add to Cart"}),O.jsx("div",{className:"not-logged-in-text",children:!(t!=null&&t.user)&&"Please Login to start adding items to cart"})]})},Ro=({label:n,name:e,value:t,onChange:i,placeholder:a,type:l="text"})=>O.jsxs(Je.Group,{className:"mb-3",children:[O.jsx(Je.Label,{children:n}),O.jsx(Je.Control,{type:l,name:e,value:t,onChange:i,placeholder:a})]}),yj=()=>{const n=dr(),e=Gr();A.useEffect(()=>{n.isAdmin||e("/")},[n,e]);const t=Aw(),[i,a]=A.useState({SKU:"",title:"",name:"",priceOffer:"",priceOriginal:"",inventoryQuantity:"",status:"",productImages:[]}),l=h=>{const{name:f,value:p,type:y}=h.target;a({...i,[f]:y==="number"?parseFloat(p)||"":p})},c=async h=>{h.preventDefault();const{productId:f}=t,p={...i,productId:f};await n.handleCreateNewVariant(p),e("/")};return O.jsx("div",{className:"container mt-5",children:O.jsxs(Je,{onSubmit:c,children:[O.jsx(Ro,{label:"SKU",name:"SKU",value:i.SKU,onChange:l,placeholder:"Enter SKU"}),O.jsx(Ro,{label:"Title (Weight/Size)",name:"title",value:i.title,onChange:l,placeholder:"Enter Weight/Size"}),O.jsx(Ro,{label:"Variant Name (200gm/..)",name:"name",value:i.name,onChange:l,placeholder:"Enter Variant Name"}),O.jsx(Ro,{label:"Offer Price",name:"priceOffer",value:i.priceOffer,onChange:l,placeholder:"Enter Offer Price",type:"number"}),O.jsx(Ro,{label:"Original Price",name:"priceOriginal",value:i.priceOriginal,onChange:l,placeholder:"Enter Original Price",type:"number"}),O.jsx(Ro,{label:"Inventory Quantity",name:"inventoryQuantity",value:i.inventoryQuantity,onChange:l,placeholder:"Enter Inventory Quantity",type:"number"}),O.jsx(Ro,{label:"Status",name:"status",value:i.status,onChange:l,placeholder:"Enter Status (active/non-active)"}),O.jsx(Wi,{variant:"primary",type:"submit",children:"Create"})]})})},Xf=({label:n,name:e,value:t,onChange:i,placeholder:a})=>O.jsxs(Je.Group,{className:"mb-3",children:[O.jsx(Je.Label,{children:n}),O.jsx(Je.Control,{type:"text",name:e,value:t,onChange:i,placeholder:a})]}),vj=()=>{const n=dr(),e=Gr();A.useEffect(()=>{n.isAdmin||e("/")},[n,e]);const[t,i]=A.useState(""),a={SKU:"",name:"",description:"",productImage:"",status:""},[l,c]=A.useState(a),h=p=>{c({...l,[p.target.name]:p.target.value})},f=async p=>{p.preventDefault();const y={...l,productImage:t};await n.handleCreateNewDoc(y,"products"),c(a),n.displayToastMessage("product created successfully!"),e("/")};return O.jsx("div",{className:"container mt-5",children:O.jsxs(Je,{onSubmit:f,children:[O.jsx(Xf,{label:"SKU",name:"SKU",value:l.SKU,onChange:h,placeholder:"Enter SKU"}),O.jsx(Xf,{label:"Product Name",name:"name",value:l.name,onChange:h,placeholder:"Enter Product Name"}),O.jsx(Xf,{label:"Description",name:"description",value:l.description,onChange:h,placeholder:"Enter Description"}),O.jsxs(Je.Group,{className:"mb-3",controlId:"formBasicPassword",children:[O.jsx(Je.Label,{children:"Cover Pic"}),O.jsx(Je.Control,{onChange:p=>i(p.target.files[0]),type:"file"})]}),O.jsx(Xf,{label:"Status",name:"status",value:l.status,onChange:h,placeholder:"Enter Status (active/non-active)"}),O.jsx(Wi,{variant:"primary",type:"submit",children:"Create"})]})})},_j=n=>{const{id:e,handleRemoveDocument:t,quantity:i}=n,{name:a,description:l,status:c,productImage:h}=n==null?void 0:n.product,{variant:f}=n;console.log("BK data",n);const p=dr();Gr();const[y,_]=A.useState(null);return A.useEffect(()=>{h&&p.getImageURL(h).then(E=>_(E))},[h]),O.jsxs(bt,{style:{width:"18rem",margin:"25px"},children:[y&&O.jsx(bt.Img,{variant:"top",src:y,alt:a}),O.jsxs(bt.Body,{children:[O.jsx(bt.Title,{children:a}),O.jsx(bt.Text,{children:l}),O.jsxs(bt.Text,{children:["Status: ",O.jsx("strong",{children:c})]}),O.jsxs(bt.Text,{children:["quantity: ",i]}),O.jsxs(bt.Text,{children:["Price: ",O.jsx("strong",{children:(f==null?void 0:f.priceOriginal)||(f==null?void 0:f.priceOffer)})]}),O.jsxs(bt.Text,{children:["Total Price: ",O.jsxs("strong",{children:["INR ",i*((f==null?void 0:f.priceOriginal)||(f==null?void 0:f.priceOffer))]})]}),O.jsx(Wi,{onClick:async()=>{await t(e),p.displayToastMessage("removed successfully!")},variant:"primary",children:"Remove"})]})]})},xn=[];for(let n=0;n<256;++n)xn.push((n+256).toString(16).slice(1));function Ej(n,e=0){return(xn[n[e+0]]+xn[n[e+1]]+xn[n[e+2]]+xn[n[e+3]]+"-"+xn[n[e+4]]+xn[n[e+5]]+"-"+xn[n[e+6]]+xn[n[e+7]]+"-"+xn[n[e+8]]+xn[n[e+9]]+"-"+xn[n[e+10]]+xn[n[e+11]]+xn[n[e+12]]+xn[n[e+13]]+xn[n[e+14]]+xn[n[e+15]]).toLowerCase()}let pg;const Tj=new Uint8Array(16);function bj(){if(!pg){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");pg=crypto.getRandomValues.bind(crypto)}return pg(Tj)}const wj=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),pw={randomUUID:wj};function Sj(n,e,t){var a;if(pw.randomUUID&&!n)return pw.randomUUID();n=n||{};const i=n.random??((a=n.rng)==null?void 0:a.call(n))??bj();if(i.length<16)throw new Error("Random bytes length must be >= 16");return i[6]=i[6]&15|64,i[8]=i[8]&63|128,Ej(i)}const Rj=["123, MG Road, Bangalore, Karnataka - 560001","456, Connaught Place, New Delhi, Delhi - 110001","789, Koregaon Park, Pune, Maharashtra - 411001","101, Park Street, Kolkata, West Bengal - 700016","55, Anna Salai, Chennai, Tamil Nadu - 600002"],Aj=()=>{const n=dr(),[e,t]=A.useState([]),[i,a]=A.useState(0),[l,c]=A.useState(""),[h,f]=A.useState(Rj),[p,y]=A.useState(!0),_=async()=>{await n.fetchCartWithDetails("shoppingCartItems").then(H=>t(H)),y(!1)},E=async H=>{await n.removeDocumentWithId("shoppingCartItems",H),await _()};A.useEffect(()=>{_()},[]);const C=()=>{const H=e.reduce((Y,z)=>{var se,fe;const re=((se=z==null?void 0:z.variant)==null?void 0:se.priceOffer)||((fe=z==null?void 0:z.variant)==null?void 0:fe.priceOriginal)||0;return Y+z.quantity*re},0);a(H)};A.useEffect(()=>{e?C():a("Not found")},[e]),console.log("BK cart data",e);const P=Gr(),$=()=>Sj(),j=async()=>{var H;if(!l){n.displayToastMessage("Please select an address before placing the order.","error");return}if(e.length!==0)try{const Y=await Promise.all(e.map(async se=>{const fe={productId:se==null?void 0:se.productId,variantId:se==null?void 0:se.variantId,quantity:se==null?void 0:se.quantity};return console.log("BK finalItem",fe),(await n.handleCreateNewDoc(fe,"purchasedItems")).id})),z={orderId:$(),status:"created",finalPrice:parseFloat(i),userId:((H=n==null?void 0:n.user)==null?void 0:H.uid)||"",purchasedItems:Y,address:l,_createdDate:new Date().toISOString()},re=await n.handleCreateNewDoc(z,"orders");await Promise.all(e.map(se=>n.removeDocumentWithId("shoppingCartItems",se.id))),P("/orders"),n.displayToastMessage("Order Placed successfully!")}catch(Y){console.error("Error placing order:",Y)}};return p?O.jsxs("div",{className:"text-center mt-5",children:[O.jsx(tu,{animation:"border"}),O.jsx("p",{children:"loading Cart.."})]}):O.jsxs("div",{className:"home-page",children:[O.jsx("div",{className:"ad-container",children:"Advertising space"}),O.jsx("div",{className:"header",children:O.jsx("div",{className:"order-summary",children:"Cart"})}),!e||(e==null?void 0:e.length)===0?O.jsx(gd,{variant:"info",children:"Cart Empty!"},"info"):O.jsxs(O.Fragment,{children:[O.jsx(kw,{children:e==null?void 0:e.map(H=>O.jsx(_j,{id:H.id,handleRemoveDocument:E,...H},H.id))}),O.jsxs(Je.Group,{className:"mt-3",children:[O.jsx(Je.Label,{children:"Select Delivery Address"}),O.jsxs(Je.Select,{value:l,onChange:H=>c(H.target.value),children:[O.jsx("option",{value:"",children:"-- Select Address --"}),h.map((H,Y)=>O.jsx("option",{value:H,children:H},Y))]})]}),O.jsxs("div",{className:"final-price",children:["final price : ",i]}),O.jsx(Wi,{onClick:()=>j(),variant:"primary",children:"Place Order"})]})]})},O1=n=>{const{id:e,handleRemoveDocument:t,quantity:i}=n,{name:a,description:l,status:c,productImage:h}=n==null?void 0:n.product,{variant:f,finalPrice:p}=n;console.log("BK data",n);const y=dr();Gr();const[_,E]=A.useState(null);return A.useEffect(()=>{h&&y.getImageURL(h).then(C=>E(C))},[h]),O.jsxs(bt,{style:{width:"18rem",margin:"25px"},children:[_&&O.jsx(bt.Img,{variant:"top",src:_,alt:a}),O.jsxs(bt.Body,{children:[O.jsx(bt.Title,{children:a}),O.jsxs(bt.Text,{children:["quantity: ",i]}),O.jsxs(bt.Text,{children:["Price: ",O.jsx("strong",{children:(f==null?void 0:f.priceOriginal)||(f==null?void 0:f.priceOffer)})]}),O.jsxs(bt.Text,{children:["Total Price: ",O.jsxs("strong",{children:["INR ",p]})]})]})]})},Cj=["Created","Preparing","Ready for Pickup","Out for Delivery","Delivered","Cancelled"],Ij=()=>{const n=dr(),[e,t]=A.useState([]),[i,a]=A.useState(!0);Gr(),console.log("BK orders:",e);const l=async()=>{try{const f=await n.fetchOrders();console.log("BK fetchedOrders",f);const p=await Promise.all(f.map(async _=>{const E=await n.fetchPurchasedItemWithDetails(_.purchasedItems);return{..._,purchasedItems:E}}));console.log("BK ordersWithDetails",p);const y=p.sort((_,E)=>new Date(E._createdDate)-new Date(_._createdDate));console.log("BK sortedOrders",y),t(y)}catch(f){console.error("Error fetching orders:",f)}finally{a(!1)}};A.useEffect(()=>{l()},[n]);const c=async(f,p)=>{a(!0),await n.updateOrderStatus(f,p),await l(),a(!1)},h=f=>f?new Date(f).toLocaleString("en-GB",{year:"numeric",month:"long",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):"";return i?O.jsxs("div",{className:"text-center mt-5",children:[O.jsx(tu,{animation:"border"}),O.jsx("p",{children:"Loading orders..."})]}):e!=null&&e.length?O.jsxs("div",{className:"container mt-5",children:[O.jsx("h3",{className:"mb-4",children:"My Orders"}),e==null?void 0:e.map(f=>{var p;return O.jsxs(bt,{className:"mb-3",children:[O.jsx(bt.Header,{children:O.jsxs("h5",{children:["Order ID: ",f.orderId]})}),O.jsxs(bt.Body,{children:[O.jsxs("h6",{children:["Status:",n!=null&&n.isAdmin?O.jsx(Je.Select,{value:f.status,onChange:y=>c(f.id,y.target.value),className:"ms-2 d-inline w-auto",children:Cj.map(y=>O.jsx("option",{value:y,children:y},y))}):O.jsx("span",{className:"text-primary ms-2",children:f.status})]}),O.jsxs("h6",{children:["Final Price: ₹",f.finalPrice]}),O.jsxs("h6",{children:["Address: ",f==null?void 0:f.address]}),(f==null?void 0:f._createdDate)&&O.jsxs("h6",{children:["Created Date:"," ",h(f==null?void 0:f._createdDate)]}),O.jsx("hr",{}),O.jsx("h6",{children:"Purchased Items:"}),O.jsx(Uh,{children:(p=f.purchasedItems)==null?void 0:p.map((y,_)=>O.jsx(Uh.Item,{children:O.jsx(O1,{id:y.id,...y},y.id)},_))})]})]},f.orderId)})]}):O.jsx(gd,{variant:"warning",className:"mt-5 text-center",children:"No orders found."})},Oj=["Created","Preparing","Ready for Pickup","Out for Delivery","Delivered","Cancelled"],xj=()=>{const n=dr(),[e,t]=A.useState([]),[i,a]=A.useState(!0),l=Gr();console.log("BK orders:",e),A.useEffect(()=>{n!=null&&n.isAdmin||l("/")},[n,l]);const c=async()=>{try{const p=await n.fetchAllOrders();console.log("BK fetchedOrders",p);const y=await Promise.all(p.map(async E=>{const C=await n.fetchPurchasedItemWithDetails(E.purchasedItems);return{...E,purchasedItems:C}}));console.log("BK ordersWithDetails",y);const _=y.sort((E,C)=>new Date(C._createdDate)-new Date(E._createdDate));console.log("BK sortedOrders",_),t(_)}catch(p){console.error("Error fetching orders:",p)}finally{a(!1)}};A.useEffect(()=>{c()},[n]);const h=async(p,y)=>{a(!0),await n.updateOrderStatus(p,y),await c(),a(!1)},f=p=>p?new Date(p).toLocaleString("en-GB",{year:"numeric",month:"long",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):"";return i?O.jsxs("div",{className:"text-center mt-5",children:[O.jsx(tu,{animation:"border"}),O.jsx("p",{children:"Loading orders..."})]}):e!=null&&e.length?O.jsxs("div",{className:"container mt-5",children:[O.jsx("h3",{className:"mb-4",children:"All Orders"}),e==null?void 0:e.map(p=>{var y;return O.jsxs(bt,{className:"mb-3",children:[O.jsx(bt.Header,{children:O.jsxs("h5",{children:["Order ID: ",p.orderId]})}),O.jsxs(bt.Body,{children:[O.jsxs("h6",{children:["Status:",n!=null&&n.isAdmin?O.jsx(Je.Select,{value:p.status,onChange:_=>h(p.id,_.target.value),className:"ms-2 d-inline w-auto",children:Oj.map(_=>O.jsx("option",{value:_,children:_},_))}):O.jsx("span",{className:"text-primary ms-2",children:p.status})]}),O.jsxs("h6",{children:["Final Price: ₹",p.finalPrice]}),(p==null?void 0:p._createdDate)&&O.jsxs("h6",{children:["Created Date:"," ",f(p==null?void 0:p._createdDate)]}),O.jsxs("h6",{children:["address: ",p==null?void 0:p.address]}),O.jsx("hr",{}),O.jsx("h6",{children:"Purchased Items:"}),O.jsx(Uh,{children:(y=p.purchasedItems)==null?void 0:y.map((_,E)=>O.jsx(Uh.Item,{children:O.jsx(O1,{id:_.id,..._},_.id)},E))})]})]},p.orderId)})]}):O.jsx(gd,{variant:"warning",className:"mt-5 text-center",children:"No orders found."})},Bi=({children:n,status:e})=>{const t=dr(),i=(e==null?void 0:e.requiresAdmin)||!1,a=(e==null?void 0:e.requiresLogin)||!1;return i&&t.isAdmin||a&&t.user||!i&&!a?n:O.jsx("div",{className:"text-center mt-5",children:O.jsx("h3",{children:"Please Login to view content"})})};function Nj(){return O.jsxs("div",{children:[O.jsx(mj,{}),O.jsx(_V,{}),O.jsxs(eO,{children:[O.jsx(ui,{path:"/",element:O.jsx(Bi,{children:O.jsx(mw,{})})}),O.jsx(ui,{path:"/login",element:O.jsx(Bi,{children:O.jsx(hj,{})})}),O.jsx(ui,{path:"/register",element:O.jsx(Bi,{children:O.jsx(dj,{})})}),O.jsx(ui,{path:"/products",element:O.jsx(Bi,{children:O.jsx(mw,{})})}),O.jsx(ui,{path:"/products/new",element:O.jsx(Bi,{status:{requiresAdmin:!0},children:O.jsx(vj,{})})}),O.jsx(ui,{path:"/products/:productId",element:O.jsx(Bi,{status:{},children:O.jsx(gj,{})})}),O.jsx(ui,{path:"/products/:productId/variants/new",element:O.jsx(Bi,{status:{requiresAdmin:!0},children:O.jsx(yj,{})})}),O.jsx(ui,{path:"/cart",element:O.jsx(Bi,{status:{requiresLogin:!0},children:O.jsx(Aj,{})})}),O.jsx(ui,{path:"/orders",element:O.jsx(Bi,{status:{requiresLogin:!0},children:O.jsx(Ij,{})})}),O.jsx(ui,{path:"/orders/all",element:O.jsx(Bi,{status:{requiresAdmin:!0},children:O.jsx(xj,{})})})]})]})}const Dj="/hotel-bites";cI.createRoot(document.getElementById("root")).render(O.jsx(SO,{basename:Dj,children:O.jsx(TV,{children:O.jsx(Nj,{})})}));
